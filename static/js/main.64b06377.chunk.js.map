{"version":3,"sources":["book/apiBook.js","collection/apiCollection.js","auth/index.js","collection/CollectionsModal.js","collection/Comment.js","book/Books.js","core/Main.js","collection/Collections.js","core/Home.js","core/Menu.js","core/NavbarPage.js","user/SocialLogin.js","user/Signup.js","user/Signin.js","user/apiUser.js","user/DeleteUser.js","user/FollowProfileButton.js","user/ProfileTabs.js","user/Profile.js","user/Users.js","user/EditProfile.js","user/FindPeople.js","collection/NewCollection.js","collection/EditCollection.js","collection/SingleCollection.js","book/NewBook.js","book/EditBook.js","book/Comment.js","book/SingleBook.js","book/BooksFull.js","auth/PrivateRoute.js","user/ForgotPassword.js","user/ResetPassword.js","core/FinderTabs.js","core/Finder.js","post/Posts.js","post/apiPost.js","admin/Admin.js","MainRouter.js","App.js","index.js","images/avatar.jpg","images/mountains.jpg"],"names":["singleBook","bookId","fetch","process","method","then","response","json","catch","err","console","log","remove","token","headers","Accept","Authorization","like","userId","body","JSON","stringify","unlike","comment","uncomment","create","collection","singleCollection","collectionId","listByUserCol","addBook","removeBook","authenticate","jwt","next","window","localStorage","setItem","signout","removeItem","isAuthenticated","getItem","parse","forgotPassword","email","CollectionsModal","Component","componentDidMount","setState","show","props","book","getCollections","handleClose","e","onClose","onShowAlert","handleCloseAlert","visible","saveChanges","handleOpen","handleChange","persist","target","checked","prevState","selectedCollections","push","value","state","array","index","indexOf","splice","submitForm","event","preventDefault","form","data","FormData","collectionData","existingCollections","filter","x","includes","add","length","totalCollectionsRemoved","totalCollectionsAdded","forEach","user","_id","error","undefined","get","set","result","loadingModal","existing","books","aux","slice","collections","setTimeout","this","createdBy","name","likes","showForm","comments","loading","className","Alert","color","Modal","onHide","Header","closeButton","Title","Form","onSubmit","Body","map","i","key","Group","Check","onChange","type","label","defaultChecked","icon","privacy","faLock","faLockOpen","Button","variant","onClick","showCreate","faPlus","controlId","Label","Control","placeholder","as","Footer","Books","loadBooks","page","list","showModal","loadMore","number","loadLess","renderBooks","bookerId","bookerName","style","padding","faEllipsisH","src","photo","alt","title","onError","DefaultBook","height","width","editorial","substring","to","Date","created","toDateString","Main","search","go","clickSearch","redirectToSignin","backgroundImage","opacity","faSearch","size","pathname","Collections","loadCollections","renderCollections","collectionerId","collectionerName","DefaultCollection","about","Home","isActive","history","path","location","withRouter","NavDropdown","id","Item","href","Fragment","role","cursor","Navbar","collapseOnSelect","expand","bg","Brand","faBookOpen","Toggle","aria-controls","Collapse","Nav","Link","faBook","faStream","faUser","faSignOutAlt","SocialLogin","responseGoogle","socialLogin","tokenId","redirectToReferrer","clientId","buttonText","onSuccess","onFailure","cookiePolicy","Signup","recaptchaHandler","dayCount","userDay","toLowerCase","getDay","recaptcha","clickSubmit","password","signup","open","signupForm","display","Signin","signin","redirectToReferer","signinForm","read","follow","followId","unfollow","unfollowId","DeleteUser","redirect","deleteAccount","deleteConfirmed","confirm","FollowProfileButton","followClick","onButtonClick","unfollowClick","following","ProfileTabs","followers","followedCollections","person","borderRadius","border","DefaultProfile","Profile","checkFollow","find","follower","clickFollowButton","callApi","init","listByUser","loadFollowedCollections","match","params","photoUrl","getTime","class","Users","renderUsers","users","EditProfile","redirectToProfile","isValid","fileSize","test","files","userData","update","auth","updateUser","accept","FindPeople","clickFollow","toFollow","followMessage","findPeople","NewCollection","tags","newCollectionForm","setTags","EditCollection","SingleCollection","follows","checkLike","redirectToHome","updateComments","completed","likeToggle","deleteCollection","deleteBookConfirmed","faMinus","renderCollection","namee","objectFit","faPen","faTrash","faThumbsUp","followToggle","hidden","isbnNPM","require","NewBook","language","isbn","isUnique","isbnClean","replace","findByISBN","errorURL","bookData","checkISBN","check","chars","split","last","pop","sum","reverse","parseInt","handleChangeISBN","a","cleanISBN","resolve","responseData","publisher","illustrator","redirectToNewBook","message","errors","globalError","newBookForm","EditBook","hideImg","post","editBookForm","readOnly","Comment","text","addComment","deleteComment","SingleBook","deleteBook","renderBook","faPlusCircle","BooksFull","PrivateRoute","component","rest","render","from","ForgotPassword","autoFocus","ResetPassword","resetPassword","resetInfo","newPassword","resetPasswordLink","resetPasswordToken","FinderTabs","Finder","loadUsers","findBooks","findCollections","findUsers","searchData","Posts","loadPosts","posts","renderPosts","posterId","postedBy","posterName","DefaultPost","Admin","MainRouter","exact","App","ReactDOM","basename","document","getElementById","module","exports"],"mappings":"gRAkEaA,EAAa,SAAAC,GACtB,OAAOC,MAAM,GAAD,OAAIC,kDAAJ,iBAA0CF,GAAU,CAC5DG,OAAQ,QAEPC,MAAK,SAAAC,GACF,OAAOA,EAASC,UAEnBC,OAAM,SAAAC,GAAG,OAAIC,QAAQC,IAAIF,OAkBrBG,EAAS,SAACX,EAAQY,GAC3B,OAAOX,MAAM,GAAD,OAAIC,kDAAJ,iBAA0CF,GAAU,CAC5DG,OAAQ,SACRU,QAAS,CACLC,OAAQ,mBACR,eAAgB,mBAChBC,cAAc,UAAD,OAAYH,MAG5BR,MAAK,SAAAC,GACF,OAAOA,EAASC,UAEnBC,OAAM,SAAAC,GAAG,OAAIC,QAAQC,IAAIF,OAmBrBQ,EAAO,SAACC,EAAQL,EAAOZ,GAChC,OAAOC,MAAM,GAAD,OAAIC,kDAAJ,cAA+C,CACvDC,OAAQ,MACRU,QAAS,CACLC,OAAQ,mBACR,eAAgB,mBAChBC,cAAc,UAAD,OAAYH,IAE7BM,KAAMC,KAAKC,UAAU,CAAEH,SAAQjB,aAE9BI,MAAK,SAAAC,GACF,OAAOA,EAASC,UAEnBC,OAAM,SAAAC,GAAG,OAAIC,QAAQC,IAAIF,OAGrBa,EAAS,SAACJ,EAAQL,EAAOZ,GAClC,OAAOC,MAAM,GAAD,OAAIC,kDAAJ,gBAAiD,CACzDC,OAAQ,MACRU,QAAS,CACLC,OAAQ,mBACR,eAAgB,mBAChBC,cAAc,UAAD,OAAYH,IAE7BM,KAAMC,KAAKC,UAAU,CAAEH,SAAQjB,aAE9BI,MAAK,SAAAC,GACF,OAAOA,EAASC,UAEnBC,OAAM,SAAAC,GAAG,OAAIC,QAAQC,IAAIF,OAGrBc,EAAU,SAACL,EAAQL,EAAOZ,EAAQsB,GAC3C,OAAOrB,MAAM,GAAD,OAAIC,kDAAJ,iBAAkD,CAC1DC,OAAQ,MACRU,QAAS,CACLC,OAAQ,mBACR,eAAgB,mBAChBC,cAAc,UAAD,OAAYH,IAE7BM,KAAMC,KAAKC,UAAU,CAAEH,SAAQjB,SAAQsB,cAEtClB,MAAK,SAAAC,GACF,OAAOA,EAASC,UAEnBC,OAAM,SAAAC,GAAG,OAAIC,QAAQC,IAAIF,OAGrBe,EAAY,SAACN,EAAQL,EAAOZ,EAAQsB,GAC7C,OAAOrB,MAAM,GAAD,OAAIC,kDAAJ,mBAAoD,CAC5DC,OAAQ,MACRU,QAAS,CACLC,OAAQ,mBACR,eAAgB,mBAChBC,cAAc,UAAD,OAAYH,IAE7BM,KAAMC,KAAKC,UAAU,CAAEH,SAAQjB,SAAQsB,cAEtClB,MAAK,SAAAC,GACF,OAAOA,EAASC,UAEnBC,OAAM,SAAAC,GAAG,OAAIC,QAAQC,IAAIF,O,iDCvLrBgB,EAAS,SAACP,EAAQL,EAAOa,GAClC,OAAOxB,MAAM,GAAD,OAAIC,kDAAJ,2BAAoDe,GAAU,CACtEd,OAAQ,OACRU,QAAS,CACLC,OAAQ,mBACRC,cAAc,UAAD,OAAYH,IAE7BM,KAAMO,IAELrB,MAAK,SAAAC,GACF,OAAOA,EAASC,UAEnBC,OAAM,SAAAC,GAAG,OAAIC,QAAQC,IAAIF,OA2BrBkB,EAAmB,SAAAC,GAC5B,OAAO1B,MAAM,GAAD,OAAIC,kDAAJ,uBAAgDyB,GAAgB,CACxExB,OAAQ,QAEPC,MAAK,SAAAC,GAEF,OADAI,QAAQC,IAAIL,GACLA,EAASC,UAEnBC,OAAM,SAAAC,GAAG,OAAIC,QAAQC,IAAIF,OAGrBoB,EAAgB,SAACX,EAAQL,GAClC,OAAOX,MAAM,GAAD,OAAIC,kDAAJ,2BAAoDe,GAAU,CACtEd,OAAQ,MACRU,QAAS,CACLC,OAAQ,mBACR,eAAgB,mBAChBC,cAAc,UAAD,OAAYH,MAG5BR,MAAK,SAAAC,GACF,OAAOA,EAASC,UAEnBC,OAAM,SAAAC,GAAG,OAAIC,QAAQC,IAAIF,OAGrBG,EAAS,SAACgB,EAAcf,GACjC,OAAOX,MAAM,GAAD,OAAIC,kDAAJ,8BAAuDyB,GAAgB,CAC/ExB,OAAQ,SACRU,QAAS,CACLC,OAAQ,mBACR,eAAgB,mBAChBC,cAAc,UAAD,OAAYH,MAG5BR,MAAK,SAAAC,GACF,OAAOA,EAASC,UAEnBC,OAAM,SAAAC,GAAG,OAAIC,QAAQC,IAAIF,OAkBrBQ,EAAO,SAACC,EAAQL,EAAOe,GAChC,OAAO1B,MAAM,GAAD,OAAIC,kDAAJ,oBAAqD,CAC7DC,OAAQ,MACRU,QAAS,CACLC,OAAQ,mBACR,eAAgB,mBAChBC,cAAc,UAAD,OAAYH,IAE7BM,KAAMC,KAAKC,UAAU,CAAEH,SAAQU,mBAE9BvB,MAAK,SAAAC,GACF,OAAOA,EAASC,UAEnBC,OAAM,SAAAC,GAAG,OAAIC,QAAQC,IAAIF,OAGrBa,EAAS,SAACJ,EAAQL,EAAOe,GAClC,OAAO1B,MAAM,GAAD,OAAIC,kDAAJ,sBAAuD,CAC/DC,OAAQ,MACRU,QAAS,CACLC,OAAQ,mBACR,eAAgB,mBAChBC,cAAc,UAAD,OAAYH,IAE7BM,KAAMC,KAAKC,UAAU,CAAEH,SAAQU,mBAE9BvB,MAAK,SAAAC,GACF,OAAOA,EAASC,UAEnBC,OAAM,SAAAC,GAAG,OAAIC,QAAQC,IAAIF,OAGrBc,EAAU,SAACL,EAAQL,EAAOe,EAAcL,GACjD,OAAOrB,MAAM,GAAD,OAAIC,kDAAJ,uBAAwD,CAChEC,OAAQ,MACRU,QAAS,CACLC,OAAQ,mBACR,eAAgB,mBAChBC,cAAc,UAAD,OAAYH,IAE7BM,KAAMC,KAAKC,UAAU,CAAEH,SAAQU,eAAcL,cAE5ClB,MAAK,SAAAC,GACF,OAAOA,EAASC,UAEnBC,OAAM,SAAAC,GAAG,OAAIC,QAAQC,IAAIF,OAGrBe,EAAY,SAACN,EAAQL,EAAOe,EAAcL,GACnD,OAAOrB,MAAM,GAAD,OAAIC,kDAAJ,yBAA0D,CAClEC,OAAQ,MACRU,QAAS,CACLC,OAAQ,mBACR,eAAgB,mBAChBC,cAAc,UAAD,OAAYH,IAE7BM,KAAMC,KAAKC,UAAU,CAAEH,SAAQU,eAAcL,cAE5ClB,MAAK,SAAAC,GACF,OAAOA,EAASC,UAEnBC,OAAM,SAAAC,GAAG,OAAIC,QAAQC,IAAIF,OAarBqB,EAAU,SAACZ,EAAQL,EAAOe,EAAc3B,GACjD,OAAOC,MAAM,GAAD,OAAIC,kDAAJ,oBAAqD,CAC7DC,OAAQ,MACRU,QAAS,CACLC,OAAQ,mBACR,eAAgB,mBAChBC,cAAc,UAAD,OAAYH,IAE7BM,KAAMC,KAAKC,UAAU,CAAEH,SAAQU,eAAc3B,aAE5CI,MAAK,SAAAC,GACF,OAAOA,EAASC,UAEnBC,OAAM,SAAAC,GAAG,OAAIC,QAAQC,IAAIF,OAGrBsB,EAAa,SAACb,EAAQL,EAAOe,EAAc3B,GACpD,OAAOC,MAAM,GAAD,OAAIC,kDAAJ,sBAAuD,CAC/DC,OAAQ,MACRU,QAAS,CACLC,OAAQ,mBACR,eAAgB,mBAChBC,cAAc,UAAD,OAAYH,IAE7BM,KAAMC,KAAKC,UAAU,CAAEH,SAAQU,eAAc3B,aAE5CI,MAAK,SAAAC,GACF,OAAOA,EAASC,UAEnBC,OAAM,SAAAC,GAAG,OAAIC,QAAQC,IAAIF,O,mCCxKrBuB,EAAe,SAACC,EAAKC,GACR,qBAAXC,SACPC,aAAaC,QAAQ,MAAOjB,KAAKC,UAAUY,IAC3CC,MAWKI,EAAU,SAAAJ,GAGnB,MAFsB,qBAAXC,QAAwBC,aAAaG,WAAW,OAC3DL,IACOhC,MAAM,GAAD,OAAIC,kDAAJ,YAA6C,CACrDC,OAAQ,QAEPC,MAAK,SAAAC,GAEF,OADAI,QAAQC,IAAI,UAAWL,GAChBA,EAASC,UAEnBC,OAAM,SAAAC,GAAG,OAAIC,QAAQC,IAAIF,OAGrB+B,EAAkB,WAC3B,MAAqB,oBAAVL,WAIPC,aAAaK,QAAQ,QACdrB,KAAKsB,MAAMN,aAAaK,QAAQ,UAMlCE,EAAiB,SAAAC,GAE1B,OADAlC,QAAQC,IAAI,UAAWiC,GAChB1C,MAAM,GAAD,OAAIC,kDAAJ,qBAAsD,CAC9DC,OAAQ,MACRU,QAAS,CACLC,OAAQ,mBACR,eAAgB,oBAEpBI,KAAMC,KAAKC,UAAU,CAAEuB,YAEtBvC,MAAK,SAAAC,GAEF,OADAI,QAAQC,IAAI,6BAA8BL,GACnCA,EAASC,UAEnBC,OAAM,SAAAC,GAAG,OAAIC,QAAQC,IAAIF,O,iBC6MnBoC,GC1ROC,Y,kDDQlB,aAAe,IAAD,8BACV,gBAWRC,kBAAoB,WACf,EAAKC,SAAS,CAACC,KAAM,EAAKC,MAAMD,KAAME,KAAM,EAAKD,MAAMC,OACxD,EAAKC,kBAdS,EAuBlBC,YAAc,SAACC,GACX5C,QAAQC,IAAI,MACR,EAAKqC,SAAS,CAACC,MAAM,IAAQ,WACzB,EAAKC,MAAMK,SAAW,EAAKL,MAAMK,QAAQD,GACzC,EAAKE,kBA3BC,EAkClBD,QAAU,SAAAD,GACN,EAAKJ,MAAMD,MAAO,GAnCJ,EAsClBQ,iBAAmB,SAACH,GAChB,EAAKN,SAAS,CAACU,SAAS,IACxB,EAAKR,MAAMK,SAAW,EAAKL,MAAMK,QAAQD,IAxC3B,EA2ClBK,YAAc,WAEV,EAAKN,eA7CS,EAgDlBO,WAAa,WACT,EAAKR,kBAjDS,EAoDlBS,aAAe,SAACP,GAGZ,GAFAA,EAAEQ,UAECR,EAAES,OAAOC,QAGZ,EAAKhB,UAAS,SAAAiB,GAAS,OACEA,EAAUC,oBAAoBC,KAAKb,EAAES,OAAOK,OAChE1D,QAAQC,IAAI,EAAK0D,MAAMH,4BAErB,CACC,IAAII,EAAK,YAAQ,EAAKD,MAAMH,qBACxBK,EAAQ,EAAKF,MAAMH,oBAAoBM,QAAQlB,EAAES,OAAOK,OAC5D,IAAe,IAAXG,EAAc,CAClBD,EAAQA,EAAMG,OAAO,EAAGF,GAIxB,EAAKvB,UAAS,SAAAiB,GAAS,OACEA,EAAUC,oBAAoBO,OAAOF,EAAM,GAC/D7D,QAAQC,IAAI,EAAK0D,MAAMH,2BAxEtB,EAgFlBQ,WAAa,SAACC,GACVA,EAAMC,iBACN,IAAMC,EAAOF,EAAMZ,OACbe,EAAO,IAAIC,SAASF,GAC1B,EAAKG,eAAiB,IAAID,SAC1B,IAAInE,EAAS,EAAKyD,MAAMY,oBAAoBC,QAAO,SAAAC,GAAC,OAAK,EAAKd,MAAMH,oBAAoBkB,SAASD,MAC7FE,EAAM,EAAKhB,MAAMH,oBAAoBgB,QAAO,SAAAC,GAAC,OAAI,EAAKd,MAAMY,oBAAoBG,SAASD,MAC7FzE,QAAQC,IAAI0E,EAAIC,QAChB,EAAKtC,SAAS,CAACuC,wBAAyB3E,EAAO0E,OAAQE,sBAAuBH,EAAIC,SAElFD,EAAII,SAAQ,SAAA/D,GACRI,EAAQU,IAAkBkD,KAAKC,IAAKnD,IAAkB3B,MAAOa,EAAY,EAAKwB,MAAMC,KAAKwC,KACxFtF,MAAK,SAAAyE,GACEA,EAAKc,MACLlF,QAAQC,IAAImE,EAAKc,OAEjBlF,QAAQC,IAAImE,SAOxBlE,EAAO6E,SAAQ,SAAA/D,GACXK,EAAWS,IAAkBkD,KAAKC,IAAKnD,IAAkB3B,MAAOa,EAAY,EAAKwB,MAAMC,KAAKwC,KAC3FtF,MAAK,SAAAyE,GACEA,EAAKc,MACLlF,QAAQC,IAAImE,EAAKc,OAEjBlF,QAAQC,IAAImE,cAMUe,GAA9Bf,EAAKgB,IAAI,mBACT,EAAKd,eAAee,IAAI,OAAQjB,EAAKgB,IAAI,mBACzC,EAAKd,eAAee,IAAI,UAAWjB,EAAKgB,IAAI,sBAC5CrE,EAAOe,IAAkBkD,KAAKC,IAAKnD,IAAkB3B,MAAO,EAAKmE,gBAChE3E,MAAK,SAAAyE,GACEA,EAAKc,MACLlF,QAAQC,IAAImE,EAAKc,OAGb9D,EAAQU,IAAkBkD,KAAKC,IAAKnD,IAAkB3B,MAAOiE,EAAKa,IAAK,EAAKzC,MAAMC,KAAKwC,KACtFtF,MAAK,SAAA2F,GACEA,EAAOJ,MACPlF,QAAQC,IAAIqF,EAAOJ,QAEnBlF,QAAQC,IAAIqF,GACZ,EAAK3C,sBAOzB,EAAKA,eAzIK,EA+IlBD,eAAiB,WAEb,EAAKJ,SAAS,CAAEiD,cAAc,IAC9B,IAAM/E,EAASsB,IAAkBkD,KAAKC,IAC/B9E,EAAS2B,IAAT3B,MACHqF,EAAW,GACTjG,EAAS,EAAKiD,MAAMC,KAAKwC,IAC/BjF,QAAQC,IAAI,EAAKuC,MAAMC,MACvBtB,EAAcX,EAAOL,GACpBR,MAAK,SAAAyE,GACF,GAAGA,EAAKc,MACJlF,QAAQC,IAAImE,EAAKc,WACd,CACHlF,QAAQC,IAAImE,GACZA,EAAKW,SAAQ,SAAA/D,GAETA,EAAWyE,MAAMV,SAAQ,SAAAtC,GAClBA,EAAKwC,MAAQ1F,GACZiG,EAAS/B,KAAKzC,EAAWiE,WAOrC,IAAMS,EAAMF,EAASG,QACrB3F,QAAQC,IAAIuF,GACZ,EAAKlD,SAAS,CAACsD,YAAaxB,EAAMZ,oBAAqBgC,EAASG,QAASJ,cAAc,IACvF,EAAKjD,SAAS,CAACiC,oBAAqBmB,EAAIC,eA3KlC,EAiLlB7C,YAAc,WACV,EAAKR,SAAS,CAACU,SAAQ,IAAM,WAC3BvB,OAAOoE,YAAW,WAChB,EAAKvD,SAAS,CAACU,SAAQ,MACvB,SAnLA,EAAKW,MAAL,aACIiC,YAAa,GACbrD,MAAM,EACNE,KAAM,GACNO,SAAS,EACT6B,wBAAyB,GAL7B,0BAM6B,GARnB,E,iEAkBViB,KAAKnC,MAAMpB,OAASuD,KAAKtD,MAAMD,MAC/BuD,KAAKxD,SAAS,CAACC,KAAMuD,KAAKtD,MAAMD,S,+BAsK7B,IAAD,OACN,IAAIuD,KAAKtD,MAAMD,KACX,OAAO,KAEMuD,KAAKnC,MAAMlB,KAAKsD,WAAhB,gBAAqCD,KAAKnC,MAAMlB,KAAKsD,UAAUd,KAC7Da,KAAKnC,MAAMlB,KAAKsD,WAAYD,KAAKnC,MAAMlB,KAAKsD,UAAUC,KADzE,IAJM,EAQmKF,KAAKnC,MAAzJpB,GARf,EAQEhC,KARF,EAQQ0F,MARR,EAQe1D,MAAMqD,EARrB,EAQqBA,YAAaM,EARlC,EAQkCA,SAA6BX,GAR/D,EAQ4CY,SAR5C,EAQsDC,QARtD,EAQ+Db,cAAoBvC,GARnF,EAQ6EP,KAR7E,EAQmFO,SAASQ,EAR5F,EAQ4FA,oBAR5F,EAQiHsB,sBARjH,EAQwID,wBAC/I,OACI,oCAED,yBAAKwB,UAAU,OACf,kBAACC,EAAA,EAAD,CAAOC,MAAM,OAAOhE,KAAMS,GAA1B,iDAWF,kBAACwD,EAAA,EAAD,CAAOjE,KAAMA,EAAM8D,UAAU,UAAUI,OAAQX,KAAKnD,aACpD,kBAAC6D,EAAA,EAAME,OAAP,CAAcC,aAAW,GACzB,kBAACH,EAAA,EAAMI,MAAP,6BAEJ,kBAACC,EAAA,EAAD,CAAMC,SAAUhB,KAAK9B,YACrB,kBAACwC,EAAA,EAAMO,KAAP,KACCxB,GAAsC,GAAtBK,EAAYhB,OAC1B,kBAAC4B,EAAA,EAAMI,MAAP,mBAGHhB,EAAYoB,KAAI,SAAChG,EAAYiG,GAAb,OACJ,yBAAKC,IAAKD,GACV,kBAACJ,EAAA,EAAKM,MAAN,KACI,yBAAKd,UAAU,OACX,yBAAKA,UAAU,UACf,kBAACQ,EAAA,EAAKO,MAAN,CAAYf,UAAU,OAAOgB,SAAU,EAAKlE,aAAcO,MAAO1C,EAAWiE,IAAKqC,KAAK,WAAWtB,KAAMhF,EAAWiE,IAAKsC,MAAOvG,EAAWgF,KAAMwB,eAAgBhE,EAAoBkB,SAAS1D,EAAWiE,QAEvM,yBAAKoB,UAAU,SACf,kBAAC,IAAD,CAAiBoB,KAA0B,WAApBzG,EAAW0G,QAAqBC,IAASC,aAQpF,wBAAIvB,UAAU,WACZH,EAAW,KACb,kBAAC2B,EAAA,EAAD,CAAQC,QAAQ,YAAYC,QAASjC,KAAKkC,YAAY,kBAAC,IAAD,CAAiB3B,UAAU,OAAOoB,KAAMQ,MAA9F,qBAIG/B,EACH,oCACA,kBAACW,EAAA,EAAKM,MAAN,CAAYe,UAAU,kBACd,kBAACrB,EAAA,EAAKsB,MAAN,CAAY9B,UAAU,IAAtB,QACA,kBAACQ,EAAA,EAAKuB,QAAN,CAAcd,KAAK,OAAOtB,KAAK,iBAAiBqC,YAAY,qBAEpE,kBAACxB,EAAA,EAAKM,MAAN,CAAYe,UAAU,qBAClB,kBAACrB,EAAA,EAAKsB,MAAN,gBACA,kBAACtB,EAAA,EAAKuB,QAAN,CAAcE,GAAG,SAAStC,KAAK,qBAC3B,4BAAQtC,MAAM,WAAd,WACA,4BAAQA,MAAM,UAAd,UACA,4BAAQA,MAAM,iBAAd,0BAXM,MAiBd,kBAAC8C,EAAA,EAAM+B,OAAP,KACI,kBAACV,EAAA,EAAD,CAAQC,QAAQ,YAAYC,QAASjC,KAAKnD,aAA1C,SAGJ,kBAACkF,EAAA,EAAD,CAAQC,QAAQ,UAAUR,KAAK,UAA/B,wB,GAvQ+BlF,cEiJhBoG,E,kDAlJX,aAAe,IAAD,8BACV,gBASJC,UAAY,SAAAC,ILsBI,SAAAA,GAChB,OAAOlJ,MAAM,GAAD,OAAIC,kDAAJ,wBAAiDiJ,GAAQ,CACjEhJ,OAAQ,QAEXC,MAAK,SAAAC,GACE,OAAOA,EAASC,UAEvBC,OAAM,SAAAC,GAAG,OAAIC,QAAQC,IAAIF,OK5BtB4I,CAAKD,GAAM/I,MAAK,SAAAyE,GACPA,EAGD,EAAK9B,SAAS,CAAEmD,MAAOrB,IAFvB,EAAK9B,SAAS,CAAEmD,MAAO,SAbrB,EAsBdvC,WAAa,WACT,EAAKZ,SAAS,CAACC,MAAM,IACrBvC,QAAQC,IAAI,YAxBF,EA2Bd2I,UAAY,SAAAhG,GACR5C,QAAQC,IAAI2C,GACZ,EAAKN,SAAS,CACZC,MAAO,EAAKoB,MAAMpB,QA9BV,EAsCdsG,SAAW,SAAAC,GACP,EAAKxG,SAAS,CAAEoG,KAAM,EAAK/E,MAAM+E,KAAOI,IACxC,EAAKL,UAAU,EAAK9E,MAAM+E,KAAOI,IAxCvB,EA2CdC,SAAW,SAAAD,GACP,EAAKxG,SAAS,CAAEoG,KAAM,EAAK/E,MAAM+E,KAAOI,IACxC,EAAKL,UAAU,EAAK9E,MAAM+E,KAAOI,IA7CvB,EAgDdE,YAAc,SAAAvD,GAAU,IACZlD,EAAQ,EAAKoB,MAAbpB,KAER,OACI,yBAAK8D,UAAU,OACVZ,EAAMuB,KAAI,SAACvE,EAAMwE,GACd,IAAMgC,EAAWxG,EAAKsD,UAAL,gBACFtD,EAAKsD,UAAUd,KACxB,GACAiE,EAAazG,EAAKsD,UAClBtD,EAAKsD,UAAUC,KACf,WAEN,OACI,yBAAKK,UAAU,0BAA0Ba,IAAKD,GAC1C,yBAAKZ,UAAU,aACVvE,IAAkBkD,KACnB,yBAAKqB,UAAU,2BACf,yBAAKA,UAAU,SACX,kBAAC,EAAD,CAAkB9D,KAAMA,EAAMM,QAAS,EAAK+F,UAAWnG,KAAMA,EAAKwC,MAClE,4BAAQoB,UAAU,MAAM8C,MAAO,CAACC,QAAQ,GAAIrB,QAAS,EAAK7E,WAAY4E,QAAQ,WAC1E,kBAAC,IAAD,CAAiBL,KAAM4B,SAI3B,KAEJ,yBACIC,IAAK7G,EAAK8G,MACVC,IAAK/G,EAAKgH,MACVC,QAAS,SAAAzC,GAAC,OACLA,EAAE5D,OAAOiG,IAAT,UAAkBK,MAEvBtD,UAAU,qBACV8C,MAAO,CAAES,OAAQ,QAASC,MAAO,UAErC,wBAAIxD,UAAU,cAAc5D,EAAKgH,OACjC,uBAAGpD,UAAU,aACR5D,EAAKqH,UAAUC,UAAU,EAAG,MAEjC,6BACA,uBAAG1D,UAAU,eAAb,YACc,IACV,kBAAC,IAAD,CAAM2D,GAAE,UAAKf,IACRC,EAAY,KAHrB,MAKQ,IAAIe,KAAKxH,EAAKyH,SAASC,gBAE/B,kBAAC,IAAD,CACIH,GAAE,gBAAWvH,EAAKwC,KAClBoB,UAAU,qCAFd,oBA9FxB,EAAK1C,MAAQ,CACT8B,MAAO,GACPiD,KAAM,EACNnG,MAAM,EACNS,SAAS,GANH,E,gEAmCV8C,KAAK2C,UAAU3C,KAAKnC,MAAM+E,Q,+BA2EpB,IAAD,SACmB5C,KAAKnC,MAArB8B,EADH,EACGA,MAAOiD,EADV,EACUA,KACf,OACI,yBAAKrC,UAAU,aACX,wBAAIA,UAAU,aACRZ,EAAMb,OAA4B,eAAnB,kBAGpBkB,KAAKkD,YAAYvD,GAEjBiD,EAAO,EACJ,4BACIrC,UAAU,4CACV0B,QAAS,kBAAM,EAAKgB,SAAS,KAFjC,aAIejD,KAAKnC,MAAM+E,KAAO,EAJjC,KAOA,GAGHjD,EAAMb,OACH,4BACIyB,UAAU,uCACV0B,QAAS,kBAAM,EAAKc,SAAS,KAFjC,SAIWH,EAAO,EAJlB,KAOA,Q,GA5IAtG,aCmELgI,E,4MAtEXzG,MAAQ,CACJ0G,OAAQ,GACRC,IAAI,G,EAIRC,YAAc,SAACtG,GAEf,EAAK3B,SAAS,CAACgI,IAAI,K,EASjBnH,aAAe,SAAA6C,GAAI,OAAI,SAAA/B,GACrB,EAAK3B,SAAS,CAAE4C,MAAO,KACvB,IAAMxB,EAAQO,EAAMZ,OAAOK,MAE3B,EAAKpB,SAAL,eAAiB0D,EAAOtC,M,uDAM5B,GAD6BoC,KAAKnC,MAA1B6G,iBACc,OAAO,kBAAC,IAAD,CAAUR,GAAG,YAQ1C,OAGI,yBAAKb,MATQ,CACb5C,MAAO,UACPkE,gBAAiB,oHACjBC,QAAS,KAOT,yBAAKrE,UAAU,8BACf,yBAAKA,UAAU,uCACX,yBAAKiD,IAAI,KACT,0BAAMjD,UAAU,gBACZ,yBAAKA,UAAU,+CACf,yBAAKA,UAAU,OACS,2BAAOA,UAAU,uDAAuDgB,SAAUvB,KAAK3C,aAAa,UAAWmE,KAAK,SAASe,YAAY,iDAE7I,yBAAKhC,UAAU,YACX,4BAAQA,UAAU,kBAAkB0B,QAASjC,KAAKyE,aAAa,kBAAC,IAAD,CAAiB9C,KAAMkD,IAAUC,KAAK,aAMxI9E,KAAKnC,MAAM2G,IACA,kBAAC,IAAD,CAAUN,GAAI,CACZa,SAAU,UACVlH,MAAO,CAAE0G,OAAQvE,KAAKnC,MAAM0G,gB,GA1D3BjI,aCoHJ0I,E,kDArHX,aAAe,IAAD,8BACV,gBAOJC,gBAAkB,SAAArC,INeF,SAAAA,GAChB,OAAOlJ,MAAM,GAAD,OAAIC,kDAAJ,8BAAuDiJ,GAAQ,CACvEhJ,OAAQ,QAEXC,MAAK,SAAAC,GACE,OAAOA,EAASC,UAEvBC,OAAM,SAAAC,GAAG,OAAIC,QAAQC,IAAIF,OMrBtB4I,CAAKD,GAAM/I,MAAK,SAAAyE,GACPA,EAGD,EAAK9B,SAAS,CAAEsD,YAAaxB,IAF7B,EAAK9B,SAAS,CAAEsD,YAAa,SAX3B,EAsBdiD,SAAW,SAAAC,GACP,EAAKxG,SAAS,CAAEoG,KAAM,EAAK/E,MAAM+E,KAAOI,IACxC,EAAKiC,gBAAgB,EAAKpH,MAAM+E,KAAOI,IAxB7B,EA2BdC,SAAW,SAAAD,GACP,EAAKxG,SAAS,CAAEoG,KAAM,EAAK/E,MAAM+E,KAAOI,IACxC,EAAKiC,gBAAgB,EAAKpH,MAAM+E,KAAOI,IA7B7B,EAgCdkC,kBAAoB,SAAApF,GAChB,OACI,yBAAKS,UAAU,OACVT,EAAYoB,KAAI,SAAChG,EAAYiG,GAC1B,IAAMgE,EAAiBjK,EAAW+E,UAAX,gBACR/E,EAAW+E,UAAUd,KAC9B,GACAiG,EAAmBlK,EAAW+E,UAC9B/E,EAAW+E,UAAUC,KACrB,WAEN,OACI,yBAAKK,UAAU,iBAAiBa,IAAKD,GACjC,yBAAKZ,UAAU,aACX,yBACIiD,IAAKtI,EAAWuI,MAChBC,IAAKxI,EAAWgF,KAChB0D,QAAS,SAAAzC,GAAC,OACLA,EAAE5D,OAAOiG,IAAT,UAAkB6B,MAEvB9E,UAAU,qBACV8C,MAAO,CAAES,OAAQ,QAASC,MAAO,UAErC,wBAAIxD,UAAU,aAAarF,EAAWgF,MACtC,uBAAGK,UAAU,aACRrF,EAAWoK,MAAQpK,EAAWoK,MAAMrB,UAAU,EAAG,KAAO,MAE7D,6BACA,uBAAG1D,UAAU,eAAb,aACe,IACX,kBAAC,IAAD,CAAM2D,GAAE,UAAKiB,IACRC,EAAkB,KAH3B,MAKQ,IAAIjB,KAAKjJ,EAAWkJ,SAASC,gBAErC,kBAAC,IAAD,CACIH,GAAE,sBAAiBhJ,EAAWiE,KAC9BoB,UAAU,qCAFd,oBAjExB,EAAK1C,MAAQ,CACTiC,YAAa,GACb8C,KAAM,GAJA,E,gEAmBV5C,KAAKiF,gBAAgBjF,KAAKnC,MAAM+E,Q,+BA8D1B,IAAD,SACyB5C,KAAKnC,MAA3BiC,EADH,EACGA,YAAa8C,EADhB,EACgBA,KACrB,OACI,yBAAKrC,UAAU,wBACX,wBAAIA,UAAU,aACRT,EAAYhB,OAAkC,qBAAzB,wBAG1BkB,KAAKkF,kBAAkBpF,GAEvB8C,EAAO,EACJ,4BACIrC,UAAU,4CACV0B,QAAS,kBAAM,EAAKgB,SAAS,KAFjC,aAIejD,KAAKnC,MAAM+E,KAAO,EAJjC,KAOA,GAGH9C,EAAYhB,OACT,4BACIyB,UAAU,uCACV0B,QAAS,kBAAM,EAAKc,SAAS,KAFjC,SAIWH,EAAO,EAJlB,KAOA,Q,GA/GMtG,aCQXiJ,EARF,kBACX,6BACI,kBAAC,EAAD,MACA,kBAAC,EAAD,MACA,kBAAC,EAAD,Q,SCHAC,GAAW,SAACC,EAASC,GACvB,OAAID,EAAQE,SAASZ,WAAaW,EAAa,CAAEjF,MAAO,WAC5C,CAAEA,MAAO,Y,IA8FVmF,aA3FF,SAAC,GAAD,IAAGH,EAAH,EAAGA,QAAH,OACT,yBAAKlF,UAAU,mBACX,wBAAIA,UAAU,2BACV,wBAAIA,UAAU,YACV,kBAAC,IAAD,CAAMA,UAAU,WAAW8C,MAAOmC,GAASC,EAAS,KAAMvB,GAAG,KAA7D,SAKJ,wBAAI3D,UAAU,YACV,kBAAC,IAAD,CACIA,UAAyC,WAA9BkF,EAAQE,SAASZ,SAAwB,kBAAoB,sBACxEb,GAAG,UAFP,UAQJ,wBAAI3D,UAAU,YAUV,kBAACsF,EAAA,EAAD,CAAalC,MAAM,SAASmC,GAAG,2BAC3B,kBAACD,EAAA,EAAYE,KAAb,CAAkBC,KAAK,gBAAvB,QACA,kBAACH,EAAA,EAAYE,KAAb,CAAkBC,KAAK,sBAAvB,iBAKNhK,KACE,kBAAC,IAAMiK,SAAP,KACI,wBAAI1F,UAAU,YACV,kBAAC,IAAD,CAAMA,UAAU,WAAW8C,MAAOmC,GAASC,EAAS,WAAYvB,GAAG,WAAnE,YAIJ,wBAAI3D,UAAU,YACV,kBAAC,IAAD,CAAMA,UAAU,WAAW8C,MAAOmC,GAASC,EAAS,WAAYvB,GAAG,WAAnE,aAOXlI,KAAqD,UAAhCA,IAAkBkD,KAAKgH,MACzC,wBAAI3F,UAAU,YACV,kBAAC,IAAD,CAAM2D,GAAE,SAAYb,MAAOmC,GAASC,EAAD,UAAqBlF,UAAU,YAAlE,UAMPvE,KACG,kBAAC,IAAMiK,SAAP,KACI,wBAAI1F,UAAU,YACV,kBAAC,IAAD,CAAM2D,GAAE,UAAab,MAAOmC,GAASC,EAAD,WAAsBlF,UAAU,YAApE,WAKJ,wBAAIA,UAAU,YACV,kBAAC,IAAD,CACI2D,GAAE,gBAAWlI,IAAkBkD,KAAKC,KACpCkE,MAAOmC,GAASC,EAAD,gBAAmBzJ,IAAkBkD,KAAKC,MACzDoB,UAAU,YAHd,UAKQvE,IAAkBkD,KAAKgB,KAL/B,gBASJ,wBAAIK,UAAU,YACV,0BACIA,UAAU,WACV8C,MAAO,CAAE8C,OAAQ,UAAW1F,MAAO,QACnCwB,QAAS,kBAAMnG,GAAQ,kBAAM2J,EAAQ9H,KAAK,UAH9C,mB,kBC9ElB6H,GAAW,SAACC,EAASC,GACzB,MAAY,YAATA,EAMMD,EAAQE,SAASZ,WAAaW,EAC9B,CAAEjF,MAAO,WACJ,CAAEA,MAAO,WANa,iBAA9BgF,EAAQE,SAASZ,UAA6D,uBAA9BU,EAAQE,SAASZ,SAC9D,CAAEtE,MAAO,gBADhB,GA0CWmF,gBAhCI,SAAC,GAAD,IAAGH,EAAH,EAAGA,QAAH,OAEf,kBAACW,GAAA,EAAD,CAAQC,kBAAgB,EAACC,OAAO,KAAKC,GAAG,OAAOvE,QAAQ,QACvD,kBAACoE,GAAA,EAAOI,MAAR,CAAcR,KAAK,IAAI3C,MAAOmC,GAASC,EAAS,MAAM,kBAAC,IAAD,CAAiBlF,UAAU,OAAOuE,KAAK,KAAKnD,KAAM8E,OACxG,kBAACL,GAAA,EAAOM,OAAR,CAAeC,gBAAc,0BAC7B,kBAACP,GAAA,EAAOQ,SAAR,CAAiBd,GAAG,yBAClB,kBAACe,GAAA,EAAD,CAAKtG,UAAU,WACb,kBAACsG,GAAA,EAAIC,KAAL,CAAUd,KAAK,SAAS3C,MAAOmC,GAASC,EAAS,UAAWlF,UAAyC,WAA9BkF,EAAQE,SAASZ,SAAwB,kBAAoB,uBAApI,SACA,kBAACc,EAAA,EAAD,CAAalC,MAAM,MAAMmC,GAAG,0BAA0BzC,MAAOmC,GAASC,EAAS,YAC7E,kBAACI,EAAA,EAAYE,KAAb,CAAkBC,KAAK,gBAAe,kBAAC,IAAD,CAAiBzF,UAAU,OAAOoB,KAAMoF,MAA9E,QACA,kBAAClB,EAAA,EAAYE,KAAb,CAAkBC,KAAK,sBAAqB,kBAAC,IAAD,CAAiBzF,UAAU,OAAOoB,KAAMqF,MAApF,gBAGJ,kBAACH,GAAA,EAAD,MACE7K,KACA,kBAAC6K,GAAA,EAAIC,KAAL,CAAUd,KAAK,WAAf,YAEAhK,KACA,kBAAC6K,GAAA,EAAIC,KAAL,CAAUd,KAAK,WAAf,YAEDhK,KACC,kBAAC6J,EAAA,EAAD,CAAatF,UAAU,OAAOoD,MAAO3H,IAAkBkD,KAAKgB,KAAM4F,GAAG,0BAA0BzC,MAAOmC,GAASC,EAAS,YACtH,kBAACI,EAAA,EAAYE,KAAb,CAAkBxF,UAAU,GAAGyF,KAAI,gBAAWhK,IAAkBkD,KAAKC,MAAO,kBAAC,IAAD,CAAiBoB,UAAU,OAAOoB,KAAMsF,MAApH,YACA,kBAACpB,EAAA,EAAYE,KAAb,CAAkBxF,UAAU,GAAG0B,QAAS,kBAAMnG,GAAQ,kBAAM2J,EAAQ9H,KAAK,UAAO,kBAAC,IAAD,CAAiB4C,UAAU,OAAOoB,KAAMuF,MAAxH,oB,oBCQKC,G,kDAhDX,aAAe,IAAD,8BACV,gBAMJC,eAAiB,SAAAtN,ITyFM,SAAAoF,GACvB,OAAOxF,MAAM,GAAD,OAAIC,kDAAJ,kBAAmD,CAC3DC,OAAQ,OACRU,QAAS,CACLC,OAAQ,mBACR,eAAgB,oBAGpBI,KAAMC,KAAKC,UAAUqE,KAEpBrF,MAAK,SAAAC,GAEF,OADAI,QAAQC,IAAI,oBAAqBL,GAC1BA,EAASC,UAEnBC,OAAM,SAAAC,GAAG,OAAIC,QAAQC,IAAIF,OShG1BoN,CAJa,CACTC,QAFYxN,EAASwN,UAKPzN,MAAK,SAAAyE,GAEfA,EAAKc,MACLlF,QAAQC,IAAI,mCAGZqB,EAAa8C,GAAM,WACfpE,QAAQC,IAAI,iCAAkCmE,GAC9C,EAAK9B,SAAS,CAAE+K,oBAAoB,WApBhD,EAAK1J,MAAQ,CACT0J,oBAAoB,GAHd,E,qDA+BV,OAD+BvH,KAAKnC,MAA5B0J,mBAEG,kBAAC,IAAD,CAAUrD,GAAG,MAKpB,kBAAC,KAAD,CACAsD,SAAS,2EACTC,WAAW,QACXC,UAAW1H,KAAKoH,eAChBO,UAAW3H,KAAKoH,eAChBQ,aAAc,2B,GA3CAtL,aCmKXuL,G,kDAlKX,aAAe,IAAD,8BACV,gBAWJxK,aAAe,SAAA6C,GAAI,OAAI,SAAA/B,GACnB,EAAK3B,SAAS,CAAE4C,MAAO,KACvB,EAAK5C,SAAL,eAAiB0D,EAAO/B,EAAMZ,OAAOK,UAd3B,EAiBdkK,iBAAmB,SAAAhL,GACf,EAAKN,SAAS,CAAE4C,MAAO,KACvB,IACI2I,EADAC,EAAUlL,EAAES,OAAOK,MAAMqK,cAmB7B,MAhBgB,WAAZD,EACAD,EAAW,EACQ,WAAZC,EACPD,EAAW,EACQ,YAAZC,EACPD,EAAW,EACQ,cAAZC,EACPD,EAAW,EACQ,aAAZC,EACPD,EAAW,EACQ,WAAZC,EACPD,EAAW,EACQ,aAAZC,IACPD,EAAW,GAGXA,KAAa,IAAI5D,MAAO+D,UACxB,EAAK1L,SAAS,CAAE2L,WAAW,KACpB,IAEP,EAAK3L,SAAS,CACV2L,WAAW,KAER,IA7CD,EAiDdC,YAAc,SAAAjK,GACVA,EAAMC,iBADa,MAEe,EAAKP,MACjCqB,EAAO,CACTgB,KAJe,EAEXA,KAGJ9D,MALe,EAELA,MAIViM,SANe,EAEEA,UAMrBnO,QAAQC,IAAI+E,GACR,EAAKrB,MAAMsK,UVhED,SAAAjJ,GAClB,OAAOxF,MAAM,GAAD,OAAIC,kDAAJ,WAA4C,CACpDC,OAAQ,OACRU,QAAS,CACLC,OAAQ,mBACR,eAAgB,oBAEpBI,KAAMC,KAAKC,UAAUqE,KAEpBrF,MAAK,SAAAC,GACF,OAAOA,EAASC,UAEnBC,OAAM,SAAAC,GAAG,OAAIC,QAAQC,IAAIF,MUqDtBqO,CAAOpJ,GAAMrF,MAAK,SAAAyE,GACdpE,QAAQC,IAAImE,GACRA,EAAKc,MAAO,EAAK5C,SAAS,CAAE4C,MAAOd,EAAKc,QAExC,EAAK5C,SAAS,CACV4C,MAAO,GACPc,KAAM,GACN9D,MAAO,GACPiM,SAAU,GACVE,MAAM,OAIlB,EAAK/L,SAAS,CACV4C,MAAO,uDAzEL,EA8EdoJ,WAAa,SAACtI,EAAM9D,EAAOiM,EAAUF,GAAxB,OACT,8BACI,yBAAK5H,UAAU,cACX,2BAAOA,UAAU,cAAjB,QACA,2BACIgB,SAAU,EAAKlE,aAAa,QAC5BmE,KAAK,OACLjB,UAAU,eACV3C,MAAOsC,KAGf,yBAAKK,UAAU,cACX,2BAAOA,UAAU,cAAjB,SACA,2BACIgB,SAAU,EAAKlE,aAAa,SAC5BmE,KAAK,QACLjB,UAAU,eACV3C,MAAOxB,KAGf,yBAAKmE,UAAU,cACX,2BAAOA,UAAU,cAAjB,YACA,2BACIgB,SAAU,EAAKlE,aAAa,YAC5BmE,KAAK,WACLjB,UAAU,eACV3C,MAAOyK,KAIf,yBAAK9H,UAAU,cACX,2BAAOA,UAAU,cACZ4H,EAAY,sBAAwB,sBAGzC,2BACI5G,SAAU,EAAKuG,iBACftG,KAAK,OACLjB,UAAU,kBAIlB,4BACI0B,QAAS,EAAKmG,YACd7H,UAAU,8BAFd,YAtHJ,EAAK1C,MAAQ,CACTqC,KAAM,GACN9D,MAAO,GACPiM,SAAU,GACVjJ,MAAO,GACPmJ,MAAM,EACNJ,WAAW,GARL,E,qDAiIJ,IAAD,EACqDnI,KAAKnC,MAAvDqC,EADH,EACGA,KAAM9D,EADT,EACSA,MAAOiM,EADhB,EACgBA,SAAUjJ,EAD1B,EAC0BA,MAAOmJ,EADjC,EACiCA,KAAMJ,EADvC,EACuCA,UAC5C,OACI,yBAAK5H,UAAU,aACX,wBAAIA,UAAU,aAAd,UAEA,6BACA,kBAAC,GAAD,MAEA,6BACA,6BAEA,yBACIA,UAAU,qBACV8C,MAAO,CAAEoF,QAASrJ,EAAQ,GAAK,SAE9BA,GAGL,yBACImB,UAAU,mBACV8C,MAAO,CAAEoF,QAASF,EAAO,GAAK,SAFlC,8CAIgD,IAC5C,kBAAC,IAAD,CAAMrE,GAAG,WAAT,WALJ,KAQClE,KAAKwI,WAAWtI,EAAM9D,EAAOiM,EAAUF,Q,GA7JnC7L,aC8KNoM,G,kDA7KX,aAAe,IAAD,8BACV,gBAWJrL,aAAe,SAAA6C,GAAI,OAAI,SAAA/B,GACnB,EAAK3B,SAAS,CAAE4C,MAAO,KACvB,EAAK5C,SAAL,eAAiB0D,EAAO/B,EAAMZ,OAAOK,UAd3B,EAiBdkK,iBAAmB,SAAAhL,GACf,EAAKN,SAAS,CAAE4C,MAAO,KACvB,IACI2I,EADAC,EAAUlL,EAAES,OAAOK,MAAMqK,cAmB7B,MAhBgB,WAAZD,EACAD,EAAW,EACQ,WAAZC,EACPD,EAAW,EACQ,YAAZC,EACPD,EAAW,EACQ,cAAZC,EACPD,EAAW,EACQ,aAAZC,EACPD,EAAW,EACQ,WAAZC,EACPD,EAAW,EACQ,aAAZC,IACPD,EAAW,GAGXA,KAAa,IAAI5D,MAAO+D,UACxB,EAAK1L,SAAS,CAAE2L,WAAW,KACpB,IAEP,EAAK3L,SAAS,CACV2L,WAAW,KAER,IA7CD,EAiDdC,YAAc,SAAAjK,GACVA,EAAMC,iBACN,EAAK5B,SAAS,CAAE8D,SAAS,IAFN,MAGS,EAAKzC,MAC3BqB,EAAO,CACT9C,MALe,EAGXA,MAGJiM,SANe,EAGJA,UAMX,EAAKxK,MAAMsK,UXjDD,SAAAjJ,GAClB,OAAOxF,MAAM,GAAD,OAAIC,kDAAJ,WAA4C,CACpDC,OAAQ,OACRU,QAAS,CACLC,OAAQ,mBACR,eAAgB,oBAEpBI,KAAMC,KAAKC,UAAUqE,KAEpBrF,MAAK,SAAAC,GACF,OAAOA,EAASC,UAEnBC,OAAM,SAAAC,GAAG,OAAIC,QAAQC,IAAIF,MWsCtB0O,CAAOzJ,GAAMrF,MAAK,SAAAyE,GACVA,EAAKc,MACL,EAAK5C,SAAS,CAAE4C,MAAOd,EAAKc,MAAOkB,SAAS,IAG5C9E,EAAa8C,GAAM,WACf,EAAK9B,SAAS,CAAEoM,mBAAmB,UAK/C,EAAKpM,SAAS,CACV8D,SAAS,EACTlB,MAAO,uDAxEL,EA6EdyJ,WAAa,SAACzM,EAAOiM,EAAUF,GAAlB,OACT,8BACI,yBAAK5H,UAAU,cACX,2BAAOA,UAAU,cAAjB,SACA,2BACIgB,SAAU,EAAKlE,aAAa,SAC5BmE,KAAK,QACLjB,UAAU,eACV3C,MAAOxB,KAGf,yBAAKmE,UAAU,cACX,2BAAOA,UAAU,cAAjB,YACA,2BACIgB,SAAU,EAAKlE,aAAa,YAC5BmE,KAAK,WACLjB,UAAU,eACV3C,MAAOyK,KAIf,yBAAK9H,UAAU,cACX,2BAAOA,UAAU,cACZ4H,EAAY,sBAAwB,sBAGzC,2BACI5G,SAAU,EAAKuG,iBACftG,KAAK,OACLjB,UAAU,kBAIlB,4BACI0B,QAAS,EAAKmG,YACd7H,UAAU,8BAFd,YA5GJ,EAAK1C,MAAQ,CACTzB,MAAO,GACPiM,SAAU,GACVjJ,MAAO,GACPwJ,mBAAmB,EACnBtI,SAAS,EACT6H,WAAW,GARL,E,qDAuHJ,IAAD,EAQDnI,KAAKnC,MANLzB,EAFC,EAEDA,MACAiM,EAHC,EAGDA,SACAjJ,EAJC,EAIDA,MACAwJ,EALC,EAKDA,kBACAtI,EANC,EAMDA,QACA6H,EAPC,EAODA,UAGJ,OAAIS,EACO,kBAAC,IAAD,CAAU1E,GAAG,MAIpB,yBAAK3D,UAAU,aACX,wBAAIA,UAAU,aAAd,UACA,6BACA,kBAAC,GAAD,MAEA,6BACA,6BAEA,yBACIA,UAAU,qBACV8C,MAAO,CAAEoF,QAASrJ,EAAQ,GAAK,SAE9BA,GAGJkB,EACG,yBAAKC,UAAU,yBACX,2CAGJ,GAGHP,KAAK6I,WAAWzM,EAAOiM,EAAUF,GAElC,2BACI,kBAAC,IAAD,CACIjE,GAAG,mBACH3D,UAAU,6BAET,IAJL,yB,GAjKCjE,aCLRwM,GAAO,SAACpO,EAAQL,GACzB,OAAOX,MAAM,GAAD,OAAIC,kDAAJ,iBAA0Ce,GAAU,CAC5Dd,OAAQ,MACRU,QAAS,CACLC,OAAQ,mBACR,eAAgB,mBAChBC,cAAc,UAAD,OAAYH,MAG5BR,MAAK,SAAAC,GACF,OAAOA,EAASC,UAEnBC,OAAM,SAAAC,GAAG,OAAIC,QAAQC,IAAIF,OAgCrBG,GAAS,SAACM,EAAQL,GAC3B,OAAOX,MAAM,GAAD,OAAIC,kDAAJ,iBAA0Ce,GAAU,CAC5Dd,OAAQ,SACRU,QAAS,CACLC,OAAQ,mBACR,eAAgB,mBAChBC,cAAc,UAAD,OAAYH,MAG5BR,MAAK,SAAAC,GACF,OAAOA,EAASC,UAEnBC,OAAM,SAAAC,GAAG,OAAIC,QAAQC,IAAIF,OAwBrB8O,GAAS,SAACrO,EAAQL,EAAO2O,GAClC,OAAOtP,MAAM,GAAD,OAAIC,kDAAJ,gBAAiD,CACzDC,OAAQ,MACRU,QAAS,CACLC,OAAQ,mBACR,eAAgB,mBAChBC,cAAc,UAAD,OAAYH,IAE7BM,KAAMC,KAAKC,UAAU,CAAEH,SAAQsO,eAE9BnP,MAAK,SAAAC,GACF,OAAOA,EAASC,UAEnBC,OAAM,SAAAC,GAAG,OAAIC,QAAQC,IAAIF,OAGrBgP,GAAW,SAACvO,EAAQL,EAAO6O,GACpC,OAAOxP,MAAM,GAAD,OAAIC,kDAAJ,kBAAmD,CAC3DC,OAAQ,MACRU,QAAS,CACLC,OAAQ,mBACR,eAAgB,mBAChBC,cAAc,UAAD,OAAYH,IAE7BM,KAAMC,KAAKC,UAAU,CAAEH,SAAQwO,iBAE9BrP,MAAK,SAAAC,GACF,OAAOA,EAASC,UAEnBC,OAAM,SAAAC,GAAG,OAAIC,QAAQC,IAAIF,OC3DnBkP,G,4MA3CXtL,MAAQ,CACJuL,UAAU,G,EAGdC,cAAgB,WACZ,IAAMhP,EAAQ2B,IAAkB3B,MAC1BK,EAAS,EAAKgC,MAAMhC,OAC1BN,GAAOM,EAAQL,GAAOR,MAAK,SAAAyE,GACnBA,EAAKc,MACLlF,QAAQC,IAAImE,EAAKc,QAGjBtD,GAAQ,kBAAM5B,QAAQC,IAAI,sBAE1B,EAAKqC,SAAS,CAAE4M,UAAU,S,EAKtCE,gBAAkB,WACD3N,OAAO4N,QAChB,kDAGA,EAAKF,iB,uDAKT,OAAIrJ,KAAKnC,MAAMuL,SACJ,kBAAC,IAAD,CAAUlF,GAAG,MAGpB,4BACIjC,QAASjC,KAAKsJ,gBACd/I,UAAU,6BAFd,sB,GAlCajE,aC6BVkN,G,4MA/BXC,YAAc,WACV,EAAK/M,MAAMgN,cAAcX,K,EAG7BY,cAAgB,WACZ,EAAKjN,MAAMgN,cAAcT,K,uDAIzB,OACI,yBAAK1I,UAAU,kBACTP,KAAKtD,MAAMkN,UAQT,4BACI3H,QAASjC,KAAK2J,cACdpJ,UAAU,8BAFd,YAPA,4BACI0B,QAASjC,KAAKyJ,YACdlJ,UAAU,mCAFd,e,GAbcjE,aCkHnBuN,G,uKAhHD,IAAD,EACqE7J,KAAKtD,MAAvEkN,EADH,EACGA,UAAWE,EADd,EACcA,UAAkBhK,GADhC,EACyBH,MADzB,EACgCG,aAAaiK,EAD7C,EAC6CA,oBAClD,OACI,6BACI,yBAAKxJ,UAAU,OACX,yBAAKA,UAAU,YACX,wBAAIA,UAAU,gBACTuJ,EAAUhL,OADf,cAGA,6BACCgL,EAAU5I,KAAI,SAAC8I,EAAQ7I,GAAT,OACX,yBAAKC,IAAKD,GACN,6BACI,kBAAC,IAAD,CAAM+C,GAAE,gBAAW8F,EAAO7K,MACtB,yBACIkE,MAAO,CACH4G,aAAc,MACdC,OAAQ,mBAEZ3J,UAAU,kBACVuD,OAAO,OACPC,MAAM,OACNH,QAAS,SAAAzC,GAAC,OACLA,EAAE5D,OAAOiG,IAAT,UAAkB2G,MAEvB3G,IAAG,UACC7J,kDADD,uBAEYqQ,EAAO7K,KACtBuE,IAAKsG,EAAO9J,OAEhB,6BACI,uBAAGK,UAAU,QACRyJ,EAAO9J,cASpC,yBAAKK,UAAU,YACX,wBAAIA,UAAU,gBACTqJ,EAAU9K,OADf,cAGA,6BACC8K,EAAU1I,KAAI,SAAC8I,EAAQ7I,GAAT,OACX,yBAAKC,IAAKD,GACN,6BACI,kBAAC,IAAD,CAAM+C,GAAE,gBAAW8F,EAAO7K,MACtB,yBACIkE,MAAO,CACH4G,aAAc,MACdC,OAAQ,mBAEZ3J,UAAU,kBACVuD,OAAO,OACPC,MAAM,OACNH,QAAS,SAAAzC,GAAC,OACLA,EAAE5D,OAAOiG,IAAT,UAAkB2G,MAEvB3G,IAAG,UACC7J,kDADD,uBAEYqQ,EAAO7K,KACtBuE,IAAKsG,EAAO9J,OAEhB,6BACI,uBAAGK,UAAU,QACRyJ,EAAO9J,cAQpC,yBAAKK,UAAU,YACX,wBAAIA,UAAU,gBAAgBT,EAAYhB,OAA1C,gBACA,6BACCgB,EAAYoB,KAAI,SAAChG,EAAYiG,GAAb,OACb,yBAAKC,IAAKD,GACN,6BACI,kBAAC,IAAD,CAAM+C,GAAE,sBAAiBhJ,EAAWiE,MAChC,6BACI,uBAAGoB,UAAU,QAAQrF,EAAWgF,cAOxD,yBAAKK,UAAU,YACX,wBAAIA,UAAU,gBAAgBT,EAAYhB,OAA1C,yBACA,6BACCiL,EAAoB7I,KAAI,SAAChG,EAAYiG,GAAb,OACrB,yBAAKC,IAAKD,GACN,6BACI,kBAAC,IAAD,CAAM+C,GAAE,sBAAiBhJ,EAAWiE,MAChC,6BACI,uBAAGoB,UAAU,QAAQrF,EAAWgF,oB,GApGlD5D,aC+MX8N,G,kDAvMb,aAAe,IAAD,8BACZ,gBAaFC,YAAc,SAAAnL,GACZ,IAAMzD,EAAMO,IAKZ,OAJckD,EAAK4K,UAAUQ,MAAK,SAAAC,GAEhC,OAAOA,EAASpL,MAAQ1D,EAAIyD,KAAKC,QAlBvB,EAuBdqL,kBAAoB,SAAAC,GAIlBA,EAHezO,IAAkBkD,KAAKC,IACxBnD,IAAkB3B,MAET,EAAKwD,MAAMqB,KAAKC,KAAKtF,MAAK,SAAAyE,GAC3CA,EAAKc,MACP,EAAK5C,SAAS,CAAE4C,MAAOd,EAAKc,QAE5B,EAAK5C,SAAS,CAAE0C,KAAMZ,EAAMsL,WAAY,EAAK/L,MAAM+L,gBA/B3C,EAoCdc,KAAO,SAAAhQ,GACL,IAAML,EAAQ2B,IAAkB3B,MAChCyO,GAAKpO,EAAQL,GAAOR,MAAK,SAAAyE,GACvB,GAAIA,EAAKc,MACP,EAAK5C,SAAS,CAAEkI,kBAAkB,QAC7B,CACL,IAAIkF,EAAY,EAAKS,YAAY/L,GACjC,EAAK9B,SAAS,CAAE0C,KAAMZ,EAAMsL,cAC5B,EAAKjH,UAAUrE,EAAKa,KACpB,EAAK8F,gBAAgB3G,EAAKa,UA7ClB,EAkDdwD,UAAY,SAAAjI,IlBcY,SAACA,EAAQL,GAC/B,OAAOX,MAAM,GAAD,OAAIC,kDAAJ,qBAA8Ce,GAAU,CAChEd,OAAQ,MACRU,QAAS,CACLC,OAAQ,mBACR,eAAgB,mBAChBC,cAAc,UAAD,OAAYH,MAG5BR,MAAK,SAAAC,GACF,OAAOA,EAASC,UAEnBC,OAAM,SAAAC,GAAG,OAAIC,QAAQC,IAAIF,OkBxB9B0Q,CAAWjQ,EADGsB,IAAkB3B,OACNR,MAAK,SAAAyE,GACzBA,EAAKc,MACPlF,QAAQC,IAAImE,EAAKc,OAEjB,EAAK5C,SAAS,CAAEmD,MAAOrB,QAxDf,EA6Dd2G,gBAAkB,SAAAvK,GAChB,IAAML,EAAQ2B,IAAkB3B,MAChCgB,EAAcX,EAAQL,GAAOR,MAAK,SAAAyE,GAC5BA,EAAKc,MACPlF,QAAQC,IAAImE,EAAKc,OAEjB,EAAK5C,SAAS,CAAEsD,YAAaxB,QAnErB,EAwEdsM,wBAA0B,SAAAlQ,GACxB,IAAML,EAAQ2B,IAAkB3B,MAChCgB,EAAcX,EAAQL,GAAOR,MAAK,SAAAyE,GAC5BA,EAAKc,MACPlF,QAAQC,IAAImE,EAAKc,OAEjB,EAAK5C,SAAS,CAAEuN,oBAAqBzL,QA5EzC,EAAKT,MAAQ,CACXqB,KAAM,CAAE0K,UAAW,GAAIE,UAAW,IAClCpF,kBAAkB,EAClBkF,WAAW,EACXxK,MAAO,GACPO,MAAO,GACPG,YAAa,GACbiK,oBAAqB,IATX,E,gEAoFZ,IAAMrP,EAASsF,KAAKtD,MAAMmO,MAAMC,OAAOpQ,OACvCsF,KAAK0K,KAAKhQ,K,gDAGcgC,GACxB,IAAMhC,EAASgC,EAAMmO,MAAMC,OAAOpQ,OAClCsF,KAAK0K,KAAKhQ,K,+BAGF,IAAD,EACqEsF,KAAKnC,MAAzE6G,EADD,EACCA,iBAAkBxF,EADnB,EACmBA,KAAMS,EADzB,EACyBA,MAAOG,EADhC,EACgCA,YAAaiK,EAD7C,EAC6CA,oBACpD,GAAIrF,EAAkB,OAAO,kBAAC,IAAD,CAAUR,GAAG,YAE1C,IAAM6G,EAAW7L,EAAKC,IAAL,UACVxF,kDADU,uBAEXuF,EAAKC,IAFM,aAGT,IAAIgF,MAAO6G,WACfb,IAEJ,OACE,yBAAK5J,UAAU,aACb,wBAAIA,UAAU,aAAd,WACA,yBAAKA,UAAU,OACb,yBAAKA,UAAU,YACb,yBACE8C,MAAO,CAAES,OAAQ,QAASC,MAAO,QACjCxD,UAAU,gBACViD,IAAKuH,EACLnH,QAAS,SAAAzC,GAAC,OAAKA,EAAE5D,OAAOiG,IAAT,UAAkB2G,MACjCzG,IAAKxE,EAAKgB,QAId,yBAAKK,UAAU,YACb,yBAAKA,UAAU,aACb,oCAAUrB,EAAKgB,MACf,qCAAWhB,EAAK9C,OAChB,4CAAc,IAAI+H,KAAKjF,EAAKkF,SAASC,kBAGtCrI,IAAkBkD,MACnBlD,IAAkBkD,KAAKC,MAAQD,EAAKC,IAClC,yBAAKoB,UAAU,kBACb,kBAAC,IAAD,CACEA,UAAU,+BACV2D,GAAE,gBAFJ,eAOA,kBAAC,IAAD,CACE3D,UAAU,+BACV2D,GAAE,sBAFJ,qBAOA,kBAAC,IAAD,CACE3D,UAAU,kCACV2D,GAAE,qBAAgBhF,EAAKC,MAFzB,gBAMA,kBAAC,GAAD,CAAYzE,OAAQwE,EAAKC,OAG3B,kBAAC,GAAD,CACEyK,UAAW5J,KAAKnC,MAAM+L,UACtBF,cAAe1J,KAAKwK,oBAIxB,6BACGxO,IAAkBkD,MACe,UAAhClD,IAAkBkD,KAAKgH,MACrB,yBAAK+E,MAAM,aACT,yBAAK1K,UAAU,aACb,wBAAIA,UAAU,cAAd,SACA,uBAAGA,UAAU,oBAAb,2BAGA,kBAAC,IAAD,CACEA,UAAU,kCACV2D,GAAE,qBAAgBhF,EAAKC,MAFzB,gBAOA,kBAAC,GAAD,WAOd,yBAAKoB,UAAU,OACb,yBAAKA,UAAU,uBACb,6BACA,uBAAGA,UAAU,QAAQrB,EAAKoG,OAC1B,6BAEA,kBAAC,GAAD,CACEwE,UAAW5K,EAAK4K,UAChBF,UAAW1K,EAAK0K,UAChBjK,MAAOA,EACPG,YAAaA,EACbiK,oBAAqBA,W,GA/LbzN,aCoDP4O,G,kDAzDX,aAAe,IAAD,8BACV,gBAgBJC,YAAc,SAAAC,GAAK,OACf,yBAAK7K,UAAU,OACV6K,EAAMlK,KAAI,SAAChC,EAAMiC,GAAP,OACP,yBAAKZ,UAAU,gBAAgBa,IAAKD,GAChC,yBACIkC,MAAO,CAAES,OAAQ,QAASC,MAAO,QACjCxD,UAAU,gBACViD,IAAG,UAAK7J,kDAAL,uBACCuF,EAAKC,KAETyE,QAAS,SAAAzC,GAAC,OAAKA,EAAE5D,OAAOiG,IAAT,UAAkB2G,MACjCzG,IAAKxE,EAAKgB,OAEd,yBAAKK,UAAU,aACX,wBAAIA,UAAU,cAAcrB,EAAKgB,MACjC,uBAAGK,UAAU,aAAarB,EAAK9C,OAC/B,kBAAC,IAAD,CACI8H,GAAE,gBAAWhF,EAAKC,KAClBoB,UAAU,qCAFd,uBA/BhB,EAAK1C,MAAQ,CACTuN,MAAO,IAHD,E,gEAOO,IAAD,OL+Cb1R,MAAM,GAAD,OAAIC,kDAAJ,UAA2C,CACnDC,OAAQ,QAEPC,MAAK,SAAAC,GACF,OAAOA,EAASC,UAEnBC,OAAM,SAAAC,GAAG,OAAIC,QAAQC,IAAIF,MKpDnBJ,MAAK,SAAAyE,GACJA,EAAKc,MACLlF,QAAQC,IAAImE,EAAKc,OAEjB,EAAK5C,SAAS,CAAE4O,MAAO9M,S,+BAiCzB,IACE8M,EAAUpL,KAAKnC,MAAfuN,MACR,OACI,yBAAK7K,UAAU,aACX,wBAAIA,UAAU,aAAd,SAECP,KAAKmL,YAAYC,Q,GApDd9O,aC2NL+O,G,kDAzNb,aAAe,IAAD,8BACZ,gBAcFX,KAAO,SAAAhQ,GACL,IAAML,EAAQ2B,IAAkB3B,MAChCyO,GAAKpO,EAAQL,GAAOR,MAAK,SAAAyE,GACnBA,EAAKc,MACP,EAAK5C,SAAS,CAAE8O,mBAAmB,IAEnC,EAAK9O,SAAS,CACZsJ,GAAIxH,EAAKa,IACTe,KAAM5B,EAAK4B,KACX9D,MAAOkC,EAAKlC,MACZgD,MAAO,GACPkG,MAAOhH,EAAKgH,YA1BN,EAsCdiG,QAAU,WAAO,IAAD,EAC8B,EAAK1N,MAAzCqC,EADM,EACNA,KAAM9D,EADA,EACAA,MAAOiM,EADP,EACOA,SACrB,OAFc,EACiBmD,SAChB,KACb,EAAKhP,SAAS,CACZ4C,MAAO,sCACPkB,SAAS,KAEJ,GAEW,IAAhBJ,EAAKpB,QACP,EAAKtC,SAAS,CAAE4C,MAAO,mBAAoBkB,SAAS,KAC7C,GAGJ,gDAAgDmL,KAAKrP,KAOtDiM,EAASvJ,QAAU,GAAKuJ,EAASvJ,QAAU,KAC7C,EAAKtC,SAAS,CACZ4C,MAAO,8CACPkB,SAAS,KAEJ,IAXP,EAAK9D,SAAS,CACZ4C,MAAO,4BACPkB,SAAS,KAEJ,IAzDG,EAqEdjD,aAAe,SAAA6C,GAAI,OAAI,SAAA/B,GAAU,IAAD,EAC9B,EAAK3B,SAAS,CAAE4C,MAAO,KACvB,IAAMxB,EAAiB,UAATsC,EAAmB/B,EAAMZ,OAAOmO,MAAM,GAAKvN,EAAMZ,OAAOK,MAEhE4N,EAAoB,UAATtL,EAAmB/B,EAAMZ,OAAOmO,MAAM,GAAG5G,KAAO,EACjE,EAAK6G,SAASpM,IAAIW,EAAMtC,GACxB,EAAKpB,UAAL,mBAAiB0D,EAAOtC,GAAxB,yBAA+B4N,GAA/B,MA3EY,EA8EdpD,YAAc,SAAAjK,IACZA,EAAMC,iBACN,EAAK5B,SAAS,CAAE8D,SAAS,IAErB,EAAKiL,YN7DS,SAAC7Q,EAAQL,EAAO6E,GAElC,OADAhF,QAAQC,IAAI,qBAAsB+E,GAC3BxF,MAAM,GAAD,OAAIC,kDAAJ,iBAA0Ce,GAAU,CAC5Dd,OAAQ,MACRU,QAAS,CACLC,OAAQ,mBACRC,cAAc,UAAD,OAAYH,IAE7BM,KAAMuE,IAELrF,MAAK,SAAAC,GACF,OAAOA,EAASC,UAEnBC,OAAM,SAAAC,GAAG,OAAIC,QAAQC,IAAIF,MMoD5B2R,CAHe,EAAKlP,MAAMmO,MAAMC,OAAOpQ,OACzBsB,IAAkB3B,MAEV,EAAKsR,UAAU9R,MAAK,SAAAyE,GACpCA,EAAKc,MACP,EAAK5C,SAAS,CAAE4C,MAAOd,EAAKc,QACa,UAAhCpD,IAAkBkD,KAAKgH,KAChC,EAAK1J,SAAS,CACZ8O,mBAAmB,IN7BL,SAACpM,EAAMxD,GAC7B,GAAsB,qBAAXC,QACHC,aAAaK,QAAQ,OAAQ,CAC7B,IAAI4P,EAAOjR,KAAKsB,MAAMN,aAAaK,QAAQ,QAC3C4P,EAAK3M,KAAOA,EACZtD,aAAaC,QAAQ,MAAOjB,KAAKC,UAAUgR,IAC3CnQ,KM0BFoQ,CAAWxN,GAAM,WACf,EAAK9B,SAAS,CACZ8O,mBAAmB,WAhGjB,EAwGd9C,WAAa,SAACtI,EAAM9D,EAAOiM,EAAU/C,GAAxB,OACX,8BACE,yBAAK/E,UAAU,cACb,2BAAOA,UAAU,cAAjB,iBACA,2BACEgB,SAAU,EAAKlE,aAAa,SAC5BmE,KAAK,OACLuK,OAAO,UACPxL,UAAU,kBAGd,yBAAKA,UAAU,cACb,2BAAOA,UAAU,cAAjB,QACA,2BACEgB,SAAU,EAAKlE,aAAa,QAC5BmE,KAAK,OACLjB,UAAU,eACV3C,MAAOsC,KAGX,yBAAKK,UAAU,cACb,2BAAOA,UAAU,cAAjB,SACA,2BACEgB,SAAU,EAAKlE,aAAa,SAC5BmE,KAAK,QACLjB,UAAU,eACV3C,MAAOxB,KAIX,yBAAKmE,UAAU,cACb,2BAAOA,UAAU,cAAjB,SACA,8BACEgB,SAAU,EAAKlE,aAAa,SAC5BmE,KAAK,OACLjB,UAAU,eACV3C,MAAO0H,KAIX,yBAAK/E,UAAU,cACb,2BAAOA,UAAU,cAAjB,YACA,2BACEgB,SAAU,EAAKlE,aAAa,YAC5BmE,KAAK,WACLjB,UAAU,eACV3C,MAAOyK,KAGX,4BAAQpG,QAAS,EAAKmG,YAAa7H,UAAU,8BAA7C,YAvJF,EAAK1C,MAAQ,CACXiI,GAAI,GACJ5F,KAAM,GACN9D,MAAO,GACPiM,SAAU,GACViD,mBAAmB,EACnBlM,MAAO,GACPoM,SAAU,EACVlL,SAAS,EACTgF,MAAO,IAXG,E,gEAiCZtF,KAAK2L,SAAW,IAAIpN,SACpB,IAAM7D,EAASsF,KAAKtD,MAAMmO,MAAMC,OAAOpQ,OACvCsF,KAAK0K,KAAKhQ,K,+BA4HF,IAAD,EAUHsF,KAAKnC,MARPiI,EAFK,EAELA,GACA5F,EAHK,EAGLA,KACA9D,EAJK,EAILA,MACAiM,EALK,EAKLA,SACAiD,EANK,EAMLA,kBACAlM,EAPK,EAOLA,MACAkB,EARK,EAQLA,QACAgF,EATK,EASLA,MAGF,GAAIgG,EACF,OAAO,kBAAC,IAAD,CAAUpH,GAAE,gBAAW4B,KAGhC,IAAMiF,EAAWjF,EAAE,UAEbnM,kDAFa,uBAGAmM,EAHA,aAGM,IAAI3B,MAAO6G,WAChCb,IAEJ,OACE,yBAAK5J,UAAU,aACb,wBAAIA,UAAU,aAAd,gBACA,yBACEA,UAAU,qBACV8C,MAAO,CAAEoF,QAASrJ,EAAQ,GAAK,SAE9BA,GAGFkB,EACC,yBAAKC,UAAU,yBACb,2CAGF,GAGF,yBACE8C,MAAO,CAAES,OAAQ,QAASC,MAAO,QACjCxD,UAAU,gBACViD,IAAKuH,EACLnH,QAAS,SAAAzC,GAAC,OAAKA,EAAE5D,OAAOiG,IAAT,UAAkB2G,MACjCzG,IAAKxD,IAG0B,UAAhClE,IAAkBkD,KAAKgH,MACtBlG,KAAKwI,WAAWtI,EAAM9D,EAAOiM,EAAU/C,GAExCtJ,IAAkBkD,KAAKC,MAAQ2G,GAC9B9F,KAAKwI,WAAWtI,EAAM9D,EAAOiM,EAAU/C,Q,GApNvBhJ,aC6FX0P,G,kDA5FX,aAAe,IAAD,8BACV,gBAqBJC,YAAc,SAAC/M,EAAMiC,GACjB,IAAMzG,EAASsB,IAAkBkD,KAAKC,IAChC9E,EAAQ2B,IAAkB3B,MAEhC0O,GAAOrO,EAAQL,EAAO6E,EAAKC,KAAKtF,MAAK,SAAAyE,GACjC,GAAIA,EAAKc,MACL,EAAK5C,SAAS,CAAE4C,MAAOd,EAAKc,YACzB,CACH,IAAI8M,EAAW,EAAKrO,MAAMuN,MAC1Bc,EAASjO,OAAOkD,EAAG,GACnB,EAAK3E,SAAS,CACV4O,MAAOc,EACP3D,MAAM,EACN4D,cAAc,aAAD,OAAejN,EAAKgB,aAnCnC,EAyCdiL,YAAc,SAAAC,GAAK,OACf,yBAAK7K,UAAU,OACV6K,EAAMlK,KAAI,SAAChC,EAAMiC,GAAP,OACP,yBAAKZ,UAAU,gBAAgBa,IAAKD,GAChC,yBACIkC,MAAO,CAAES,OAAQ,QAASC,MAAO,QACjCxD,UAAU,gBACViD,IAAG,UAAK7J,kDAAL,uBACCuF,EAAKC,KAETyE,QAAS,SAAAzC,GAAC,OAAKA,EAAE5D,OAAOiG,IAAT,UAAkB2G,MACjCzG,IAAKxE,EAAKgB,OAEd,yBAAKK,UAAU,aACX,wBAAIA,UAAU,cAAcrB,EAAKgB,MACjC,uBAAGK,UAAU,aAAarB,EAAK9C,OAC/B,kBAAC,IAAD,CACI8H,GAAE,gBAAWhF,EAAKC,KAClBoB,UAAU,qCAFd,gBAOA,4BACI0B,QAAS,kBAAM,EAAKgK,YAAY/M,EAAMiC,IACtCZ,UAAU,8CAFd,iBA9DhB,EAAK1C,MAAQ,CACTuN,MAAO,GACPhM,MAAO,GACPmJ,MAAM,GALA,E,gEASO,IAAD,QPgGE,SAAC7N,EAAQL,GAC/B,OAAOX,MAAM,GAAD,OAAIC,kDAAJ,4BAAqDe,GAAU,CACvEd,OAAQ,MACRU,QAAS,CACLC,OAAQ,mBACR,eAAgB,mBAChBC,cAAc,UAAD,OAAYH,MAG5BR,MAAK,SAAAC,GACF,OAAOA,EAASC,UAEnBC,OAAM,SAAAC,GAAG,OAAIC,QAAQC,IAAIF,OOxG1BmS,CAHepQ,IAAkBkD,KAAKC,IACxBnD,IAAkB3B,OAENR,MAAK,SAAAyE,GACvBA,EAAKc,MACLlF,QAAQC,IAAImE,EAAKc,OAEjB,EAAK5C,SAAS,CAAE4O,MAAO9M,S,+BA2DzB,IAAD,EACkC0B,KAAKnC,MAApCuN,EADH,EACGA,MAAO7C,EADV,EACUA,KAAM4D,EADhB,EACgBA,cACrB,OACI,yBAAK5L,UAAU,aACX,wBAAIA,UAAU,aAAd,eAECgI,GACG,yBAAKhI,UAAU,uBAAuB4L,GAGzCnM,KAAKmL,YAAYC,Q,GAvFT9O,aCmLV+P,G,kDAjLX,aAAe,IAAD,8BACV,gBAuBJd,QAAU,WAAO,IAAD,EACqC,EAAK1N,MAA9CqC,EADI,EACJA,KAAqBoF,GADjB,EACE1D,QADF,EACW0K,KADX,EACiBhH,OAC7B,OAFY,EACwBkG,SACrB,KACX,EAAKhP,SAAS,CACV4C,MAAO,sCACPkB,SAAS,KAEN,GAES,IAAhBJ,EAAKpB,QAAiC,IAAjBwG,EAAMxG,SAC3B,EAAKtC,SAAS,CAAE4C,MAAO,0BAA2BkB,SAAS,KACpD,IAnCD,EA0CdjD,aAAe,SAAA6C,GAAI,OAAI,SAAA/B,GAAU,IAAD,EAC5B,EAAK3B,SAAS,CAAE4C,MAAO,KACvB,IAAMxB,EACO,UAATsC,EAAmB/B,EAAMZ,OAAOmO,MAAM,GAAKvN,EAAMZ,OAAOK,MAEtD4N,EAAoB,UAATtL,EAAmB/B,EAAMZ,OAAOmO,MAAM,GAAG5G,KAAO,EACjE,EAAKtG,eAAee,IAAIW,EAAMtC,GAC9B,EAAKpB,UAAL,mBAAiB0D,EAAOtC,GAAxB,yBAA+B4N,GAA/B,MAjDU,EAqDdpD,YAAc,SAAAjK,GAIV,GAHAA,EAAMC,iBACN,EAAK5B,SAAS,CAAE8D,SAAS,IAErB,EAAKiL,UAAW,CAChB,IAAM7Q,EAASsB,IAAkBkD,KAAKC,IAChC9E,EAAQ2B,IAAkB3B,MAEhCY,EAAOP,EAAQL,EAAO,EAAKmE,gBAAgB3E,MAAK,SAAAyE,GAC5CpE,QAAQC,IAAI,EAAKqE,eAAeoD,SAC5BtD,EAAKc,MAAO,EAAK5C,SAAS,CAAE4C,MAAOd,EAAKc,QAExC,EAAK5C,SAAS,CACV8D,SAAS,EACTJ,KAAM,GACNoF,MAAO,GACP1D,QAAS,GACT0K,KAAM,GACNhB,mBAAmB,SAvEzB,EA8EdiB,kBAAoB,SAACrM,EAAMoF,EAAOgH,EAAM1K,EAAS4K,GAA7B,OAChB,8BACI,yBAAKjM,UAAU,cACX,2BAAOA,UAAU,cAAjB,oBACA,2BACIgB,SAAU,EAAKlE,aAAa,SAC5BmE,KAAK,OACLuK,OAAO,UACPxL,UAAU,kBAGlB,yBAAKA,UAAU,cACX,2BAAOA,UAAU,cAAjB,QACA,2BACIgB,SAAU,EAAKlE,aAAa,QAC5BmE,KAAK,OACLjB,UAAU,eACV3C,MAAOsC,KAIf,yBAAKK,UAAU,cACX,2BAAOA,UAAU,cAAjB,SACA,8BACIgB,SAAU,EAAKlE,aAAa,SAC5BmE,KAAK,OACLjB,UAAU,eACV3C,MAAO0H,KAIf,yBAAK/E,UAAU,cACX,2BAAOA,UAAU,cAAjB,WACA,4BAAQ3C,MAAOgE,EAASL,SAAU,EAAKlE,aAAa,WAAYkD,UAAU,gBACtE,4BAAQ3C,MAAM,WAAd,WACA,4BAAQA,MAAM,iBAAd,uBACA,4BAAQA,MAAM,UAAd,YAYR,4BACIqE,QAAS,EAAKmG,YACd7H,UAAU,8BAFd,oBA5HJ,EAAK1C,MAAQ,CACTqC,KAAM,GACN0B,QAAS,GACT0K,KAAM,GACN7I,MAAO,GACP6B,MAAO,GAEPpG,KAAM,GACNsM,SAAU,EACVlL,SAAS,EACTgL,mBAAmB,GAZb,E,gEAmBVtL,KAAKxB,eAAiB,IAAID,SAC1ByB,KAAKxD,SAAS,CAAE0C,KAAMlD,IAAkBkD,S,+BAmHlC,IAAD,EAYDc,KAAKnC,MAVLqC,EAFC,EAEDA,KACAoF,EAHC,EAGDA,MACAgH,EAJC,EAIDA,KAGApN,GAPC,EAKDuE,MALC,EAMD7B,QANC,EAOD1C,MACAE,EARC,EAQDA,MACAkB,EATC,EASDA,QACAgL,EAVC,EAUDA,kBAVC,EAWDkB,QAGJ,OAAIlB,EACO,kBAAC,IAAD,CAAUpH,GAAE,gBAAWhF,EAAKC,OAInC,yBAAKoB,UAAU,aACX,wBAAIA,UAAU,aAAd,wBACA,yBACIA,UAAU,qBACV8C,MAAO,CAAEoF,QAASrJ,EAAQ,GAAK,SAE9BA,GAGJkB,EACG,yBAAKC,UAAU,yBACX,2CAGJ,GAGHP,KAAKuM,kBAAkBrM,EAAMoF,EAAOgH,Q,GA5KzBhQ,aCwMbmQ,I,yDAvMX,aAAe,IAAD,8BACV,gBAeJ/B,KAAO,SAAAtP,GAEHD,EAAiBC,GAAcvB,MAAK,SAAAyE,GAC5BA,EAAKc,MACL,EAAK5C,SAAS,CAAE8O,mBAAmB,IAEnC,EAAK9O,SAAS,CACVsJ,GAAIxH,EAAK2B,UAAUd,IACnBe,KAAM5B,EAAK4B,KACXoF,MAAOhH,EAAKgH,MACZ1D,QAAStD,EAAKsD,QACd6B,MAAOnF,EAAKmF,MACZvE,KAAMZ,EAAK2B,UACXb,MAAO,GACPkB,SAAS,QA9BX,EA2CdiL,QAAU,WAAO,IAAD,EACqC,EAAK1N,MAA9CqC,EADI,EACJA,KAAqBoF,GADjB,EACE1D,QADF,EACW0K,KADX,EACiBhH,OAC7B,OAFY,EACwBkG,SACrB,KACX,EAAKhP,SAAS,CACV4C,MAAO,sCACPkB,SAAS,KAEN,GAES,IAAhBJ,EAAKpB,QAAiC,IAAjBwG,EAAMxG,SAC3B,EAAKtC,SAAS,CAAE4C,MAAO,0BAA2BkB,SAAS,KACpD,IAtDD,EA6DdjD,aAAe,SAAA6C,GAAI,OAAI,SAAA/B,GAAU,IAAD,EAC5B,EAAK3B,SAAS,CAAE4C,MAAO,KACvB,IAAMxB,EACO,UAATsC,EAAmB/B,EAAMZ,OAAOmO,MAAM,GAAKvN,EAAMZ,OAAOK,MAEtD4N,EAAoB,UAATtL,EAAmB/B,EAAMZ,OAAOmO,MAAM,GAAG5G,KAAO,EACjE,EAAKtG,eAAee,IAAIW,EAAMtC,GAC9B1D,QAAQC,IAAI,EAAKqE,gBACjB,EAAKhC,UAAL,mBAAiB0D,EAAOtC,GAAxB,yBAA+B4N,GAA/B,MArEU,EAyEdpD,YAAc,SAAAjK,GACVA,EAAMC,iBACN,IAAMhD,EAAe,EAAKsB,MAAMmO,MAAMC,OAAO1P,aAI7C,GAFA,EAAKoB,SAAS,CAAE8D,SAAS,IAErB,EAAKiL,UAAW,CACDvP,IAAkBkD,KAAKC,KtBR5B,SAAC/D,EAAcf,EAAOa,GACxC,OAAOxB,MAAM,GAAD,OAAIC,kDAAJ,8BAAuDyB,GAAgB,CAC/ExB,OAAQ,OACRU,QAAS,CACLC,OAAQ,mBACRC,cAAc,UAAD,OAAYH,IAE7BM,KAAMO,IAELrB,MAAK,SAAAC,GACF,OAAOA,EAASC,UAEnBC,OAAM,SAAAC,GAAG,OAAIC,QAAQC,IAAIF,OsBDtB2R,CAAOxQ,EAFOY,IAAkB3B,MAEJ,EAAKmE,gBAAgB3E,MAAK,SAAAyE,GAClDpE,QAAQC,IAAI,EAAKqE,gBACbF,EAAKc,MAAO,EAAK5C,SAAS,CAAE4C,MAAOd,EAAKc,QAExC,EAAK5C,SAAS,CACV8D,SAAS,EACTJ,KAAM,GACNoF,MAAO,GACP1D,QAAS,GACT0K,KAAM,GACNhB,mBAAmB,SA7FzB,EAoGdiB,kBAAoB,SAACrM,EAAMoF,EAAOgH,EAAM1K,EAAS4K,GAA7B,OAChB,8BACI,yBAAKjM,UAAU,cACX,2BAAOA,UAAU,cAAjB,oBACA,2BACIgB,SAAU,EAAKlE,aAAa,SAC5BmE,KAAK,OACLuK,OAAO,UACPxL,UAAU,kBAGlB,yBAAKA,UAAU,cACX,2BAAOA,UAAU,cAAjB,QACA,2BACIgB,SAAU,EAAKlE,aAAa,QAC5BmE,KAAK,OACLjB,UAAU,eACV3C,MAAOsC,KAIf,yBAAKK,UAAU,cACX,2BAAOA,UAAU,cAAjB,SACA,8BACIgB,SAAU,EAAKlE,aAAa,SAC5BmE,KAAK,OACLjB,UAAU,eACV3C,MAAO0H,KAIf,yBAAK/E,UAAU,cACX,2BAAOA,UAAU,cAAjB,WACA,4BAAQ3C,MAAOgE,EAASL,SAAU,EAAKlE,aAAa,WAAYkD,UAAU,gBACtE,4BAAQ3C,MAAM,WAAd,WACA,4BAAQA,MAAM,iBAAd,uBACA,4BAAQA,MAAM,UAAd,YAYR,4BACIqE,QAAS,EAAKmG,YACd7H,UAAU,8BAFd,qBAlJJ,EAAK1C,MAAQ,CACTiI,GAAG,GACH5F,KAAM,GACN0B,QAAS,GACT0K,KAAM,GACN7I,MAAO,GACP6B,MAAO,GACPpG,KAAM,GACNsM,SAAU,EACVlL,SAAS,EACTgL,mBAAmB,GAZb,E,gEAqCVtL,KAAKxB,eAAiB,IAAID,SAC1ByB,KAAKxD,SAAS,CAAE0C,KAAMlD,IAAkBkD,OACxC,IAAM9D,EAAe4E,KAAKtD,MAAMmO,MAAMC,OAAO1P,aAC7C4E,KAAK0K,KAAKtP,K,+BAqHJ,IAAD,EAYD4E,KAAKnC,MAVLqC,EAFC,EAEDA,KACAoF,EAHC,EAGDA,MACAgH,EAJC,EAIDA,KAGApN,GAPC,EAKDuE,MALC,EAMD7B,QANC,EAOD1C,MACAE,EARC,EAQDA,MACAkB,EATC,EASDA,QACAgL,EAVC,EAUDA,kBAVC,EAWDkB,QAGJ,OAAIlB,EACO,kBAAC,IAAD,CAAUpH,GAAE,gBAAWhF,EAAKC,OAInC,yBAAKoB,UAAU,aACX,wBAAIA,UAAU,aAAd,qBACA,yBACIA,UAAU,qBACV8C,MAAO,CAAEoF,QAASrJ,EAAQ,GAAK,SAE9BA,GAGJkB,EACG,yBAAKC,UAAU,yBACX,2CAGJ,GAGHP,KAAKuM,kBAAkBrM,EAAMoF,EAAOgH,Q,GAlMxBhQ,cC8VdoQ,G,4MAxVX7O,MAAQ,CACJqC,KAAM,GACNoF,MAAO,GACPgH,KAAM,GACN1K,QAAS,GACT8C,kBAAkB,EAClB/E,MAAO,GACPoJ,QAAQ,EACR4D,QAAS,EACTtM,SAAU,GACVnF,WAAY,GACZoF,SAAS,G,EAGb4B,WAAa,WACT,EAAK1F,SAAS,CAAE4D,UAAU,K,EAG9BwM,UAAY,SAAAzM,GACR,IAAMzF,EAASsB,KAAqBA,IAAkBkD,KAAKC,IAE3D,OADuC,IAA3BgB,EAAMnC,QAAQtD,I,EAI9B2P,YAAc,SAAAsC,GACV,IAAMjS,EAASsB,KAAqBA,IAAkBkD,KAAKC,IAE3D,OADyC,IAA7BwN,EAAQ3O,QAAQtD,I,EAIhC6B,kBAAoB,WAChB,EAAKC,SAAS,CAAE8D,SAAS,IACzB,IAAMlF,EAAe,EAAKsB,MAAMmO,MAAMC,OAAO1P,aAC7CD,EAAiBC,GAAcvB,MAAK,SAAAyE,GAC5BA,EAAKc,MACLlF,QAAQC,IAAImE,EAAKc,YAEAC,GAAdf,EAAK6B,MACJ,EAAK3D,SAAS,CACVtB,WAAYoD,EACZ6B,MAAO7B,EAAK6B,MAAMrB,OAClBrE,KAAM,EAAKmS,UAAUtO,EAAK6B,OAC1BE,SAAU/B,EAAK+B,SACfV,MAAOrB,EAAKqB,MACZW,SAAS,IAIb,EAAK9D,SAAS,CAACqQ,gBAAgB,Q,EAO/CC,eAAiB,SAAAzM,GACb,EAAK7D,SAAS,CAAE6D,c,EAGpBxD,YAAc,WACV,EAAKL,SAAS,CAACC,MAAM,K,EAGzBQ,iBAAmB,WACf,EAAKT,SAAS,CAACuQ,WAAW,K,EAI9B1P,aAAe,SAACP,GAGZ,GAFAA,EAAEQ,UAECR,EAAES,OAAOC,QACZtD,QAAQC,IAAI,WACZD,QAAQC,IAAI2C,EAAES,OAAOK,OAErB,EAAKpB,UAAS,SAAAiB,GAAS,OACEA,EAAUC,oBAAoBC,KAAKb,EAAES,OAAOK,OAChE1D,QAAQC,IAAI,EAAK0D,MAAMH,4BAErB,CACCxD,QAAQC,IAAI,aACZ,IAAI2D,EAAK,YAAQ,EAAKD,MAAMH,qBACxBK,EAAQ,EAAKF,MAAMH,oBAAoBM,QAAQlB,EAAES,OAAOK,OAE5D,GADA1D,QAAQC,IAAI4D,IACG,IAAXA,EAAc,CAClBD,EAAQA,EAAMG,OAAO,EAAGF,GACxB7D,QAAQC,IAAI2D,GAIZ,EAAKtB,UAAS,SAAAiB,GAAS,OACEA,EAAUC,oBAAoBO,OAAOF,EAAM,GAC/D7D,QAAQC,IAAI,EAAK0D,MAAMH,2B,EASxCsP,WAAa,WACT,IAAKhR,IAED,OADA,EAAKQ,SAAS,CAAEkI,kBAAkB,KAC3B,EAEX,IAAI+F,EAAU,EAAK5M,MAAMpD,KAAOK,EAASL,EACnCC,EAASsB,IAAkBkD,KAAKC,IAChC1F,EAAS,EAAKoE,MAAMlB,KAAKwC,IAG/BsL,EAAQ/P,EAFMsB,IAAkB3B,MAETZ,GAAQI,MAAK,SAAAyE,GAC5BA,EAAKc,MACLlF,QAAQC,IAAImE,EAAKc,OAEjB,EAAK5C,SAAS,CACV/B,MAAO,EAAKoD,MAAMpD,KAClB0F,MAAO7B,EAAK6B,MAAMrB,a,EAMlCmO,iBAAmB,WACf,IAAM7R,EAAe,EAAKsB,MAAMmO,MAAMC,OAAO1P,aACvCf,EAAQ2B,IAAkB3B,MAChCD,EAAOgB,EAAcf,GAAOR,MAAK,SAAAyE,GAEzB,EAAK9B,SAAS,CAAEqQ,gBAAgB,OAEvC7S,OAAM,SAAAC,GACH,EAAKuC,SAAS,CAAC4C,MAAOnF,Q,EAK9BqP,gBAAkB,WACD3N,OAAO4N,QAAQ,+CAExB,EAAK0D,oB,EAIb/J,YAAc,SAAAvD,GAEV,OADAzF,QAAQC,IAAIwF,GAGR,yBAAKY,UAAU,OACVZ,EAAMuB,KAAI,SAACvE,EAAMwE,GACdjH,QAAQC,IAAIgH,GACZ,IAAMgC,EAAWxG,EAAKsD,UAAL,gBACFtD,EAAKsD,UAAUd,KACxB,GACAiE,EAAazG,EAAKsD,UAClBtD,EAAKsD,UAAUC,KACf,WAEN,OACI,yBAAKK,UAAU,0BAA0Ba,IAAKD,GAC1C,yBAAKZ,UAAU,aACX,yBACIiD,IAAK7G,EAAK8G,MACVC,IAAK/G,EAAKgH,MACVC,QAAS,SAAAzC,GAAC,OACLA,EAAE5D,OAAOiG,IAAT,UAAkBK,MAEvBtD,UAAU,qBACV8C,MAAO,CAAES,OAAQ,QAASC,MAAO,UAErC,wBAAIxD,UAAU,cAAc5D,EAAKgH,OACjC,uBAAGpD,UAAU,aACR5D,EAAKqH,UAAUC,UAAU,EAAG,MAEjC,6BACA,uBAAG1D,UAAU,eAAb,YACc,IACV,kBAAC,IAAD,CAAM2D,GAAE,UAAKf,IACRC,EAAY,KAHrB,MAKQ,IAAIe,KAAKxH,EAAKyH,SAASC,gBAE/B,kBAAC,IAAD,CACIH,GAAE,gBAAWvH,EAAKwC,KAClBoB,UAAU,qCAFd,aAMA,yBAAKA,UAAU,YACf,yBAAKA,UAAU,UACX,kBAAC,IAAD,CAAiB0B,QAAS,EAAKiL,oBAAqBvL,KAAMwL,c,EAY1FC,iBAAmB,SAAAlS,GACf,IAAMiI,EAAWjI,EAAW+E,UAAX,gBAAgC/E,EAAW+E,UAAUd,KAAQ,GACxEiE,EAAalI,EAAW+E,UAAY/E,EAAW+E,UAAUC,KAAO,WAFzC,EAImD,EAAKrC,MAA7EpD,EAJqB,EAIrBA,KAAM0F,EAJe,EAIfA,MAAuD4I,GAJxC,EAIRtM,KAJQ,EAIFqD,YAJE,EAIWM,SAJX,EAIqBC,SAJrB,EAI+BC,QAJ/B,EAIwCyI,QAErE,OACI,yBAAKxI,UAAU,kBACX,yBAAKA,UAAU,OACf,yBAAKA,UAAU,SACf,yBACIiD,IAAG,UAAKtI,EAAWuI,OACnBC,IAAKxI,EAAWmS,MAChBzJ,QAAS,SAAAzC,GAAC,OAAKA,EAAE5D,OAAOiG,IAAT,UAAkBK,MACjCtD,UAAU,gBACV8C,MAAO,CACHS,OAAQ,OACRC,MAAO,OACPuJ,UAAW,YAInB,yBAAK/M,UAAU,SACX,yBAAKA,UAAU,OACf,yBAAKA,UAAU,UACf,wBAAIA,UAAU,aAAarF,EAAWgF,OAErClE,IAAkBkD,MAAQlD,IAAkBkD,KAAKC,MAAQjE,EAAW+E,UAAUd,KAC3E,oCACJ,yBAAKoB,UAAU,SACX,yBAAKA,UAAU,OACX,yBAAKA,UAAU,OACf,kBAAC,IAAD,CAAM2D,GAAE,2BAAsBhJ,EAAWiE,MACrC,kBAAC,IAAD,CAAiB2F,KAAK,KAAKnD,KAAM4L,QAGrC,yBAAKhN,UAAU,OACf,kBAAC,IAAD,CAAiBuE,KAAK,KAAKvE,UAAU,cAAc0B,QAAS,EAAKqH,gBAAiB3H,KAAM6L,MAAY,SAO5G,wBAAIjN,UAAU,WACd,yBAAKA,UAAU,OACX,yBAAKA,UAAU,YACX,0CAEJ,yBAAKA,UAAU,YACX,2BAAIrF,EAAWoK,SAGvB,wBAAI/E,UAAU,WACd,yBAAKA,UAAU,OACX,yBAAKA,UAAU,YACX,+CAEJ,yBAAKA,UAAU,YACX,2BAAG,kBAAC,IAAD,CAAM2D,GAAE,UAAKf,IAAaC,EAA1B,QAGX,yBAAK7C,UAAU,OACX,yBAAKA,UAAU,YACX,+CAEJ,yBAAKA,UAAU,YACX,2BAAI,IAAI4D,KAAKjJ,EAAWkJ,SAASC,kBAGzC,wBAAI9D,UAAU,WAEd,yBAAKA,UAAU,OACf,yBAAKA,UAAU,OACd9F,EACD,uBAAGwH,QAAS,EAAK+K,YACb,kBAAC,IAAD,CAAiBzM,UAAU,oBAAoBuE,KAAK,KAAKnD,KAAM8L,MAAe,IAC7E,IACAtN,EAHL,SAMA,uBAAG8B,QAAS,EAAK+K,YACb,kBAAC,IAAD,CAAiBzM,UAAU,OAAOuE,KAAK,KAAKnD,KAAM8L,MAAe,IAChEtN,EAFL,UAMJ,yBAAKI,UAAU,OACdwI,EACG,uBAAG9G,QAAS,EAAKyL,cACb,kBAAC,IAAD,CAAiBnN,UAAU,oBAAoBuE,KAAK,KAAKnD,KAAM8L,MAAe,IAC7E,IACAtN,EAHL,SAMA,uBAAG8B,QAAS,EAAK+K,YACb,kBAAC,IAAD,CAAiBzM,UAAU,OAAOuE,KAAK,KAAKnD,KAAM8L,MAAe,IAChEtN,EAFL,e,uDAaN,IAAD,EAC8EH,KAAKnC,MAAhF3C,EADH,EACGA,WAAY2R,EADf,EACeA,eAAgBnI,EAD/B,EAC+BA,iBAAkBpE,EADjD,EACiDA,QAAmBX,GADpE,EAC0DU,SAD1D,EACoEV,OAEzE,OAAIkN,EACO,kBAAC,IAAD,CAAU3I,GAAE,MACZQ,EACA,kBAAC,IAAD,CAAUR,GAAE,aAGvBhK,QAAQC,IAAIwF,GAGR,yBAAKY,UAAU,aACVD,EACG,yBAAKC,UAAU,yBACX,2CAGRrF,EAAc8E,KAAKoN,iBAAiBlS,GAC5B,yBAAKqF,UAAU,eACf,2CAKR,wBAAIA,UAAU,sBAAsBoN,QAAShO,EAAMb,OAAO,GAA1D,SACCkB,KAAKkD,YAAYvD,S,GAhVHrD,a,SCP3BsR,IADSC,EAAS,KACRA,EAAQ,MA6UPC,G,kDA1UX,aAAe,IAAD,8BACV,gBAyBJvC,QAAU,WAAO,IAAD,EAC2C,EAAK1N,MAApD8F,EADI,EACJA,MAAOK,EADH,EACGA,UAAW+J,EADd,EACcA,SADd,EACwBC,KACpC,OAFY,EAC8BxC,SAC3B,KACX,EAAKhP,SAAS,CACV4C,MAAO,sCACPkB,SAAS,KAEN,GAEU,IAAjBqD,EAAM7E,QAAqC,IAArBkF,EAAUlF,QAAmC,GAAnBiP,EAASjP,SACzD,EAAKtC,SAAS,CAAE4C,MAAO,0BAA2BkB,SAAS,KACpD,IArCD,EA0Cd2N,SAAW,SAACD,GACR,IAAME,EAAYF,EAAKG,QAAQ,2BAA4B,IAe3D,OzBnDkB,SAAC9T,EAAO2T,GAC9B,OAAOtU,MAAM,GAAD,OAAIC,kDAAJ,sBAA+CqU,GAAQ,CAC/DpU,OAAQ,MACRU,QAAS,CACLC,OAAQ,mBACR,eAAgB,mBAChBC,cAAc,UAAD,OAAYH,MAGhCR,MAAK,SAAAC,GACE,OAAOA,EAASC,UAEvBC,OAAM,SAAAC,GAAG,OAAIC,QAAQC,IAAIF,MyB0BtBmU,CADcpS,IAAkB3B,MACd6T,GACjBrU,MAAK,SAAAyE,GAEF,OADApE,QAAQC,IAAImE,QACAe,GAATf,EAAK,IACJpE,QAAQC,IAAImE,EAAK,IACjB,EAAK9B,SAAS,CAAC4C,MAAO,wBAAyBiP,SAAU/P,EAAK,GAAGa,OAC1D,IAEPjF,QAAQC,IAAI,QACL,OAIR,GA1DG,EA+DdkD,aAAe,SAAA6C,GAAI,OAAI,SAAA/B,GAAU,IAAD,EAC5B,EAAK3B,SAAS,CAAE4C,MAAO,KACvB,IAAMxB,EACO,UAATsC,EAAmB/B,EAAMZ,OAAOmO,MAAM,GAAKvN,EAAMZ,OAAOK,MAEtD4N,EAAoB,UAATtL,EAAmB/B,EAAMZ,OAAOmO,MAAM,GAAG5G,KAAO,EACjE,EAAKwJ,SAAS/O,IAAIW,EAAMtC,GACxB1D,QAAQC,IAAI,EAAKmU,UACjB,EAAK9R,UAAL,mBAAiB0D,EAAOtC,GAAxB,yBAA+B4N,GAA/B,MAvEU,EA0Ef+C,UAAY,SAACP,GAIZ,GAFiB,uCAEPvC,KAAKuC,GAAO,CAElB,IAIIQ,EAAOrN,EAJPsN,EAAQT,EAAKG,QAAQ,2BAA4B,IAAIO,MAAM,IAE3DC,EAAOF,EAAMG,MACbC,EAAM,EAGV,GAAoB,GAAhBJ,EAAM3P,OAAa,CAGnB,IADA2P,EAAMK,UACD3N,EAAI,EAAGA,EAAIsN,EAAM3P,OAAQqC,IAC1B0N,IAAQ1N,EAAI,GAAK4N,SAASN,EAAMtN,GAAI,IAG3B,KADbqN,EAAQ,GAAMK,EAAM,IAEhBL,EAAQ,IACQ,IAATA,IACPA,EAAQ,SAET,CAEH,IAAKrN,EAAI,EAAGA,EAAIsN,EAAM3P,OAAQqC,IAC1B0N,IAAQ1N,EAAI,EAAI,EAAI,GAAK4N,SAASN,EAAMtN,GAAI,IAGnC,KADbqN,EAAQ,GAAMK,EAAM,MAEhBL,EAAQ,KAIhB,OAAIA,GAASG,IAGTzU,QAAQC,IAAI,6BACL,GAIX,OADAD,QAAQC,IAAI,eACL,GArHG,EA0Hd6U,iBAAmB,yDAAM,WAAM7Q,GAAN,iBAAA8Q,EAAA,sDAEfjB,EAAO7P,EAAMZ,OAAOK,MAExB,EAAK2Q,UAAUP,IAEbkB,EAAYlB,EAAKG,QAAQ,2BAA4B,IAEzDP,GAAQuB,QAAQnB,GACfnU,MAAK,SAACuV,GACHlV,QAAQC,IAAIiV,GACO,MAAhBA,GACC,EAAK5S,SAAS,CACVmH,MAAOyL,EAAazL,MACpBK,UAAWoL,EAAaC,UACxBtB,SAAWqB,EAAarB,SACxBC,KAAMA,EACN5O,MAAO,KAEX,EAAKkP,SAAS/O,IAAI,QAAS6P,EAAazL,OACxC,EAAK2K,SAAS/O,IAAI,YAAa6P,EAAaC,WAC5C,EAAKf,SAAS/O,IAAI,WAAY6P,EAAarB,UAC3C,EAAKO,SAAS/O,IAAI,OAAQ2P,IAE1B,EAAKZ,SAAS/O,IAAI,OAAQ2P,GAE9B,EAAK1S,SAAS,CAAC4C,MAAO,SAGvB,EAAK5C,SAAS,CAAC4C,MAAO,qBAGV,GAAb4O,EAAKlP,QACP,EAAKtC,SAAS,CAAC4C,MAAO,KAjCD,2CAAN,uDA1HL,EAgKdgJ,YAAc,SAAAjK,IACVA,EAAMC,iBACN,EAAK5B,SAAS,CAAE8D,SAAS,IAGrB,EAAKiL,WAAa,EAAK0C,SAAS,EAAKpQ,MAAMmQ,SAC3C9T,QAAQC,IAAI,QzB9KF,SAACO,EAAQL,EAAOsC,GAClC,OAAOjD,MAAM,GAAD,OAAIC,kDAAJ,qBAA8Ce,GAAU,CAChEd,OAAQ,OACRU,QAAS,CACLC,OAAQ,mBACRC,cAAc,UAAD,OAAYH,IAE7BM,KAAMgC,IAEL9C,MAAK,SAAAC,GACF,OAAOA,EAASC,UAEnBC,OAAM,SAAAC,GAAG,OAAIC,QAAQC,IAAIF,MyBqKtBgB,CAFee,IAAkBkD,KAAKC,IACxBnD,IAAkB3B,MACV,EAAKiU,UAC1BzU,MACC,SAACyE,GACCA,EAAKc,MAaL,EAAK5C,SAAS,CAAC4C,MAAOd,EAAKc,QAZ3B,EAAK5C,SAAS,CACV8D,SAAS,EACTqD,MAAO,GACPK,UAAW,GACX+J,SAAU,GACVuB,YAAa,GACbtB,KAAM,GACN5O,MAAO,GACPmQ,mBAAmB,EACnB5S,KAAM2B,OAOZ,SAACc,GACClF,QAAQkF,MAAMA,GADL,MAEmBA,EAAMtF,SAASwE,KAAnCkR,EAFC,EAEDA,QAASC,EAFR,EAEQA,OACjB,EAAKjT,SAAS,CACZ4C,MAAM,gBAAKqQ,GACXC,aAAcD,GAAUD,SAlMxB,EAwMdG,YAAc,SAAChM,EAAOK,EAAW+J,EAAWuB,EAAatB,GAA3C,OACV,8BAEKA,EACD,yBAAKzN,UAAU,cACf,2BAAOA,UAAU,cAAjB,cACA,2BACIgB,SAAU,EAAKlE,aAAa,SAC5BmE,KAAK,OACLuK,OAAO,UACPxL,UAAU,kBAGV,KACJ,yBAAKA,UAAU,cACX,2BAAOA,UAAU,cAAjB,QACA,8BACIgB,SAAU,EAAKyN,mBACfxN,KAAK,OACLjB,UAAU,eACV3C,MAAOoQ,KAIf,yBAAKzN,UAAU,cACX,2BAAOA,UAAU,cAAjB,SACA,2BACIgB,SAAU,EAAKlE,aAAa,SAC5BmE,KAAK,OACLjB,UAAU,eACV3C,MAAO+F,KAIf,yBAAKpD,UAAU,cACX,2BAAOA,UAAU,cAAjB,aACA,8BACIgB,SAAU,EAAKlE,aAAa,aAC5BmE,KAAK,OACLjB,UAAU,eACV3C,MAAOoG,KAIf,yBAAKzD,UAAU,cACX,2BAAOA,UAAU,cAAjB,YACA,8BACIgB,SAAU,EAAKlE,aAAa,YAC5BmE,KAAK,OACLjB,UAAU,eACV3C,MAAOmQ,KAIf,yBAAKxN,UAAU,cACX,2BAAOA,UAAU,cAAjB,eACA,8BACIgB,SAAU,EAAKlE,aAAa,eAC5BmE,KAAK,OACLjB,UAAU,eACV3C,MAAO0R,KAIf,4BACIrN,QAAS,EAAKmG,YACd7H,UAAU,8BAFd,cAtQJ,EAAK1C,MAAQ,CACT8F,MAAO,GACPK,UAAW,GACX+J,SAAU,GACVuB,YAAa,GACbtB,KAAM,GACNvK,MAAO,GACPrE,MAAO,GACPsQ,YAAY,GACZxQ,KAAM,GACNsM,SAAU,EACVlL,SAAS,EACTgL,mBAAmB,EACnBiE,mBAAmB,EACnBlB,SAAU,GACV1R,KAAM,IAjBA,E,gEAsBVqD,KAAKsO,SAAW,IAAI/P,SACpByB,KAAKxD,SAAS,CAAE0C,KAAMlD,IAAkBkD,S,+BA0PlC,IAAD,EAeDc,KAAKnC,MAbL8F,EAFC,EAEDA,MACAK,EAHC,EAGDA,UAEA+J,GALC,EAIDC,KAJC,EAKDD,UAEAuB,GAPC,EAMD7L,MANC,EAOD6L,aACApQ,EARC,EAQDA,KACAE,EATC,EASDA,MACAkB,EAVC,EAUDA,QACAgL,EAXC,EAWDA,kBACAiE,EAZC,EAYDA,kBACAlB,EAbC,EAaDA,SACA1R,EAdC,EAcDA,KAGElD,EAAS4U,EAAQ,gBACIA,GACT,GAElB,OAAI/C,EACO,kBAAC,IAAD,CAAUpH,GAAE,gBAAWhF,EAAKC,OAEnCoQ,EACO,kBAAC,IAAD,CAAUrL,GAAE,gBAAWvH,EAAKwC,OAInC,yBAAKoB,UAAU,aACX,wBAAIA,UAAU,aAAd,kBACA,yBACIA,UAAU,qBACV8C,MAAO,CAAEoF,QAASrJ,EAAQ,GAAK,SAE9BA,EACAiP,EACO,kBAAC,IAAD,CAAMnK,GAAE,UAAKzK,IACR,uBAET,MAGP6G,IAAYlB,EACT,yBAAKmB,UAAU,yBACX,2CAGJ,GAGHP,KAAK2P,YAAYhM,EAAOK,EAAW+J,EAAUuB,Q,GArUxChT,aC+NPsT,G,kDA/NX,aAAe,IAAD,8BACV,gBAgBJlF,KAAO,SAAAjR,GACHS,QAAQC,IAAIV,GACZD,EAAWC,GAAQI,MAAK,SAAAyE,GAChBA,EAAKc,MACL,EAAK5C,SAAS,CAAE8O,mBAAmB,IAEnC,EAAK9O,SAAS,CACVsJ,GAAIxH,EAAK2B,UAAUd,IACnBwE,MAAOrF,EAAKqF,MACZK,UAAW1F,EAAK0F,UAChBgK,KAAM1P,EAAK0P,KACXvK,MAAOnF,EAAKmF,MACZsK,SAAUzP,EAAKyP,SACf3O,MAAO,GACPkB,SAAS,QA/BX,EA4CdiL,QAAU,WAAO,IAAD,EAC2C,EAAK1N,MAApD8F,EADI,EACJA,MAAOK,EADH,EACGA,UADH,EACc+J,SADd,EACwBC,KACpC,OAFY,EAC8BxC,SAC3B,KACX,EAAKhP,SAAS,CACV4C,MAAO,sCACPkB,SAAS,KAEN,GAEU,IAAjBqD,EAAM7E,QAAqC,IAArBkF,EAAUlF,SAChC,EAAKtC,SAAS,CAAE4C,MAAO,0BAA2BkB,SAAS,KACpD,IAvDD,EA4DdjD,aAAe,SAAA6C,GAAI,OAAI,SAAA/B,GAAU,IAAD,EAC5B,EAAK3B,SAAS,CAAE4C,MAAO,KACvB,IAAMxB,EACO,UAATsC,EAAmB/B,EAAMZ,OAAOmO,MAAM,GAAKvN,EAAMZ,OAAOK,MAEtD4N,EAAoB,UAATtL,EAAmB/B,EAAMZ,OAAOmO,MAAM,GAAG5G,KAAO,OACxCzF,GAAtBlB,EAAMZ,OAAOmO,QACZxR,QAAQC,IAAI,QACZ,EAAKqC,SAAS,CAACqT,SAAS,KAE5B,EAAKvB,SAAS/O,IAAIW,EAAMtC,GACxB,EAAKpB,UAAL,mBAAiB0D,EAAOtC,GAAxB,yBAA+B4N,GAA/B,MAvEU,EA0EdpD,YAAc,SAAAjK,IACVA,EAAMC,iBACN,EAAK5B,SAAS,CAAE8D,SAAS,IAErB,EAAKiL,Y1BqBK,SAAC9R,EAAQY,EAAOyV,GAElC,OADA5V,QAAQC,IAAIV,EAAQY,EAAOyV,GACpBpW,MAAM,GAAD,OAAIC,kDAAJ,iBAA0CF,GAAU,CAC5DG,OAAQ,MACRU,QAAS,CACLC,OAAQ,mBACRC,cAAc,UAAD,OAAYH,IAE7BM,KAAMmV,IAELjW,MAAK,SAAAC,GACF,OAAOA,EAASC,UAEnBC,OAAM,SAAAC,GAAG,OAAIC,QAAQC,IAAIF,M0B9BtB2R,CAHe,EAAKlP,MAAMmO,MAAMC,OAAOrR,OACzBuC,IAAkB3B,MAEV,EAAKiU,UAAUzU,MAAK,SAAAyE,GAClCA,EAAKc,MAAO,EAAK5C,SAAS,CAAE4C,MAAOd,EAAKc,QAExC,EAAK5C,SAAL,aACI8D,SAAS,EACTqD,MAAO,GACPhJ,KAAM,GACNqJ,UAAW,GACXgK,KAAM,GACND,SAAU,GACVzC,mBAAmB,GAPvB,WAQa,QA7Ff,EAoGdyE,aAAe,SAACpM,EAAOqK,EAAMhK,EAAW+J,EAAUtK,EAAOoM,GAA1C,OACX,oCACEA,EAQC,KAPH,yBACIxM,MAAO,CAAES,OAAQ,QAASC,MAAO,QACjCxD,UAAU,gBACViD,IAAKC,EACLG,QAAS,SAAAzC,GAAC,OAAKA,EAAE5D,OAAOiG,IAAT,UA9GR,yEA+GPE,IAAKC,IAIT,wBAAIpD,UAAU,WAEd,0BAAMA,UAAU,QACZ,yBAAKA,UAAU,cACX,2BAAOA,UAAU,cAAjB,cACA,2BACIgB,SAAU,EAAKlE,aAAa,SAC5BmE,KAAK,OACLuK,OAAO,UACPxL,UAAU,kBAGlB,yBAAKA,UAAU,cACX,2BAAOA,UAAU,cAAjB,SACA,2BACIgB,SAAU,EAAKlE,aAAa,SAC5BmE,KAAK,OACLjB,UAAU,eACV3C,MAAO+F,KAIf,yBAAKpD,UAAU,cACX,2BAAOA,UAAU,cAAjB,aACA,2BACIgB,SAAU,EAAKlE,aAAa,aAC5BmE,KAAK,OACLjB,UAAU,eACV3C,MAAOoG,KAIf,yBAAKzD,UAAU,cACX,2BAAOA,UAAU,cAAjB,QACA,8BACIgB,SAAU,EAAKlE,aAAa,QAC5BmE,KAAK,OACLjB,UAAU,eACVyP,UAAQ,EACRpS,MAAOoQ,KAIf,yBAAKzN,UAAU,cACX,2BAAOA,UAAU,cAAjB,YACA,8BACIgB,SAAU,EAAKlE,aAAa,YAC5BmE,KAAK,OACLjB,UAAU,eACV3C,MAAOmQ,KAIf,4BACI9L,QAAS,EAAKmG,YACd7H,UAAU,8BAFd,kBAnKJ,EAAK1C,MAAQ,CACTiI,GAAI,GACJnC,MAAO,GACPK,UAAW,GACX+J,SAAU,GACVC,KAAM,GACNvK,MAAO,GACP6H,mBAAmB,EACnBlM,MAAO,GACPoM,SAAU,EACVlL,SAAS,EACTuP,SAAS,GAbH,E,gEAsCV7P,KAAKxD,SAAS,CAAC8D,SAAS,IACxBN,KAAKsO,SAAW,IAAI/P,SACpB,IAAM9E,EAASuG,KAAKtD,MAAMmO,MAAMC,OAAOrR,OACvCuG,KAAK0K,KAAKjR,K,+BAsIJ,IAAD,EAYDuG,KAAKnC,MAVLiI,EAFC,EAEDA,GACAnC,EAHC,EAGDA,MACAK,EAJC,EAIDA,UACA+J,EALC,EAKDA,SACAtK,EANC,EAMDA,MACAuK,EAPC,EAODA,KACA1C,EARC,EAQDA,kBACAlM,EATC,EASDA,MACAkB,EAVC,EAUDA,QACAuP,EAXC,EAWDA,QAGJ,OAAIvE,EACO,kBAAC,IAAD,CAAUpH,GAAE,gBAAWlI,IAAkBkD,KAAKC,OAIrD,yBAAKoB,UAAU,aACX,wBAAIA,UAAU,aAAaoD,GAE3B,yBACIpD,UAAU,qBACV8C,MAAO,CAAEoF,QAASrJ,EAAQ,GAAK,SAE9BA,GAGJkB,EACG,yBAAKC,UAAU,yBACX,2CAGJ,GAI6B,UAAhCvE,IAAkBkD,KAAKgH,MACpBlG,KAAK+P,aAAapM,EAAOqK,EAAMhK,EAAW+J,EAAUtK,EAAOoM,GAE9D7T,IAAkBkD,KAAKC,MAAQ2G,GAC5B9F,KAAK+P,aAAapM,EAAOqK,EAAMhK,EAAW+J,EAAUtK,EAAOoM,Q,GA1NxDvT,aCyKR2T,G,4MAxKXpS,MAAQ,CACJqS,KAAM,GACN9Q,MAAO,I,EAGX/B,aAAe,SAAAc,GACX,EAAK3B,SAAS,CAAE4C,MAAO,KACvB,EAAK5C,SAAS,CAAE0T,KAAM/R,EAAMZ,OAAOK,S,EAGvC2N,QAAU,WAAO,IACL2E,EAAS,EAAKrS,MAAdqS,KACR,SAAKA,EAAKpR,OAAS,GAAKoR,EAAKpR,OAAS,OAClC,EAAKtC,SAAS,CACV4C,MACI,mEAED,I,EAKf+Q,WAAa,SAAArT,GAGT,GAFAA,EAAEsB,kBAEGpC,IAED,OADA,EAAKQ,SAAS,CAAE4C,MAAO,sCAChB,EAGX,GAAI,EAAKmM,UAAW,CAChB,IAAM7Q,EAASsB,IAAkBkD,KAAKC,IAChC9E,EAAQ2B,IAAkB3B,MAC1BZ,EAAS,EAAKiD,MAAMjD,OAE1BsB,EAAQL,EAAQL,EAAOZ,EAAQ,CAAEyW,KAAM,EAAKrS,MAAMqS,OAAQrW,MACtD,SAAAyE,GACQA,EAAKc,MACLlF,QAAQC,IAAImE,EAAKc,QAEjB,EAAK5C,SAAS,CAAE0T,KAAM,KAEtB,EAAKxT,MAAMoQ,eAAexO,EAAK+B,gB,EAOnD+P,cAAgB,SAAArV,GACZ,IAAML,EAASsB,IAAkBkD,KAAKC,IAChC9E,EAAQ2B,IAAkB3B,MAC1BZ,EAAS,EAAKiD,MAAMjD,OAE1BuB,EAAUN,EAAQL,EAAOZ,EAAQsB,GAASlB,MAAK,SAAAyE,GACvCA,EAAKc,MACLlF,QAAQC,IAAImE,EAAKc,OAEjB,EAAK1C,MAAMoQ,eAAexO,EAAK+B,c,EAK3CiJ,gBAAkB,SAAAvO,GACDY,OAAO4N,QAChB,kDAGA,EAAK6G,cAAcrV,I,uDAIjB,IAAD,OACGsF,EAAaL,KAAKtD,MAAlB2D,SACAjB,EAAUY,KAAKnC,MAAfuB,MAER,OACI,6BACI,wBAAImB,UAAU,aAAd,mBAEA,0BAAMS,SAAUhB,KAAKmQ,YACjB,yBAAK5P,UAAU,cACX,2BACIiB,KAAK,OACLD,SAAUvB,KAAK3C,aACfO,MAAOoC,KAAKnC,MAAMqS,KAClB3P,UAAU,eACVgC,YAAY,uBAEhB,4BAAQhC,UAAU,mCAAlB,UAMR,yBACIA,UAAU,qBACV8C,MAAO,CAAEoF,QAASrJ,EAAQ,GAAK,SAE9BA,GAGL,yBAAKmB,UAAU,aACX,wBAAIA,UAAU,gBAAgBF,EAASvB,OAAvC,aACA,6BACCuB,EAASa,KAAI,SAACnG,EAASoG,GAAV,OACV,yBAAKC,IAAKD,GACN,6BACI,kBAAC,IAAD,CAAM+C,GAAE,gBAAWnJ,EAAQkF,UAAUd,MACjC,yBACIkE,MAAO,CACH4G,aAAc,MACdC,OAAQ,mBAEZ3J,UAAU,kBACVuD,OAAO,OACPC,MAAM,OACNH,QAAS,SAAAzC,GAAC,OACLA,EAAE5D,OAAOiG,IAAT,UAAkB2G,MAEvB3G,IAAG,UACC7J,kDADD,uBAEYoB,EAAQkF,UAAUd,KACjCuE,IAAK3I,EAAQkF,UAAUC,QAG/B,6BACI,uBAAGK,UAAU,QAAQxF,EAAQmV,MAC7B,uBAAG3P,UAAU,oBAAb,YACc,IACV,kBAAC,IAAD,CACI2D,GAAE,gBAAWnJ,EAAQkF,UAAUd,MAE9BpE,EAAQkF,UAAUC,KAAM,KALjC,KAOO,IACF,IAAIiE,KACDpJ,EAAQqJ,SACVC,eACF,8BACKrI,IAAkBkD,MACflD,IAAkBkD,KAAKC,MACnBpE,EAAQkF,UAAUd,KAClB,oCACI,0BACI8C,QAAS,kBACL,EAAKqH,gBACDvO,IAGRwF,UAAU,gCANd,yB,GAjJlCjE,aC8YP+T,G,4MAtYXxS,MAAQ,CACJlB,KAAM,GACNkQ,gBAAgB,EAChBnI,kBAAkB,EAClBjK,MAAM,EACN0F,MAAO,EACP1D,MAAM,EACNqD,YAAa,GACbpC,oBAAqB,GACrBe,oBAAqB,GACrB4B,SAAU,GACVD,UAAU,EACVE,SAAS,EACTb,cAAc,EACdL,MAAO,GACP2N,WAAW,G,EAGf7K,WAAa,WACT,EAAK1F,SAAS,CAAE4D,UAAU,K,EAG9BwM,UAAY,SAAAzM,GACR,IAAMzF,EAASsB,KAAqBA,IAAkBkD,KAAKC,IAE3D,OADuC,IAA3BgB,EAAMnC,QAAQtD,I,EAI9B6B,kBAAoB,WAChB,EAAKC,SAAS,CAAE8D,SAAS,IACzB,IAAM7G,EAAS,EAAKiD,MAAMmO,MAAMC,OAAOrR,OACvCD,EAAWC,GAAQI,MAAK,SAAAyE,GAChBA,EAAKc,MACLlF,QAAQC,IAAImE,EAAKc,QAEjBlF,QAAQC,IAAImE,QACKe,GAAdf,EAAK6B,MACJ,EAAK3D,SAAS,CACVG,KAAM2B,EACN6B,MAAO7B,EAAK6B,MAAMrB,OAClBrE,KAAM,EAAKmS,UAAUtO,EAAK6B,OAC1BE,SAAU/B,EAAK+B,SACfC,SAAS,IAIb,EAAK9D,SAAS,CAACqQ,gBAAgB,S,EAO/CC,eAAiB,SAAAzM,GACb,EAAK7D,SAAS,CAAE6D,c,EAGpBxD,YAAc,WACV,EAAKL,SAAS,CAACC,MAAM,K,EAGzBQ,iBAAmB,WACf,EAAKT,SAAS,CAACuQ,WAAW,K,EAG9B5P,YAAc,WACVjD,QAAQC,MACR,EAAK0C,e,EAGTO,WAAa,WACT,EAAKZ,SAAS,CAACC,MAAM,IACrBvC,QAAQC,IAAI,Y,EAGhBkD,aAAe,SAACP,GAGZ,GAFAA,EAAEQ,UAECR,EAAES,OAAOC,QACZtD,QAAQC,IAAI,WACZD,QAAQC,IAAI2C,EAAES,OAAOK,OAErB,EAAKpB,UAAS,SAAAiB,GAAS,OACEA,EAAUC,oBAAoBC,KAAKb,EAAES,OAAOK,OAChE1D,QAAQC,IAAI,EAAK0D,MAAMH,4BAErB,CACCxD,QAAQC,IAAI,aACZ,IAAI2D,EAAK,YAAQ,EAAKD,MAAMH,qBACxBK,EAAQ,EAAKF,MAAMH,oBAAoBM,QAAQlB,EAAES,OAAOK,OAE5D,GADA1D,QAAQC,IAAI4D,IACG,IAAXA,EAAc,CAClBD,EAAQA,EAAMG,OAAO,EAAGF,GACxB7D,QAAQC,IAAI2D,GAIZ,EAAKtB,UAAS,SAAAiB,GAAS,OACEA,EAAUC,oBAAoBO,OAAOF,EAAM,GAC/D7D,QAAQC,IAAI,EAAK0D,MAAMH,2B,EAQxCoF,UAAY,SAAAhG,GACR,EAAKN,SAAS,CACZC,MAAO,EAAKoB,MAAMpB,Q,EAKxByB,WAAa,SAACC,GACVA,EAAMC,iBACN,IAAMC,EAAOF,EAAMZ,OACbe,EAAO,IAAIC,SAASF,GAC1B,EAAKG,eAAiB,IAAID,SAC1B,IAAInE,EAAS,EAAKyD,MAAMY,oBAAoBC,QAAO,SAAAC,GAAC,OAAK,EAAKd,MAAMH,oBAAoBkB,SAASD,MAC7FE,EAAM,EAAKhB,MAAMH,oBAAoBgB,QAAO,SAAAC,GAAC,OAAI,EAAKd,MAAMY,oBAAoBG,SAASD,MAE7FzE,QAAQC,IAAIC,GACZF,QAAQC,IAAI0E,GAGZA,EAAII,SAAQ,SAAA/D,GACRI,EAAQU,IAAkBkD,KAAKC,IAAKnD,IAAkB3B,MAAOa,EAAY,EAAK2C,MAAMlB,KAAKwC,KACxFtF,MAAK,SAAAyE,GACEA,EAAKc,MACLlF,QAAQC,IAAImE,EAAKc,OAEjBlF,QAAQC,IAAImE,SAOxBlE,EAAO6E,SAAQ,SAAA/D,GACXK,EAAWS,IAAkBkD,KAAKC,IAAKnD,IAAkB3B,MAAOa,EAAY,EAAK2C,MAAMlB,KAAKwC,KAC3FtF,MAAK,SAAAyE,GACEA,EAAKc,MACLlF,QAAQC,IAAImE,EAAKc,OAEjBlF,QAAQC,IAAImE,cAMUe,GAA9Bf,EAAKgB,IAAI,mBACT,EAAKd,eAAee,IAAI,OAAQjB,EAAKgB,IAAI,mBACzC,EAAKd,eAAee,IAAI,UAAWjB,EAAKgB,IAAI,sBAC5CrE,EAAOe,IAAkBkD,KAAKC,IAAKnD,IAAkB3B,MAAO,EAAKmE,gBAChE3E,MAAK,SAAAyE,GACEA,EAAKc,MACLlF,QAAQC,IAAImE,EAAKc,OAGb9D,EAAQU,IAAkBkD,KAAKC,IAAKnD,IAAkB3B,MAAOiE,EAAKa,IAAK,EAAKtB,MAAMlB,KAAKwC,KACtFtF,MAAK,SAAA2F,GACEA,EAAOJ,MACPlF,QAAQC,IAAIqF,EAAOJ,QAEnBlF,QAAQC,IAAIqF,GACZ,EAAKhD,SAAS,CAACuQ,WAAW,IAC1B,EAAKlQ,uBAOzB,EAAKL,SAAS,CAACuQ,WAAW,IAC1B,EAAKlQ,gB,EAMbmQ,WAAa,WACT,IAAKhR,IAED,OADA,EAAKQ,SAAS,CAAEkI,kBAAkB,KAC3B,EAEX,IAAI+F,EAAU,EAAK5M,MAAMpD,KAAOK,EAASL,EACnCC,EAASsB,IAAkBkD,KAAKC,IAChC1F,EAAS,EAAKoE,MAAMlB,KAAKwC,IAG/BsL,EAAQ/P,EAFMsB,IAAkB3B,MAETZ,GAAQI,MAAK,SAAAyE,GAC5BA,EAAKc,MACLlF,QAAQC,IAAImE,EAAKc,OAEjB,EAAK5C,SAAS,CACV/B,MAAO,EAAKoD,MAAMpD,KAClB0F,MAAO7B,EAAK6B,MAAMrB,a,EAOlCwR,WAAa,WACT,IAAM7W,EAAS,EAAKiD,MAAMmO,MAAMC,OAAOrR,OACjCY,EAAQ2B,IAAkB3B,MAChCD,EAAOX,EAAQY,GAAOR,MAAK,SAAAyE,GAEnB,EAAK9B,SAAS,CAAEqQ,gBAAgB,OAEvC7S,OAAM,SAAAC,GACH,EAAKuC,SAAS,CAAC4C,MAAOnF,Q,EAK9BqP,gBAAkB,WACD3N,OAAO4N,QAAQ,+CAExB,EAAK+G,c,EAIbC,WAAa,SAAA5T,GACT,IAAMwG,EAAWxG,EAAKsD,UAAL,gBAA0BtD,EAAKsD,UAAUd,KAAQ,GAC5DiE,EAAazG,EAAKsD,UAAYtD,EAAKsD,UAAUC,KAAO,WAFzC,EAIoG,EAAKrC,MAAlHpD,EAJS,EAITA,KAAM0F,EAJG,EAIHA,MAAO1D,EAJJ,EAIIA,KAA6B4D,GAJjC,EAIUP,YAJV,EAIuBM,SAJvB,EAIiCC,UAJjC,EAI2CC,QAJ3C,EAIoDb,aAJpD,EAIkEsN,UAJlE,EAI6ErP,oBAE9F,OACI,yBAAK6C,UAAU,kBACX,yBAAKA,UAAU,OACf,yBAAKA,UAAU,OACf,yBACIiD,IAAG,UAAK7G,EAAK8G,OACbC,IAAK/G,EAAKgH,MACVC,QAAS,SAAAzC,GAAC,OAAKA,EAAE5D,OAAOiG,IAAT,UAAkBK,MACjCtD,UAAU,gBACV8C,MAAO,CACHS,OAAQ,OACRC,MAAO,MACPuJ,UAAW,YAInB,yBAAK/M,UAAU,OACX,wBAAIA,UAAU,aAAa5D,EAAKgH,OAChC,wBAAIpD,UAAU,WACd,yBAAKA,UAAU,OACX,yBAAKA,UAAU,YACX,8CAEJ,yBAAKA,UAAU,YACX,2BAAI5D,EAAKqH,aAGjB,yBAAKzD,UAAU,OACX,yBAAKA,UAAU,YACX,yCAEJ,yBAAKA,UAAU,YACX,2BAAI5D,EAAKqR,QAGjB,yBAAKzN,UAAU,OACX,yBAAKA,UAAU,YACX,6CAEJ,yBAAKA,UAAU,YACX,2BAAI5D,EAAKoR,YAGjB,wBAAIxN,UAAU,WACd,yBAAKA,UAAU,OACX,yBAAKA,UAAU,YACX,6CAEJ,yBAAKA,UAAU,YACX,2BAAG,kBAAC,IAAD,CAAM2D,GAAE,UAAKf,IAAaC,EAA1B,QAGX,yBAAK7C,UAAU,OACX,yBAAKA,UAAU,YACX,6CAEJ,yBAAKA,UAAU,YACX,2BAAI,IAAI4D,KAAKxH,EAAKyH,SAASC,kBAGnC,wBAAI9D,UAAU,WACbvE,IAAkBkD,MACnB,yBAAKqB,UAAU,OACf,yBAAKA,UAAU,OACd9F,EACD,uBAAGwH,QAAS,EAAK+K,YACb,kBAAC,IAAD,CAAiBzM,UAAU,eAAeuE,KAAK,KAAKnD,KAAM8L,MAAe,IACxE,IACAtN,EAHL,SAMA,uBAAG8B,QAAS,EAAK+K,YACb,kBAAC,IAAD,CAAiBlI,KAAK,KAAKnD,KAAM8L,MAAe,IAC/CtN,EAFL,UAMA,yBAAKI,UAAU,OAEf,kBAAC,EAAD,CAAkB9D,KAAMA,EAAMM,QAAS,EAAK+F,UAAWnG,KAAMA,IAC7D,uBAAGsF,QAAS,EAAK7E,WAAY4E,QAAQ,WACjC,kBAAC,IAAD,CAAiB8C,KAAK,KAAKnD,KAAM6O,MAChC,IAFL,yBAUJ,6BACA,yBAAKjQ,UAAU,kBAGVvE,IAAkBkD,MAAQlD,IAAkBkD,KAAKC,MAAQxC,EAAKsD,UAAUd,KACrE,oCACI,kBAAC,IAAD,CAAM+E,GAAE,qBAAgBvH,EAAKwC,KAAOoB,UAAU,0CAA9C,eAGA,4BAAQ0B,QAAS,EAAKqH,gBAAiB/I,UAAU,6BAAjD,gBAMR,6BACKvE,IAAkBkD,MAAwC,UAAhClD,IAAkBkD,KAAKgH,MAC9C,yBAAK3F,UAAU,aACX,yBAAKA,UAAU,aACX,wBAAIA,UAAU,cAAd,SACA,uBAAGA,UAAU,oBAAb,2BACA,kBAAC,IAAD,CACI2D,GAAE,qBAAgBvH,EAAKwC,KACvBoB,UAAU,0CAFd,eAMA,4BAAQ0B,QAAS,EAAKqH,gBAAiB/I,UAAU,6BAAjD,mBAQpB,kBAAC,GAAD,CAAS9G,OAAQkD,EAAKwC,IAAKkB,SAAUA,EAASyO,UAAWhC,eAAgB,EAAKA,mB,uDAMhF,IAAD,EACuD9M,KAAKnC,MAAzDlB,EADH,EACGA,KAAMkQ,EADT,EACSA,eAAgBnI,EADzB,EACyBA,iBAAkBpE,EAD3C,EAC2CA,QAEhD,OAAIuM,EACO,kBAAC,IAAD,CAAU3I,GAAE,MACZQ,EACA,kBAAC,IAAD,CAAUR,GAAE,YAInB,yBAAK3D,UAAU,aACVD,EACG,yBAAKC,UAAU,yBACX,2CAGA5D,EAAQqD,KAAKuQ,WAAW5T,GACxB,yBAAK4D,UAAU,eACf,gD,GA5XCjE,aCsGVmU,G,kDA7GX,aAAe,IAAD,8BACV,gBAOJ9N,UAAY,SAAAC,GACR,EAAKpG,SAAS,CAAC8D,SAAS,K7ByC5BpG,QAAQC,IAAI,KACLT,MAAM,GAAD,OAAIC,kDAAJ,cAA+C,CACvDC,OAAQ,QAEXC,MAAK,SAAAC,GACE,OAAOA,EAASC,UAEvBC,OAAM,SAAAC,GAAG,OAAIC,QAAQC,IAAIF,O6B/CPJ,MAAK,SAAAyE,GACXA,EAGD,EAAK9B,SAAS,CAAEmD,MAAOrB,EAAMgC,SAAS,IAFtC,EAAK9D,SAAS,CAAEmD,MAAO,SAZrB,EAuBdoD,SAAW,SAAAC,GACP,EAAKxG,SAAS,CAAEoG,KAAM,EAAK/E,MAAM+E,KAAOI,IACxC,EAAKL,UAAU,EAAK9E,MAAM+E,KAAOI,IAzBvB,EA4BdC,SAAW,SAAAD,GACP,EAAKxG,SAAS,CAAEoG,KAAM,EAAK/E,MAAM+E,KAAOI,IACxC,EAAKL,UAAU,EAAK9E,MAAM+E,KAAOI,IA9BvB,EAiCdE,YAAc,SAAAvD,GACV,OACI,yBAAKY,UAAU,OACVZ,EAAMuB,KAAI,SAACvE,EAAMwE,GACd,IAAMgC,EAAWxG,EAAKsD,UAAL,gBACFtD,EAAKsD,UAAUd,KACxB,GACAiE,EAAazG,EAAKsD,UAClBtD,EAAKsD,UAAUC,KACf,WAEN,OACI,yBAAKK,UAAU,0BAA0Ba,IAAKD,GAC1C,yBAAKZ,UAAU,aACX,yBACIiD,IAAK7G,EAAK8G,MACVC,IAAK/G,EAAKgH,MACVC,QAAS,SAAAzC,GAAC,OACLA,EAAE5D,OAAOiG,IAAT,UAAkBK,MAEvBtD,UAAU,qBACV8C,MAAO,CAAES,OAAQ,QAASC,MAAO,UAErC,wBAAIxD,UAAU,cAAc5D,EAAKgH,OACjC,uBAAGpD,UAAU,aACR5D,EAAKqH,UAAUC,UAAU,EAAG,MAEjC,6BACA,uBAAG1D,UAAU,eAAb,YACc,IACV,kBAAC,IAAD,CAAM2D,GAAE,UAAKf,IACRC,EAAY,KAHrB,MAKQ,IAAIe,KAAKxH,EAAKyH,SAASC,gBAE/B,kBAAC,IAAD,CACIH,GAAE,gBAAWvH,EAAKwC,KAClBoB,UAAU,qCAFd,oBAlExB,EAAK1C,MAAQ,CACT8B,MAAO,GACPW,SAAS,GAJH,E,gEAoBVN,KAAK2C,UAAU3C,KAAKnC,MAAM+E,Q,+BA8DpB,IAAD,EAC4B5C,KAAKnC,MAA9B8B,EADH,EACGA,MAAaW,GADhB,EACUsC,KADV,EACgBtC,SACrB,OACI,yBAAKC,UAAU,aAEVD,EACG,yBAAKC,UAAU,yBACX,2CAGJ,oCACA,wBAAIA,UAAU,aACZZ,EAAMb,OAAuB,eAAd,aAGjB,6BACCkB,KAAKkD,YAAYvD,U,GAnGdrD,a,UCkBToU,GAnBM,SAAC,GAAD,IAAcpU,EAAd,EAAGqU,UAAyBC,EAA5B,qCAEjB,kBAAC,IAAD,iBACQA,EADR,CAEIC,OAAQ,SAAAnU,GAAK,OACTV,IACI,kBAACM,EAAcI,GAEf,kBAAC,IAAD,CACIwH,GAAI,CACAa,SAAU,UACVlH,MAAO,CAAEiT,KAAMpU,EAAMiJ,kBCmD9BoL,G,4MA9DXlT,MAAQ,CACJzB,MAAO,GACPoT,QAAS,GACTpQ,MAAO,I,EAGXjD,eAAiB,SAAAW,GACbA,EAAEsB,iBACF,EAAK5B,SAAS,CAAEgT,QAAS,GAAIpQ,MAAO,KACpCjD,EAAe,EAAK0B,MAAMzB,OAAOvC,MAAK,SAAAyE,GAC9BA,EAAKc,OACLlF,QAAQC,IAAImE,EAAKc,OACjB,EAAK5C,SAAS,CAAE4C,MAAOd,EAAKc,UAE5BlF,QAAQC,IAAImE,EAAKkR,SACjB,EAAKhT,SAAS,CAAEgT,QAASlR,EAAKkR,e,uDAKhC,IAAD,OACL,OACI,yBAAKjP,UAAU,aACX,wBAAIA,UAAU,aAAd,0BAECP,KAAKnC,MAAM2R,SACR,wBAAIjP,UAAU,cAAcP,KAAKnC,MAAM2R,SAE1CxP,KAAKnC,MAAMuB,OACR,wBAAImB,UAAU,cAAcP,KAAKnC,MAAMuB,OAG3C,8BACI,yBAAKmB,UAAU,mBACX,2BACIiB,KAAK,QACLjB,UAAU,eACVgC,YAAY,qBACZ3E,MAAOoC,KAAKnC,MAAMzB,MAClB8D,KAAK,QACLqB,SAAU,SAAAzE,GAAC,OACP,EAAKN,SAAS,CACVJ,MAAOU,EAAES,OAAOK,MAChB4R,QAAS,GACTpQ,MAAO,MAGf4R,WAAS,KAGjB,4BACI/O,QAASjC,KAAK7D,eACdoE,UAAU,8BAFd,iC,GAnDSjE,aCwEd2U,G,kDAvEX,WAAYvU,GAAQ,IAAD,8BACf,cAAMA,IAQVwU,cAAgB,SAAApU,G9ByES,IAAAqU,E8BxErBrU,EAAEsB,iBACF,EAAK5B,SAAS,CAAEgT,QAAS,GAAIpQ,MAAO,M9BuEf+R,E8BrEP,CACVC,YAAa,EAAKvT,MAAMuT,YACxBC,kBAAmB,EAAK3U,MAAMmO,MAAMC,OAAOwG,oB9BoE5C5X,MAAM,GAAD,OAAIC,kDAAJ,oBAAqD,CAC7DC,OAAQ,MACRU,QAAS,CACLC,OAAQ,mBACR,eAAgB,oBAEpBI,KAAMC,KAAKC,UAAUsW,KAEpBtX,MAAK,SAAAC,GAEF,OADAI,QAAQC,IAAI,6BAA8BL,GACnCA,EAASC,UAEnBC,OAAM,SAAAC,GAAG,OAAIC,QAAQC,IAAIF,O8B/EvBJ,MAAK,SAAAyE,GACAA,EAAKc,OACLlF,QAAQC,IAAImE,EAAKc,OACjB,EAAK5C,SAAS,CAAE4C,MAAOd,EAAKc,MAAOgS,YAAa,OAEhDlX,QAAQC,IAAImE,EAAKkR,SACjB,EAAKhT,SAAS,CAAEgT,QAASlR,EAAKkR,QAAS4B,YAAa,UApB5D,EAAKvT,MAAQ,CACTuT,YAAa,GACb5B,QAAS,GACTpQ,MAAO,IALI,E,qDA2BT,IAAD,OACL,OACI,yBAAKmB,UAAU,aACX,wBAAIA,UAAU,aAAd,uBAECP,KAAKnC,MAAM2R,SACR,wBAAIjP,UAAU,cAAcP,KAAKnC,MAAM2R,SAE1CxP,KAAKnC,MAAMuB,OACR,wBAAImB,UAAU,cAAcP,KAAKnC,MAAMuB,OAG3C,0BACIiE,MAAO,CAAEoF,QAASzI,KAAKnC,MAAM2R,QAAQ1Q,OAAS,OAAS,KAEvD,yBAAKyB,UAAU,mBACX,2BACIiB,KAAK,WACLjB,UAAU,eACVgC,YAAY,oBACZ3E,MAAOoC,KAAKnC,MAAMuT,YAClBlR,KAAK,cACLqB,SAAU,SAAAzE,GAAC,OACP,EAAKN,SAAS,CACV4U,YAAatU,EAAES,OAAOK,MACtB4R,QAAS,GACTpQ,MAAO,MAGf4R,WAAS,KAGjB,4BACI/O,QAASjC,KAAKkR,cACd3Q,UAAU,8BAFd,wB,GA5DQjE,aC2FbiV,G,uKAzFD,IAAD,EACiCvR,KAAKtD,MAAnC0O,EADH,EACGA,MAAOzL,EADV,EACUA,MAAOG,EADjB,EACiBA,YAEtB,OADA5F,QAAQC,IAAIiR,EAAMtM,QAEd,6BAEuB,GAAda,EAAMb,QAA2B,GAAdsM,EAAMtM,QAAiC,GAApBgB,EAAYhB,OAC/C,yBAAKyB,UAAU,eACf,2CAOR,yBAAKA,UAAU,OACX,yBAAKA,UAAU,YACX,wBAAIA,UAAU,gBACT6K,EAAMtM,OADX,UAGA,6BACCsM,EAAMlK,KAAI,SAAC8I,EAAQ7I,GAAT,OACP,yBAAKC,IAAKD,GACN,6BACI,kBAAC,IAAD,CAAM+C,GAAE,gBAAW8F,EAAO7K,MACtB,yBACIkE,MAAO,CACH4G,aAAc,MACdC,OAAQ,mBAEZ3J,UAAU,kBACVuD,OAAO,OACPC,MAAM,OACNH,QAAS,SAAAzC,GAAC,OACLA,EAAE5D,OAAOiG,IAAT,UAAkB2G,MAEvB3G,IAAG,UACC7J,kDADD,uBAEYqQ,EAAO7K,KACtBuE,IAAKsG,EAAO9J,OAEhB,6BACI,uBAAGK,UAAU,QACRyJ,EAAO9J,cAQpC,yBAAKK,UAAU,YACX,wBAAIA,UAAU,gBAAgBT,EAAYhB,OAA1C,gBACA,6BACCgB,EAAYoB,KAAI,SAAChG,EAAYiG,GAAb,OACb,yBAAKC,IAAKD,GACN,6BACI,kBAAC,IAAD,CAAM+C,GAAE,sBAAiBhJ,EAAWiE,MAChC,6BACI,uBAAGoB,UAAU,QAAQrF,EAAWgF,cAOxD,yBAAKK,UAAU,YACX,wBAAIA,UAAU,gBAAgBZ,EAAMb,OAApC,UACA,6BACCa,EAAMuB,KAAI,SAACvE,EAAMwE,GAAP,OACP,yBAAKC,IAAKD,GACN,6BACI,kBAAC,IAAD,CAAM+C,GAAE,gBAAWvH,EAAKwC,MACpB,6BACI,uBAAGoB,UAAU,QAAQ5D,EAAKgH,qB,GA3E7CrH,aCwJVkV,G,kDAjJb,aAAe,IAAD,8BACZ,gBAwBF9G,KAAO,SAAAnG,GACDrK,QAAQC,IAAIoK,GACZ,EAAKkN,UAAUlN,GACf,EAAK5B,UAAU4B,GACf,EAAKU,gBAAgBV,IA7Bb,EAiCdgH,QAAU,WAGR,OAAsB,IAFH,EAAK1N,MAAhB0G,OAEGzF,SACP,EAAKtC,SAAS,CAAE4C,MAAO,0BAA2BkB,SAAS,KACpD,IAtCC,EA2CdqC,UAAY,SAAA4B,GACIvI,IAAkB3B,OlCzBX,SAACkK,GACtB,OAAO7K,MAAM,GAAD,OAAIC,kDAAJ,kBAA2C4K,GAAU,CAC7D3K,OAAQ,MACRU,QAAS,CACLC,OAAQ,sBAGfV,MAAK,SAAAC,GACE,OAAOA,EAASC,UAEvBC,OAAM,SAAAC,GAAG,OAAIC,QAAQC,IAAIF,OkCgB1ByX,CAAUnN,GAAe1K,MAAK,SAAAyE,GACxBA,EAAKc,MACPlF,QAAQC,IAAImE,EAAKc,OAEjB,EAAK5C,SAAS,CAAEmD,MAAOrB,QAjDf,EAsDd2G,gBAAkB,SAAAV,GACFvI,IAAkB3B,OjCnDL,SAACkK,GAC5B,OAAO7K,MAAM,GAAD,OAAIC,kDAAJ,wBAAiD4K,GAAU,CACnE3K,OAAQ,MACRU,QAAS,CACLC,OAAQ,sBAGfV,MAAK,SAAAC,GACE,OAAOA,EAASC,UAEvBC,OAAM,SAAAC,GAAG,OAAIC,QAAQC,IAAIF,OiC0C1B0X,CAAgBpN,GAAe1K,MAAK,SAAAyE,GAC9BA,EAAKc,MACPlF,QAAQC,IAAImE,EAAKc,OAEjB,EAAK5C,SAAS,CAAEsD,YAAaxB,QA5DrB,EAiEdmT,UAAY,SAAAlN,GACIvI,IAAkB3B,OpB9DX,SAACkK,GACtB,OAAO7K,MAAM,GAAD,OAAIC,kDAAJ,kBAA2C4K,GAAU,CAC7D3K,OAAQ,MACRU,QAAS,CACLC,OAAQ,sBAGfV,MAAK,SAAAC,GACE,OAAOA,EAASC,UAEvBC,OAAM,SAAAC,GAAG,OAAIC,QAAQC,IAAIF,OoBqD1B2X,CAAUrN,GAAe1K,MAAK,SAAAyE,GACxBA,EAAKc,MACPlF,QAAQC,IAAImE,EAAKc,OAEjB,EAAK5C,SAAS,CAAE4O,MAAO9M,EAAMgC,SAAS,QAvE9B,EA6EZjD,aAAe,SAAA6C,GAAI,OAAI,SAAA/B,GACvB,EAAK3B,SAAS,CAAE4C,MAAO,KACvB,IAAMxB,EAAQO,EAAMZ,OAAOK,MAE3B,EAAKiU,WAAWtS,IAAIW,EAAMtC,GAC1B,EAAKpB,SAAL,eAAiB0D,EAAOtC,MAlFZ,EAqFZ6G,YAAc,SAAAtG,GAKV,GAHAA,EAAMC,iBACN,EAAK5B,SAAS,CAAE8D,SAAS,IAErB,EAAKiL,UAAW,CACDvP,IAAkBkD,KAAKC,IACxBnD,IAAkB3B,MAEhC,EAAKqQ,KAAK,EAAK7M,MAAM0G,UA5F7B,EAAK1G,MAAL,aACE6G,kBAAkB,EAClBtF,MAAO,GACPmF,OAAQ,GACRjE,QAAS,GACTX,MAAO,GACPG,YAAa,GACbsL,MAAO,IAPT,WAQW,GAVC,E,gEAeZpL,KAAK6R,WAAa,IAAItT,cACUc,GAA7BW,KAAKtD,MAAMiJ,SAAS9H,OACrBmC,KAAKxD,SAAS,CACZ+H,OAAQvE,KAAKtD,MAAMiJ,SAAS9H,MAAM0G,OAAQjE,SAAS,GAClDN,KAAK0K,KAAK1K,KAAKtD,MAAMiJ,SAAS9H,MAAM0G,W,+BAgFjC,IAAD,EACkEvE,KAAKnC,MAAtE6G,EADD,EACCA,iBAAkB0G,EADnB,EACmBA,MAAOzL,EAD1B,EAC0BA,MAAOG,EADjC,EACiCA,YAAayE,EAD9C,EAC8CA,OAAQjE,EADtD,EACsDA,QAC7D,OAAIoE,EAAyB,kBAAC,IAAD,CAAUR,GAAG,YAKxC,yBAAK3D,UAAU,aACb,yBAAKA,UAAU,8BACC,yBAAKA,UAAU,uCACX,0BAAMA,UAAU,gBACZ,yBAAKA,UAAU,+CACX,yBAAKA,UAAU,OACX,2BAAOA,UAAU,uDAAuD3C,MAAO2G,EAAQhD,SAAUvB,KAAK3C,aAAa,UAAWmE,KAAK,SAASe,YAAY,iDAE5J,yBAAKhC,UAAU,YACX,4BAAQA,UAAU,kBAAkB0B,QAASjC,KAAKyE,aAAa,kBAAC,IAAD,CAAiB9C,KAAMkD,IAAUC,KAAK,aAMpI9E,KAAKnC,MAAM0G,OACZ,yBAAKhE,UAAU,OACX,yBAAKA,UAAU,UACdD,EACoB,yBAAKC,UAAU,yBACf,2CAInB,kBAAC,GAAD,CACA6K,MAAOA,EACPzL,MAAOA,EACPG,YAAaA,MAMjB,mC,GA5IWxD,aCmHNwV,G,kDAvHX,aAAe,IAAD,8BACV,gBAOJC,UAAY,SAAAnP,ICYI,SAAAA,GAChB,OAAOlJ,MAAM,GAAD,OAAIC,kDAAJ,wBAAiDiJ,GAAQ,CACjEhJ,OAAQ,QAEPC,MAAK,SAAAC,GACF,OAAOA,EAASC,UAEnBC,OAAM,SAAAC,GAAG,OAAIC,QAAQC,IAAIF,ODlB1B4I,CAAKD,GAAM/I,MAAK,SAAAyE,GACRA,EAAKc,MACLlF,QAAQC,IAAImE,EAAKc,OAEjB,EAAK5C,SAAS,CAAEwV,MAAO1T,QAbrB,EAsBdyE,SAAW,SAAAC,GACP,EAAKxG,SAAS,CAAEoG,KAAM,EAAK/E,MAAM+E,KAAOI,IACxC,EAAK+O,UAAU,EAAKlU,MAAM+E,KAAOI,IAxBvB,EA2BdC,SAAW,SAAAD,GACP,EAAKxG,SAAS,CAAEoG,KAAM,EAAK/E,MAAM+E,KAAOI,IACxC,EAAK+O,UAAU,EAAKlU,MAAM+E,KAAOI,IA7BvB,EAgCdiP,YAAc,SAAAD,GACV,OACI,yBAAKzR,UAAU,OACVyR,EAAM9Q,KAAI,SAAC4O,EAAM3O,GACd,IAAM+Q,EAAWpC,EAAKqC,SAAL,gBACFrC,EAAKqC,SAAShT,KACvB,GACAiT,EAAatC,EAAKqC,SAClBrC,EAAKqC,SAASjS,KACd,WAEN,OACI,yBAAKK,UAAU,gBAAgBa,IAAKD,GAChC,yBAAKZ,UAAU,aACX,yBACIiD,IAAG,UACC7J,kDADD,uBAEYmW,EAAK3Q,KACpBuE,IAAKoM,EAAKnM,MACVC,QAAS,SAAAzC,GAAC,OACLA,EAAE5D,OAAOiG,IAAT,UAAkB6O,MAEvB9R,UAAU,qBACV8C,MAAO,CAAES,OAAQ,QAASC,MAAO,UAErC,wBAAIxD,UAAU,cAAcuP,EAAKnM,OACjC,uBAAGpD,UAAU,aACRuP,EAAKnV,KAAKsJ,UAAU,EAAG,MAE5B,6BACA,uBAAG1D,UAAU,oBAAb,YACc,IACV,kBAAC,IAAD,CAAM2D,GAAE,UAAKgO,IACRE,EAAY,KAHrB,MAKQ,IAAIjO,KAAK2L,EAAK1L,SAASC,gBAE/B,kBAAC,IAAD,CACIH,GAAE,gBAAW4L,EAAK3Q,KAClBoB,UAAU,qCAFd,oBAnExB,EAAK1C,MAAQ,CACTmU,MAAO,GACPpP,KAAM,GAJA,E,gEAmBV5C,KAAK+R,UAAU/R,KAAKnC,MAAM+E,Q,+BAgEpB,IAAD,SACmB5C,KAAKnC,MAArBmU,EADH,EACGA,MAAOpP,EADV,EACUA,KACf,OACI,yBAAKrC,UAAU,aACX,wBAAIA,UAAU,aACRyR,EAAMlT,OAA4B,eAAnB,kBAGpBkB,KAAKiS,YAAYD,GAEjBpP,EAAO,EACJ,4BACIrC,UAAU,4CACV0B,QAAS,kBAAM,EAAKgB,SAAS,KAFjC,aAIejD,KAAKnC,MAAM+E,KAAO,EAJjC,KAOA,GAGHoP,EAAMlT,OACH,4BACIyB,UAAU,uCACV0B,QAAS,kBAAM,EAAKc,SAAS,KAFjC,SAIWH,EAAO,EAJlB,KAOA,Q,GAjHAtG,aE0CLgW,G,4MAxCXzU,MAAQ,CACJgP,gBAAgB,G,kEAIoB,UAAhC7Q,IAAkBkD,KAAKgH,MACvBlG,KAAKxD,SAAS,CAAEqQ,gBAAgB,M,+BAKpC,OAAI7M,KAAKnC,MAAMgP,eACJ,kBAAC,IAAD,CAAU3I,GAAG,MAIpB,6BACI,yBAAK3D,UAAU,aACX,+CACA,uBAAGA,UAAU,QAAb,8BAEJ,yBAAKA,UAAU,mBACX,yBAAKA,UAAU,OACX,yBAAKA,UAAU,YACX,qCACA,6BACA,kBAAC,GAAD,OAEJ,yBAAKA,UAAU,YACX,qCACA,6BACA,kBAAC,GAAD,c,GAhCRjE,aC4DLiW,GA1CI,kBACf,6BACI,kBAAC,GAAD,MACA,kBAAC,IAAD,KACI,kBAAC,IAAD,CAAOC,OAAK,EAAC9M,KAAK,IAAIiL,UAAWpL,IACjC,kBAAC,GAAD,CAAciN,OAAK,EAAC9M,KAAK,SAASiL,UAAW2B,KAC7C,kBAAC,IAAD,CAAOE,OAAK,EAAC9M,KAAK,mBAAmBiL,UAAWI,KAChD,kBAAC,IAAD,CACIyB,OAAK,EACL9M,KAAK,sCACLiL,UAAWM,KAEf,kBAAC,GAAD,CAAcuB,OAAK,EAAC9M,KAAK,qBAAqBiL,UAAWtE,KACzD,kBAAC,IAAD,CAAOmG,OAAK,EAAC9M,KAAK,4BAA4BiL,UAAWjE,KACzD,kBAAC,GAAD,CACI8F,OAAK,EACL9M,KAAK,iCACLiL,UAAWlE,KAEd,kBAAC,GAAD,CAAc+F,OAAK,EAAC9M,KAAK,eAAeiL,UAAW7C,KACnD,kBAAC,IAAD,CAAO0E,OAAK,EAAC9M,KAAK,SAASiL,UAAWF,KACvC,kBAAC,IAAD,CAAO+B,OAAK,EAAC9M,KAAK,gBAAgBiL,UAAWN,KAC7C,kBAAC,GAAD,CACImC,OAAK,EACL9M,KAAK,qBACLiL,UAAWf,KAEf,kBAAC,IAAD,CAAO4C,OAAK,EAAC9M,KAAK,SAASiL,UAAWzF,KACtC,kBAAC,IAAD,CAAOsH,OAAK,EAAC9M,KAAK,UAAUiL,UAAW9I,KACvC,kBAAC,IAAD,CAAO2K,OAAK,EAAC9M,KAAK,UAAUiL,UAAWjI,KACvC,kBAAC,GAAD,CACI8J,OAAK,EACL9M,KAAK,qBACLiL,UAAWtF,KAEf,kBAAC,GAAD,CAAcmH,OAAK,EAAC9M,KAAK,cAAciL,UAAW3E,KAClD,kBAAC,GAAD,CAAcwG,OAAK,EAAC9M,KAAK,gBAAgBiL,UAAWvG,KACpD,kBAAC,GAAD,CAAcoI,OAAK,EAAC9M,KAAK,UAAUiL,UAAWa,QChD3CiB,GANH,kBACR,kBAAC,IAAD,KACI,kBAAC,GAAD,QCHRC,IAAS7B,OAAO,kBAAC,IAAD,CAAQ8B,SAAUhZ,6CAAwB,kBAAC,GAAD,OAAkBiZ,SAASC,eAAe,U,mBCNpGC,EAAOC,QAAU,IAA0B,oC,mBCA3CD,EAAOC,QAAU,IAA0B,wC","file":"static/js/main.64b06377.chunk.js","sourcesContent":["export const create = (userId, token, book) => {\n    return fetch(`${process.env.REACT_APP_API_URL}/book/new/${userId}`, {\n        method: \"POST\",\n        headers: {\n            Accept: \"application/json\",\n            Authorization: `Bearer ${token}`\n        },\n        body: book\n    })\n        .then(response => {\n            return response.json();\n        })\n        .catch(err => console.log(err));\n};\n\nexport const findByISBN = (token, isbn) => {\n    return fetch(`${process.env.REACT_APP_API_URL}/book/isbn/${isbn}`, {\n        method: \"GET\",\n        headers: {\n            Accept: \"application/json\",\n            \"Content-Type\": \"application/json\",\n            Authorization: `Bearer ${token}`\n        }\n    }) \n    .then(response => {\n            return response.json();\n    })\n    .catch(err => console.log(err));\n}\n\nexport const findBooks = (search) => {\n    return fetch(`${process.env.REACT_APP_API_URL}/books/${search}`, {\n        method: \"GET\",\n        headers: {\n            Accept: \"application/json\"\n        },\n    }) \n    .then(response => {\n            return response.json();\n    })\n    .catch(err => console.log(err));\n}\n\n// with pagination\nexport const list = page => {\n    return fetch(`${process.env.REACT_APP_API_URL}/books/?page=${page}`, {\n        method: \"GET\"\n    }) \n    .then(response => {\n            return response.json();\n    })\n    .catch(err => console.log(err));\n};\n\n// without pagination\nexport const fullList = () => {\n    console.log(\"H\")\n    return fetch(`${process.env.REACT_APP_API_URL}/books/all`, {\n        method: \"GET\"\n    }) \n    .then(response => {\n            return response.json();\n    })\n    .catch(err => console.log(err));\n};\n\nexport const singleBook = bookId => {\n    return fetch(`${process.env.REACT_APP_API_URL}/book/${bookId}`, {\n        method: \"GET\"\n    })\n        .then(response => {\n            return response.json();\n        })\n        .catch(err => console.log(err));\n};\n\nexport const listByUser = (userId, token) => {\n    return fetch(`${process.env.REACT_APP_API_URL}/books/by/${userId}`, {\n        method: \"GET\",\n        headers: {\n            Accept: \"application/json\",\n            \"Content-Type\": \"application/json\",\n            Authorization: `Bearer ${token}`\n        }\n    })\n        .then(response => {\n            return response.json();\n        })\n        .catch(err => console.log(err));\n};\n\nexport const remove = (bookId, token) => {\n    return fetch(`${process.env.REACT_APP_API_URL}/book/${bookId}`, {\n        method: \"DELETE\",\n        headers: {\n            Accept: \"application/json\",\n            \"Content-Type\": \"application/json\",\n            Authorization: `Bearer ${token}`\n        }\n    })\n        .then(response => {\n            return response.json();\n        })\n        .catch(err => console.log(err));\n};\n\nexport const update = (bookId, token, post) => {\n    console.log(bookId, token, post);\n    return fetch(`${process.env.REACT_APP_API_URL}/book/${bookId}`, {\n        method: \"PUT\",\n        headers: {\n            Accept: \"application/json\",\n            Authorization: `Bearer ${token}`\n        },\n        body: post\n    })\n        .then(response => {\n            return response.json();\n        })\n        .catch(err => console.log(err));\n};\n\nexport const like = (userId, token, bookId) => {\n    return fetch(`${process.env.REACT_APP_API_URL}/book/like`, {\n        method: \"PUT\",\n        headers: {\n            Accept: \"application/json\",\n            \"Content-Type\": \"application/json\",\n            Authorization: `Bearer ${token}`\n        },\n        body: JSON.stringify({ userId, bookId })\n    })\n        .then(response => {\n            return response.json();\n        })\n        .catch(err => console.log(err));\n};\n\nexport const unlike = (userId, token, bookId) => {\n    return fetch(`${process.env.REACT_APP_API_URL}/book/unlike`, {\n        method: \"PUT\",\n        headers: {\n            Accept: \"application/json\",\n            \"Content-Type\": \"application/json\",\n            Authorization: `Bearer ${token}`\n        },\n        body: JSON.stringify({ userId, bookId })\n    })\n        .then(response => {\n            return response.json();\n        })\n        .catch(err => console.log(err));\n};\n\nexport const comment = (userId, token, bookId, comment) => {\n    return fetch(`${process.env.REACT_APP_API_URL}/book/comment`, {\n        method: \"PUT\",\n        headers: {\n            Accept: \"application/json\",\n            \"Content-Type\": \"application/json\",\n            Authorization: `Bearer ${token}`\n        },\n        body: JSON.stringify({ userId, bookId, comment })\n    })\n        .then(response => {\n            return response.json();\n        })\n        .catch(err => console.log(err));\n};\n\nexport const uncomment = (userId, token, bookId, comment) => {\n    return fetch(`${process.env.REACT_APP_API_URL}/book/uncomment`, {\n        method: \"PUT\",\n        headers: {\n            Accept: \"application/json\",\n            \"Content-Type\": \"application/json\",\n            Authorization: `Bearer ${token}`\n        },\n        body: JSON.stringify({ userId, bookId, comment })\n    })\n        .then(response => {\n            return response.json();\n        })\n        .catch(err => console.log(err));\n};\n\n/* export const fetchData = (isbn) => {\n//    console.log(isbn);\n    fetch(`https://www.googleapis.com/books/v1/volumes?q=isbn:${encodeURIComponent(isbn)}`)\n    .then((response)=> response.json())\n    .then((responseData)=> {\n//      console.log(responseData);\n      return responseData;\n    });\n}; */\n\nexport const fetchData = async isbn => {\n    const res = await fetch(`https://www.googleapis.com/books/v1/volumes?q=isbn:${encodeURIComponent(isbn)}`)\n    .then((response)=> response.json())\n    .then((responseData) => {\n        return responseData\n    });\n    \n    \n  };\n\nexport const checkISBN = ( isbn ) => {\n    const PREFIX = /^ISBN(?:-1[03])?:?\\x20+/i;\n    const ISBN = /^(?:\\d{9}[\\dXx]|\\d{13})$/;\n\n        if( !ISBN.test( isbn ) ) {\n            return '';\n        }\n        \n    //isbn have to be number or string (composed only of digits or char \"X\"):\n    isbn = isbn.toString();\n\n    //Remove last digit (control digit):\n    let number = isbn.slice( 0,-1 );\n\t\n    //Convert number to array (with only digits):\n    number = number.split( '' ).map( Number );\n    \n    //Save last digit (control digit):\n    const last = isbn.slice( -1 );\n    const lastDigit = ( last !== 'X' ) ? parseInt( last, 10 ) : 'X';\n\n    //Algorithm for checksum calculation (digit * position):\n    number = number.map( ( digit, index ) => {\n        return digit * ( index + 1 );\n    } );\n    \n    //Calculate checksum from array:\n    const sum = number.reduce( ( a, b ) => a + b, 0 );\n\n    //Validate control digit:\n    const controlDigit = sum % 11;\n/*     if (lastDigit === ( controlDigit !== 10 ? controlDigit : 'X' )){\n        console.log(isbn);\n        \n    } else console.log(controlDigit); */\n\n  // here is how you call this function\n  const data = fetchData(isbn);\n\n\n\n\n};\n\n\n\n","export const create = (userId, token, collection) => {\n    return fetch(`${process.env.REACT_APP_API_URL}/collection/new/${userId}`, {\n        method: \"POST\",\n        headers: {\n            Accept: \"application/json\",\n            Authorization: `Bearer ${token}`\n        },\n        body: collection\n    })\n        .then(response => {\n            return response.json();\n        })\n        .catch(err => console.log(err));\n};\n\nexport const findCollections = (search) => {\n    return fetch(`${process.env.REACT_APP_API_URL}/collections/${search}`, {\n        method: \"GET\",\n        headers: {\n            Accept: \"application/json\"\n        },\n    }) \n    .then(response => {\n            return response.json();\n    })\n    .catch(err => console.log(err));\n}\n\n// with pagination\nexport const list = page => {\n    return fetch(`${process.env.REACT_APP_API_URL}/collections/?page=${page}`, {\n        method: \"GET\"\n    }) \n    .then(response => {\n            return response.json();\n    })\n    .catch(err => console.log(err));\n};\n\nexport const singleCollection = collectionId => {\n    return fetch(`${process.env.REACT_APP_API_URL}/collection/${collectionId}`, {\n        method: \"GET\"\n    })\n        .then(response => {\n            console.log(response)\n            return response.json();\n        })\n        .catch(err => console.log(err));\n};\n\nexport const listByUserCol = (userId, token) => {\n    return fetch(`${process.env.REACT_APP_API_URL}/collections/by/${userId}`, {\n        method: \"GET\",\n        headers: {\n            Accept: \"application/json\",\n            \"Content-Type\": \"application/json\",\n            Authorization: `Bearer ${token}`\n        }\n    })\n        .then(response => {\n            return response.json();\n        })\n        .catch(err => console.log(err));\n};\n\nexport const remove = (collectionId, token) => {\n    return fetch(`${process.env.REACT_APP_API_URL}/collection/delete/${collectionId}`, {\n        method: \"DELETE\",\n        headers: {\n            Accept: \"application/json\",\n            \"Content-Type\": \"application/json\",\n            Authorization: `Bearer ${token}`\n        }\n    })\n        .then(response => {\n            return response.json();\n        })\n        .catch(err => console.log(err));\n};\n\nexport const update = (collectionId, token, collection) => {\n    return fetch(`${process.env.REACT_APP_API_URL}/collection/update/${collectionId}`, {\n        method: \"POST\",\n        headers: {\n            Accept: \"application/json\",\n            Authorization: `Bearer ${token}`\n        },\n        body: collection\n    })\n        .then(response => {\n            return response.json();\n        })\n        .catch(err => console.log(err));\n};\n\nexport const like = (userId, token, collectionId) => {\n    return fetch(`${process.env.REACT_APP_API_URL}/collection/like`, {\n        method: \"PUT\",\n        headers: {\n            Accept: \"application/json\",\n            \"Content-Type\": \"application/json\",\n            Authorization: `Bearer ${token}`\n        },\n        body: JSON.stringify({ userId, collectionId })\n    })\n        .then(response => {\n            return response.json();\n        })\n        .catch(err => console.log(err));\n};\n\nexport const unlike = (userId, token, collectionId) => {\n    return fetch(`${process.env.REACT_APP_API_URL}/collection/unlike`, {\n        method: \"PUT\",\n        headers: {\n            Accept: \"application/json\",\n            \"Content-Type\": \"application/json\",\n            Authorization: `Bearer ${token}`\n        },\n        body: JSON.stringify({ userId, collectionId })\n    })\n        .then(response => {\n            return response.json();\n        })\n        .catch(err => console.log(err));\n};\n\nexport const comment = (userId, token, collectionId, comment) => {\n    return fetch(`${process.env.REACT_APP_API_URL}/collection/comment`, {\n        method: \"PUT\",\n        headers: {\n            Accept: \"application/json\",\n            \"Content-Type\": \"application/json\",\n            Authorization: `Bearer ${token}`\n        },\n        body: JSON.stringify({ userId, collectionId, comment })\n    })\n        .then(response => {\n            return response.json();\n        })\n        .catch(err => console.log(err));\n};\n\nexport const uncomment = (userId, token, collectionId, comment) => {\n    return fetch(`${process.env.REACT_APP_API_URL}/collection/uncomment`, {\n        method: \"PUT\",\n        headers: {\n            Accept: \"application/json\",\n            \"Content-Type\": \"application/json\",\n            Authorization: `Bearer ${token}`\n        },\n        body: JSON.stringify({ userId, collectionId, comment })\n    })\n        .then(response => {\n            return response.json();\n        })\n        .catch(err => console.log(err));\n};\n\n/* export const fetchData = (isbn) => {\n//    console.log(isbn);\n    fetch(`https://www.googleapis.com/books/v1/volumes?q=isbn:${encodeURIComponent(isbn)}`)\n    .then((response)=> response.json())\n    .then((responseData)=> {\n//      console.log(responseData);\n      return responseData;\n    });\n}; */\n\nexport const addBook = (userId, token, collectionId, bookId) => {\n    return fetch(`${process.env.REACT_APP_API_URL}/collection/book`, {\n        method: \"PUT\",\n        headers: {\n            Accept: \"application/json\",\n            \"Content-Type\": \"application/json\",\n            Authorization: `Bearer ${token}`\n        },\n        body: JSON.stringify({ userId, collectionId, bookId })\n    })\n        .then(response => {\n            return response.json();\n        })\n        .catch(err => console.log(err));\n};\n\nexport const removeBook = (userId, token, collectionId, bookId) => {\n    return fetch(`${process.env.REACT_APP_API_URL}/collection/unbook`, {\n        method: \"PUT\",\n        headers: {\n            Accept: \"application/json\",\n            \"Content-Type\": \"application/json\",\n            Authorization: `Bearer ${token}`\n        },\n        body: JSON.stringify({ userId, collectionId, bookId })\n    })\n        .then(response => {\n            return response.json();\n        })\n        .catch(err => console.log(err));\n};\n\n\n\n\n\n\n","export const signup = user => {\n    return fetch(`${process.env.REACT_APP_API_URL}/signup`, {\n        method: 'POST',\n        headers: {\n            Accept: 'application/json',\n            'Content-Type': 'application/json'\n        },\n        body: JSON.stringify(user)\n    })\n        .then(response => {\n            return response.json();\n        })\n        .catch(err => console.log(err));\n};\n\nexport const signin = user => {\n    return fetch(`${process.env.REACT_APP_API_URL}/signin`, {\n        method: 'POST',\n        headers: {\n            Accept: 'application/json',\n            'Content-Type': 'application/json'\n        },\n        body: JSON.stringify(user)\n    })\n        .then(response => {\n            return response.json();\n        })\n        .catch(err => console.log(err));\n};\n\nexport const authenticate = (jwt, next) => {\n    if (typeof window !== 'undefined') {\n        localStorage.setItem('jwt', JSON.stringify(jwt));\n        next();\n    }\n};\n\nexport const setName = (name, next) => {\n    if (typeof window !== 'undefined') {\n        localStorage.setItem('username', JSON.stringify(name));\n        next();\n    }\n};\n\nexport const signout = next => {\n    if (typeof window !== 'undefined') localStorage.removeItem('jwt');\n    next();\n    return fetch(`${process.env.REACT_APP_API_URL}/signout`, {\n        method: 'GET'\n    })\n        .then(response => {\n            console.log('signout', response);\n            return response.json();\n        })\n        .catch(err => console.log(err));\n};\n\nexport const isAuthenticated = () => {\n    if (typeof window == 'undefined') {\n        return false;\n    }\n\n    if (localStorage.getItem('jwt')) {\n        return JSON.parse(localStorage.getItem('jwt'));\n    } else {\n        return false;\n    }\n};\n\nexport const forgotPassword = email => {\n    console.log('email: ', email);\n    return fetch(`${process.env.REACT_APP_API_URL}/forgot-password/`, {\n        method: 'PUT',\n        headers: {\n            Accept: 'application/json',\n            'Content-Type': 'application/json'\n        },\n        body: JSON.stringify({ email })\n    })\n        .then(response => {\n            console.log('forgot password response: ', response);\n            return response.json();\n        })\n        .catch(err => console.log(err));\n};\n\nexport const resetPassword = resetInfo => {\n    return fetch(`${process.env.REACT_APP_API_URL}/reset-password/`, {\n        method: 'PUT',\n        headers: {\n            Accept: 'application/json',\n            'Content-Type': 'application/json'\n        },\n        body: JSON.stringify(resetInfo)\n    })\n        .then(response => {\n            console.log('forgot password response: ', response);\n            return response.json();\n        })\n        .catch(err => console.log(err));\n};\n\nexport const socialLogin = user => {\n    return fetch(`${process.env.REACT_APP_API_URL}/social-login/`, {\n        method: 'POST',\n        headers: {\n            Accept: 'application/json',\n            'Content-Type': 'application/json'\n        },\n        // credentials: \"include\", // works only in the same origin\n        body: JSON.stringify(user)\n    })\n        .then(response => {\n            console.log('signin response: ', response);\n            return response.json();\n        })\n        .catch(err => console.log(err));\n};\n","import React, { Component } from \"react\";\nimport DefaultCollection from \"../images/mountains.jpg\";\nimport { singleBook, remove, like, unlike } from '../book/apiBook';\nimport {listByUserCol, addBook, removeBook, create} from './apiCollection';\nimport DefaultBook from '../images/mountains.jpg';\nimport {Modal, Button, InputGroup, Form, Alert} from 'react-bootstrap'\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\nimport { faPlusSquare, faLock, faLockOpen, faPlus, faPlusCircle, faThumbsUp} from '@fortawesome/free-solid-svg-icons'\n\nimport { isAuthenticated } from '../auth';\nimport Comment from './Comment';\n\n\nclass CollectionsModal extends Component {\n    constructor() {\n        super();\n        this.state = {\n            collections: [],\n            show: false ,\n            book: {},\n            visible: false,\n            totalCollectionsRemoved: 0,\n            totalCollectionsRemoved: 0\n        };\n    }\n\ncomponentDidMount = () =>\n{    this.setState({show: this.props.show, book: this.props.book})\n    this.getCollections();\n}\n\ncomponentDidUpdate() {\n    if (this.state.show !== this.props.show) {\n        this.setState({show: this.props.show})\n    }\n}\n\nhandleClose = (e) => {\n    console.log(\"hh\")\n        this.setState({show: false}, () => {\n            this.props.onClose && this.props.onClose(e);\n            this.onShowAlert();\n        })\n    \n\n\n}\n\nonClose = e => {\n    this.props.show = false;\n  };\n\nhandleCloseAlert = (e) => {\n    this.setState({visible: false})\n    this.props.onClose && this.props.onClose(e);\n}\n\nsaveChanges = () => {\n\n    this.handleClose();\n}\n\nhandleOpen = () => {\n    this.getCollections();\n}\n\nhandleChange = (e) => {\n    e.persist();\n\n    if(e.target.checked) {\n\n\n    this.setState(prevState => ({\n        selectedCollections: prevState.selectedCollections.push(e.target.value)\n      }, console.log(this.state.selectedCollections)));\n\n    } else {\n            var array = [ ...this.state.selectedCollections];\n            var index = this.state.selectedCollections.indexOf(e.target.value)\n            if (index !== -1) {\n            array = array.splice(1, index)\n            let arrayAux = [];\n            let i = 0;\n            \n            this.setState(prevState => ({\n                selectedCollections: prevState.selectedCollections.splice(index,1)\n              }, console.log(this.state.selectedCollections)));\n            }\n    }\n\n   \n\n}\n\nsubmitForm = (event) => {\n    event.preventDefault();\n    const form = event.target;\n    const data = new FormData(form);\n    this.collectionData = new FormData();\n    let remove = this.state.existingCollections.filter(x => !this.state.selectedCollections.includes(x));\n    let add = this.state.selectedCollections.filter(x=> !this.state.existingCollections.includes(x));\n    console.log(add.length)\n    this.setState({totalCollectionsRemoved: remove.length, totalCollectionsAdded: add.length})\n\n    add.forEach(collection => {\n        addBook(isAuthenticated().user._id, isAuthenticated().token, collection, this.props.book._id)\n        .then(data => {\n            if (data.error) {\n                console.log(data.error);\n            } else {\n                console.log(data);\n                \n            }\n        });\n\n    })\n\n    remove.forEach(collection => {\n        removeBook(isAuthenticated().user._id, isAuthenticated().token, collection, this.props.book._id)\n        .then(data => {\n            if (data.error) {\n                console.log(data.error);\n            } else {\n                console.log(data);\n                \n            }\n        })\n    });\n\n    if (data.get('collectionName') != undefined){\n        this.collectionData.set('name', data.get('collectionName'));\n        this.collectionData.set('privacy', data.get('collectionPrivacy'));\n        create(isAuthenticated().user._id, isAuthenticated().token, this.collectionData)\n        .then(data => {\n            if (data.error) {\n                console.log(data.error);\n            } else {\n                \n                    addBook(isAuthenticated().user._id, isAuthenticated().token, data._id, this.props.book._id)\n                    .then(result => {\n                        if (result.error) {\n                            console.log(result.error);\n                        } else {\n                            console.log(result);\n                            this.handleClose();\n                        }\n                    });\n            }\n        });\n\n    } else {\n        this.handleClose();\n    }\n    \n      \n}\n\ngetCollections = () => {\n\n    this.setState({ loadingModal: true });\n    const userId = isAuthenticated().user._id;\n    const {token} = isAuthenticated();\n    let existing = [];\n    const bookId = this.props.book._id;\n    console.log(this.props.book)\n    listByUserCol(userId,token)\n    .then(data => {\n        if(data.error){\n            console.log(data.error);\n        } else {\n            console.log(data)\n            data.forEach(collection => {\n                \n                collection.books.forEach(book=> {\n                    if(book._id === bookId){\n                        existing.push(collection._id)\n                        }\n                })\n\n                \n//                    console.log(collection.books.filter(book=> book._id === bookId))\n            });\n            const aux = existing.slice();\n            console.log(existing)\n            this.setState({collections: data, selectedCollections: existing.slice(), loadingModal: false});\n            this.setState({existingCollections: aux.slice()});\n        }\n    });\n\n}\n\nonShowAlert = ()=>{\n    this.setState({visible:true},()=>{\n      window.setTimeout(()=>{\n        this.setState({visible:false})\n      },2000)\n    });\n  }\n\nrender () {\n    if(!this.props.show){\n        return null;\n    }\n    const bookerId = this.state.book.createdBy ? `/user/${this.state.book.createdBy._id}` : '';\n    const bookerName = this.state.book.createdBy ? this.state.book.createdBy.name : ' Unknown';\n    const aux = [];\n\n    const { like, likes, show, collections, showForm, comments, loading, loadingModal, book, visible, selectedCollections, totalCollectionsAdded, totalCollectionsRemoved} = this.state;\n   return (\n       <>\n\n      <div className=\"row\">\n      <Alert color=\"info\" show={visible} >\n        I am an alert and I will disappear in 2sec.!\n      </Alert>\n      </div>\n{/*     <Modal show={completed && (totalCollectionsAdded>0 || totalCollectionsRemoved>0)} onHide={this.handleCloseAlert}>\n        <Modal.Header closeButton>\n            {totalCollectionsAdded>0 ? (<Modal.Body>Book added to {totalCollectionsAdded} collection/s</Modal.Body>): (null)}\n            {totalCollectionsRemoved>0 ? (<Modal.Body>Book removed from {totalCollectionsAdded} collection/s</Modal.Body>): (null)}\n            </Modal.Header>\n    </Modal> */}\n\n    <Modal show={show} className=\"modal-m\" onHide={this.handleClose}>\n    <Modal.Header closeButton>\n    <Modal.Title>Select collections:</Modal.Title>\n</Modal.Header>\n<Form onSubmit={this.submitForm}>\n<Modal.Body>\n{loadingModal && collections.length == 0 ? (\n   <Modal.Title>Loading...</Modal.Title>\n) : (\n\ncollections.map((collection, i) => (\n            <div key={i}>\n            <Form.Group>\n                <div className=\"row\">\n                    <div className=\"col-10\">\n                    <Form.Check className=\"ml-4\" onChange={this.handleChange} value={collection._id} type=\"checkbox\" name={collection._id} label={collection.name} defaultChecked={selectedCollections.includes(collection._id)} />\n                    </div>\n                    <div className=\"col-2\">\n                    <FontAwesomeIcon icon={collection.privacy==\"private\" ? faLock : faLockOpen} />\n                    </div>\n\n                </div>\n            </Form.Group>\n          </div>\n        ))\n        )}\n<hr className=\"dashed\"></hr>\n{ showForm ? null :\n<Button variant=\"secondary\" onClick={this.showCreate}><FontAwesomeIcon className=\"mr-2\" icon={faPlus} />\n    Create Collection\n</Button>\n}\n{ !showForm ? null :\n<>\n<Form.Group controlId=\"collectionName\">\n        <Form.Label className=\"\">Name</Form.Label>\n        <Form.Control type=\"text\" name=\"collectionName\" placeholder=\"Collection name\" />\n    </Form.Group>\n<Form.Group controlId=\"collectionPrivacy\">\n    <Form.Label>Privacy</Form.Label>\n    <Form.Control as=\"select\" name=\"collectionPrivacy\">\n        <option value=\"private\">Private</option>\n        <option value=\"public\">Public</option>\n        <option value=\"followPrivate\">Public to followers</option>\n    </Form.Control>\n</Form.Group>\n</>\n}\n</Modal.Body>\n<Modal.Footer>\n    <Button variant=\"secondary\" onClick={this.handleClose}>\n    Close\n</Button>\n<Button variant=\"primary\" type=\"submit\">\n    Save Changes\n</Button>\n    </Modal.Footer>\n    </Form>\n</Modal>\n</>\n   )\n}\n\n}\n\nexport default CollectionsModal;","import React, { Component } from \"react\";\nimport { comment, uncomment } from \"./apiCollection\";\nimport { isAuthenticated } from \"../auth\";\nimport { Link } from \"react-router-dom\";\nimport DefaultProfile from \"../images/avatar.jpg\";\n\nclass Comment extends Component {\n    state = {\n        text: \"\",\n        error: \"\"\n    };\n\n    handleChange = event => {\n        this.setState({ error: \"\" });\n        this.setState({ text: event.target.value });\n    };\n\n    isValid = () => {\n        const { text } = this.state;\n        if (!text.length > 0 || text.length > 150) {\n            this.setState({\n                error:\n                    \"Comment should not be empty and less than 150 characters long\"\n            });\n            return false;\n        }\n        return true;\n    };\n\n    addComment = e => {\n        e.preventDefault();\n\n        if (!isAuthenticated()) {\n            this.setState({ error: \"Please signin to leave a comment\" });\n            return false;\n        }\n\n        if (this.isValid()) {\n            const userId = isAuthenticated().user._id;\n            const token = isAuthenticated().token;\n            const collectionId = this.props.collectionId;\n\n            comment(userId, token, collectionId, { text: this.state.text }).then(\n                data => {\n                    if (data.error) {\n                        console.log(data.error);\n                    } else {\n                        this.setState({ text: \"\" });\n                        // dispatch fresh list of coments to parent (SingleCollection)\n                        this.props.updateComments(data.comments);\n                    }\n                }\n            );\n        }\n    };\n\n    deleteComment = comment => {\n        const userId = isAuthenticated().user._id;\n        const token = isAuthenticated().token;\n        const collectionId = this.props.collectionId;\n\n        uncomment(userId, token, collectionId, comment).then(data => {\n            if (data.error) {\n                console.log(data.error);\n            } else {\n                this.props.updateComments(data.comments);\n            }\n        });\n    };\n\n    deleteConfirmed = comment => {\n        let answer = window.confirm(\n            \"Are you sure you want to delete your comment?\"\n        );\n        if (answer) {\n            this.deleteComment(comment);\n        }\n    };\n\n    render() {\n        const { comments } = this.props;\n        const { error } = this.state;\n\n        return (\n            <div>\n                <h2 className=\"mt-5 mb-5\">Leave a comment</h2>\n\n                <form onSubmit={this.addComment}>\n                    <div className=\"form-group\">\n                        <input\n                            type=\"text\"\n                            onChange={this.handleChange}\n                            value={this.state.text}\n                            className=\"form-control\"\n                            placeholder=\"Leave a comment...\"\n                        />\n                        <button className=\"btn btn-raised btn-success mt-2\">\n                            Post\n                        </button>\n                    </div>\n                </form>\n\n                <div\n                    className=\"alert alert-danger\"\n                    style={{ display: error ? \"\" : \"none\" }}\n                >\n                    {error}\n                </div>\n\n                <div className=\"col-md-12\">\n                    <h3 className=\"text-primary\">{comments.length} Comments</h3>\n                    <hr />\n                    {comments.map((comment, i) => (\n                        <div key={i}>\n                            <div>\n                                <Link to={`/user/${comment.collectionedBy._id}`}>\n                                    <img\n                                        style={{\n                                            borderRadius: \"50%\",\n                                            border: \"1px solid black\"\n                                        }}\n                                        className=\"float-left mr-2\"\n                                        height=\"30px\"\n                                        width=\"30px\"\n                                        onError={i =>\n                                            (i.target.src = `${DefaultProfile}`)\n                                        }\n                                        src={`${\n                                            process.env.REACT_APP_API_URL\n                                        }/user/photo/${comment.collectionedBy._id}`}\n                                        alt={comment.collectionedBy.name}\n                                    />\n                                </Link>\n                                <div>\n                                    <p className=\"lead\">{comment.text}</p>\n                                    <p className=\"font-italic mark\">\n                                        Collectioned by{\" \"}\n                                        <Link\n                                            to={`/user/${comment.collectionedBy._id}`}\n                                        >\n                                            {comment.collectionedBy.name}{\" \"}\n                                        </Link>\n                                        on{\" \"}\n                                        {new Date(\n                                            comment.created\n                                        ).toDateString()}\n                                        <span>\n                                            {isAuthenticated().user &&\n                                                isAuthenticated().user._id ===\n                                                    comment.collectionedBy._id && (\n                                                    <>\n                                                        <span\n                                                            onClick={() =>\n                                                                this.deleteConfirmed(\n                                                                    comment\n                                                                )\n                                                            }\n                                                            className=\"text-danger float-right mr-1\"\n                                                        >\n                                                            Remove\n                                                        </span>\n                                                    </>\n                                                )}\n                                        </span>\n                                    </p>\n                                </div>\n                            </div>\n                        </div>\n                    ))}\n                </div>\n            </div>\n        );\n    }\n}\n\nexport default Comment;\n","import React, { Component } from \"react\";\nimport { list } from \"./apiBook\";\nimport DefaultBook from \"../images/mountains.jpg\";\nimport { Link } from \"react-router-dom\";\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\nimport { faEllipsisH} from '@fortawesome/free-solid-svg-icons'\n\nimport CollectionsModal from '../collection/CollectionsModal';\nimport { isAuthenticated } from \"../auth\";\n\n\nclass Books extends Component {\n    constructor() {\n        super();\n        this.state = {\n            books: [],\n            page: 1,\n            show: false,\n            visible: false\n        };\n    }\n\n    loadBooks = page => {\n        list(page).then(data => {\n            if (!data) {\n                this.setState({ books: [] });\n            } else {\n                this.setState({ books: data });\n            }\n        });\n    };\n\n\n\n    handleOpen = () => {\n        this.setState({show: true});\n        console.log(\"ASDFASS\")\n    }\n\n    showModal = e => {\n        console.log(e)\n        this.setState({\n          show: !this.state.show\n        });\n      };\n\n    componentDidMount() {\n        this.loadBooks(this.state.page);\n    }\n\n    loadMore = number => {\n        this.setState({ page: this.state.page + number });\n        this.loadBooks(this.state.page + number);\n    };\n\n    loadLess = number => {\n        this.setState({ page: this.state.page - number });\n        this.loadBooks(this.state.page - number);\n    };\n\n    renderBooks = books => {\n        const { show} = this.state;\n\n        return (\n            <div className=\"row\">\n                {books.map((book, i) => {\n                    const bookerId = book.createdBy\n                        ? `/user/${book.createdBy._id}`\n                        : \"\";\n                    const bookerName = book.createdBy\n                        ? book.createdBy.name\n                        : \" Unknown\";\n\n                    return (\n                        <div className=\"card col-md-3 mr-3 mt-3\" key={i}>\n                            <div className=\"card-body\">\n                                {isAuthenticated().user ? (\n                                <div className=\"row justify-content-end\">\n                                <div className=\"col-1\">\n                                    <CollectionsModal show={show} onClose={this.showModal} book={book._id}></CollectionsModal>\n                                    <button className=\"btn\" style={{padding:0}} onClick={this.handleOpen} variant=\"primary\">                        \n                                        <FontAwesomeIcon icon={faEllipsisH}></FontAwesomeIcon>\n                                    </button>\n                                </div>\n                            </div>\n                                ): (null)}\n\n                                <img\n                                    src={book.photo}\n                                    alt={book.title}\n                                    onError={i =>\n                                        (i.target.src = `${DefaultBook}`)\n                                    }\n                                    className=\"img-thunbnail mb-3\"\n                                    style={{ height: \"150px\", width: \"auto\" }}\n                                />\n                                <h5 className=\"card-title\">{book.title}</h5>\n                                <p className=\"card-text\">\n                                    {book.editorial.substring(0, 100)}\n                                </p>\n                                <br />\n                                <p className=\"font-italic\">\n                                    Posted by{\" \"}\n                                    <Link to={`${bookerId}`}>\n                                        {bookerName}{\" \"}\n                                    </Link>\n                                    on {new Date(book.created).toDateString()}\n                                </p>\n                                <Link\n                                    to={`/book/${book._id}`}\n                                    className=\"btn btn-raised btn-primary btn-sm\"\n                                >\n                                    Read more\n                                </Link>\n                            </div>\n                        </div>\n                    );\n                })}\n            </div>\n        );\n    };\n\n    render() {\n        const { books, page } = this.state;\n        return (\n            <div className=\"container\">\n                <h2 className=\"mt-5 mb-5\">\n                    {!books.length ? \"No more books!\" : \"Recent Books\"}\n                </h2>\n\n                {this.renderBooks(books)}\n\n                {page > 1 ? (\n                    <button\n                        className=\"btn btn-raised btn-warning mr-5 mt-5 mb-5\"\n                        onClick={() => this.loadLess(1)}\n                    >\n                        Previous ({this.state.page - 1})\n                    </button>\n                ) : (\n                    \"\"\n                )}\n\n                {books.length ? (\n                    <button\n                        className=\"btn btn-raised btn-success mt-5 mb-5\"\n                        onClick={() => this.loadMore(1)}\n                    >\n                        Next ({page + 1})\n                    </button>\n                ) : (\n                    \"\"\n                )}\n            </div>\n        );\n    }\n}\n\nexport default Books;\n","import React, { Component } from \"react\";\nimport { Redirect, Link } from \"react-router-dom\";\nimport { signout, isAuthenticated } from '../auth';\nimport {Navbar,Nav,NavDropdown} from 'react-bootstrap'\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\nimport { faSearch } from '@fortawesome/free-solid-svg-icons'\n\nclass Main extends Component {\n    state = {\n        search: '',\n        go: false\n    };\n\n    \n    clickSearch = (event) => {\n        //  event.preventDefault();\n    this.setState({go: true})\n/*     this.props.history.push({\n        pathname: '/finder',\n        search: '?term=' + this.state.search\n    }) */\n      \n    }\n\n\n      handleChange = name => event => {\n        this.setState({ error: \"\" });\n        const value = event.target.value;\n    \n        this.setState({ [name]: value });\n        };\n\n\n  render() {\n    const { redirectToSignin } = this.state;\n    if (redirectToSignin) return <Redirect to=\"/signin\" />;\n\n    const divStyle = {\n        color: '#ff9900',\n        backgroundImage: 'url(https://images.unsplash.com/photo-1457369804613-52c61a468e7d?ixlib=rb-1.2.1&auto=format&fit=crop&w=1050&q=80)',\n        opacity: 0.5\n      };\n\n    return (\n\n\n        <div style={divStyle}>\n        <div className=\"row justify-content-center\"  >\n        <div className=\"col-12 col-md-10 col-lg-8 mt-5 mb-5\">\n            <img src=\"\"/>\n            <form className=\"card card-sm\" >\n                <div className=\"card-body row no-gutters align-items-center\">\n                <div className=\"col\">\n                                        <input className=\"form-control form-control-lg form-control-borderless\" onChange={this.handleChange(\"search\")} type=\"search\" placeholder=\"     Search for books, collections or users\"/>\n                                    </div>\n                                    <div className=\"col-auto\">\n                                        <button className=\"btn btn-lg ml-2\" onClick={this.clickSearch}><FontAwesomeIcon icon={faSearch} size=\"2x\"/></button>\n                                    </div>\n                </div>\n            </form>\n        </div>\n    </div>\n    {this.state.go  &&\n                <Redirect to={{\n                  pathname: '/finder',\n                  state: { search: this.state.search }\n                }}/>\n              }\n    </div>\n\n    )}\n\n\n}\n\n\n\n\nexport default Main;\n\n\n\n","import React, { Component } from \"react\";\nimport { list } from \"./apiCollection\";\nimport DefaultCollection from \"../images/mountains.jpg\";\nimport { Link } from \"react-router-dom\";\n\nclass Collections extends Component {\n    constructor() {\n        super();\n        this.state = {\n            collections: [],\n            page: 1\n        };\n    }\n\n    loadCollections = page => {\n        list(page).then(data => {\n            if (!data) {\n                this.setState({ collections: [] });\n            } else {\n                this.setState({ collections: data });\n            }\n        });\n    };\n\n    componentDidMount() {\n        this.loadCollections(this.state.page);\n    }\n\n    loadMore = number => {\n        this.setState({ page: this.state.page + number });\n        this.loadCollections(this.state.page + number);\n    };\n\n    loadLess = number => {\n        this.setState({ page: this.state.page - number });\n        this.loadCollections(this.state.page - number);\n    };\n\n    renderCollections = collections => {\n        return (\n            <div className=\"row\">\n                {collections.map((collection, i) => {\n                    const collectionerId = collection.createdBy\n                        ? `/user/${collection.createdBy._id}`\n                        : \"\";\n                    const collectionerName = collection.createdBy\n                        ? collection.createdBy.name\n                        : \" Unknown\";\n\n                    return (\n                        <div className=\"card mr-3 mt-3\" key={i}>\n                            <div className=\"card-body\">\n                                <img\n                                    src={collection.photo}\n                                    alt={collection.name}\n                                    onError={i =>\n                                        (i.target.src = `${DefaultCollection}`)\n                                    }\n                                    className=\"img-thunbnail mb-3\"\n                                    style={{ height: \"150px\", width: \"auto\" }}\n                                />\n                                <h5 className=\"card-name\">{collection.name}</h5>\n                                <p className=\"card-text\">\n                                    {collection.about ? collection.about.substring(0, 100) : null}\n                                </p>\n                                <br />\n                                <p className=\"font-italic\">\n                                    Created by{\" \"}\n                                    <Link to={`${collectionerId}`}>\n                                        {collectionerName}{\" \"}\n                                    </Link>\n                                    on {new Date(collection.created).toDateString()}\n                                </p>\n                                <Link\n                                    to={`/collection/${collection._id}`}\n                                    className=\"btn btn-raised btn-primary btn-sm\"\n                                >\n                                    Read more\n                                </Link>\n                            </div>\n                        </div>\n                    );\n                })}\n            </div>\n        );\n    };\n\n    render() {\n        const { collections, page } = this.state;\n        return (\n            <div className=\"container card-group\">\n                <h2 className=\"mt-5 mb-5\">\n                    {!collections.length ? \"No more collections!\" : \"Recent Collections\"}\n                </h2>\n\n                {this.renderCollections(collections)}\n\n                {page > 1 ? (\n                    <button\n                        className=\"btn btn-raised btn-warning mr-5 mt-5 mb-5\"\n                        onClick={() => this.loadLess(1)}\n                    >\n                        Previous ({this.state.page - 1})\n                    </button>\n                ) : (\n                    \"\"\n                )}\n\n                {collections.length ? (\n                    <button\n                        className=\"btn btn-raised btn-success mt-5 mb-5\"\n                        onClick={() => this.loadMore(1)}\n                    >\n                        Next ({page + 1})\n                    </button>\n                ) : (\n                    \"\"\n                )}\n            </div>\n        );\n    }\n}\n\nexport default Collections;\n","import React from \"react\";\nimport Books from \"../book/Books\";\nimport Main from \"./Main\"\nimport Collections from \"../collection/Collections\";\n\nconst Home = () => (\n  <div>\n      <Main />\n      <Collections />\n      <Books />\n  </div>\n);\n\nexport default Home;\n","import React, { Fragment } from 'react';\nimport { Link, withRouter } from 'react-router-dom';\nimport { signout, isAuthenticated } from '../auth';\nimport {Navbar,Nav,NavDropdown} from 'react-bootstrap'\n\n\nconst isActive = (history, path) => {\n    if (history.location.pathname === path) return { color: '#ff9900' };\n    else return { color: '#ffffff' };\n};\n\nconst Menu = ({ history }) => (\n    <div className=\"navbar-collapse\">\n        <ul className=\"nav nav-tabs bg-primary\">\n            <li className=\"nav-item\">\n                <Link className=\"nav-link\" style={isActive(history, '/')} to=\"/\">\n                    Home\n                </Link>\n            </li>\n\n            <li className=\"nav-item\">\n                <Link\n                    className={history.location.pathname === '/users' ? 'active nav-link' : 'not-active nav-link'}\n                    to=\"/users\"\n                >\n                    Users\n                </Link>\n            </li>\n\n            <li className=\"nav-item\">\n{/*                 <a className=\"nav-link dropdown-toggle\" href=\"#\" id=\"navbarDropdown\" role=\"button\" data-toggle=\"dropdown\" aria-haspopup=\"true\" aria-expanded=\"false\">\n                    Create\n                </a>\n                <div className=\"dropdown-menu\" aria-labelledby=\"navbarDropdown\">\n                    <Link className=\"dropdown-item\" to=\"/book/create\">Book</Link>\n                    <Link className=\"dropdown-item\" to=\"/collection/create\">Collection</Link>\n                    \n                    \n                </div> */}\n                <NavDropdown title=\"Create\" id=\"collasible-nav-dropdown\">\n                    <NavDropdown.Item href=\"/book/create\">Book</NavDropdown.Item>\n                    <NavDropdown.Item href=\"/collection/create\">Collection</NavDropdown.Item>\n                </NavDropdown>\n            </li>\n\n\n            {!isAuthenticated() && (\n                <React.Fragment>\n                    <li className=\"nav-item\">\n                        <Link className=\"nav-link\" style={isActive(history, '/signin')} to=\"/signin\">\n                            Sign In\n                        </Link>\n                    </li>\n                    <li className=\"nav-item\">\n                        <Link className=\"nav-link\" style={isActive(history, '/signup')} to=\"/signup\">\n                            Sign Up\n                        </Link>\n                    </li>\n                </React.Fragment>\n            )}\n\n            {isAuthenticated() && isAuthenticated().user.role === 'admin' && (\n                <li className=\"nav-item\">\n                    <Link to={`/admin`} style={isActive(history, `/admin`)} className=\"nav-link\">\n                        Admin\n                    </Link>\n                </li>\n            )}\n\n            {isAuthenticated() && (\n                <React.Fragment>\n                    <li className=\"nav-item\">\n                        <Link to={`/finder`} style={isActive(history, `/finder`)} className=\"nav-link\">\n                            Search\n                        </Link>\n                    </li>\n\n                    <li className=\"nav-item\">\n                        <Link\n                            to={`/user/${isAuthenticated().user._id}`}\n                            style={isActive(history, `/user/${isAuthenticated().user._id}`)}\n                            className=\"nav-link\"\n                        >\n                            {`${isAuthenticated().user.name}'s profile`}\n                        </Link>\n                    </li>\n\n                    <li className=\"nav-item\">\n                        <span\n                            className=\"nav-link\"\n                            style={{ cursor: 'pointer', color: '#fff' }}\n                            onClick={() => signout(() => history.push('/'))}\n                        >\n                            Sign Out\n                        </span>\n                    </li>\n                </React.Fragment>\n            )}\n        </ul>\n    </div>\n);\n\nexport default withRouter(Menu);\n\n\n\n","import React, { Component } from \"react\";\nimport {Navbar,Nav,NavDropdown} from 'react-bootstrap'\nimport { BrowserRouter } from 'react-router-dom';\nimport { Link, withRouter } from 'react-router-dom';\nimport { signout, isAuthenticated } from '../auth';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\nimport { faSignOutAlt,faUser, faBook, faStream, faBookOpen } from '@fortawesome/free-solid-svg-icons'\n\n\n\nconst isActive = (history, path) => {\n  if(path === '/create') {\n    \n    if (history.location.pathname === '/book/create' || history.location.pathname === '/collection/create'){\n    return { color: '#ff9900' };\n    }\n  } \n  else if (history.location.pathname === path) {\n    return { color: '#ff9900' };\n  } else return { color: '#ffffff' };\n  \n};\n\nconst NavbarPage = ({ history }) => (\n\n    <Navbar collapseOnSelect expand=\"lg\" bg=\"dark\" variant=\"dark\">\n    <Navbar.Brand href=\"/\" style={isActive(history, '/')}><FontAwesomeIcon className=\"mr-2\" size=\"2x\" icon={faBookOpen} /></Navbar.Brand>\n    <Navbar.Toggle aria-controls=\"responsive-navbar-nav\" />\n    <Navbar.Collapse id=\"responsive-navbar-nav\">\n      <Nav className=\"mr-auto\">\n        <Nav.Link href=\"/users\" style={isActive(history, '/users')} className={history.location.pathname === '/users' ? 'active nav-link' : 'not-active nav-link'}>Users</Nav.Link>\n        <NavDropdown title=\"Add\" id=\"collasible-nav-dropdown\" style={isActive(history, '/create')}>\n          <NavDropdown.Item href=\"/book/create\"><FontAwesomeIcon className=\"mr-2\" icon={faBook} />Book</NavDropdown.Item>\n          <NavDropdown.Item href=\"/collection/create\"><FontAwesomeIcon className=\"mr-2\" icon={faStream} />Collection</NavDropdown.Item>\n        </NavDropdown>\n      </Nav>\n      <Nav>\n      {!isAuthenticated() && (\n        <Nav.Link href=\"/signin\">Sign in</Nav.Link>\n      )}\n      {!isAuthenticated() && (\n        <Nav.Link href=\"/signup\">Register</Nav.Link>\n      )}\n      {isAuthenticated() && (\n        <NavDropdown className=\"mr-5\" title={isAuthenticated().user.name} id=\"collasible-nav-dropdown\" style={isActive(history, '/create')}>\n          <NavDropdown.Item className=\"\" href={`/user/${isAuthenticated().user._id}`}><FontAwesomeIcon className=\"mr-2\" icon={faUser} /> Profile</NavDropdown.Item>\n          <NavDropdown.Item className=\"\" onClick={() => signout(() => history.push('/'))}><FontAwesomeIcon className=\"mr-2\" icon={faSignOutAlt} /> Sign Out</NavDropdown.Item>\n        </NavDropdown>\n      )}\n      </Nav>\n    </Navbar.Collapse>\n  </Navbar>\n\n)\n\nexport default withRouter(NavbarPage);","import React, { Component } from 'react';\nimport { Redirect } from 'react-router-dom';\nimport GoogleLogin from 'react-google-login';\nimport { socialLogin, authenticate } from '../auth';\n\nclass SocialLogin extends Component {\n    constructor() {\n        super();\n        this.state = {\n            redirectToReferrer: false\n        };\n    }\n\n    responseGoogle = response => {\n        // console.log('response', response);\n        const tokenId = response.tokenId;\n        const user = {\n            tokenId: tokenId\n        };\n\n        socialLogin(user).then(data => {\n            // console.log('signin data: ', data);\n            if (data.error) {\n                console.log('Error Login. Please try again..');\n            } else {\n                // console.log('signin success - setting jwt: ', data);\n                authenticate(data, () => {\n                    console.log('social login response from api', data);\n                    this.setState({ redirectToReferrer: true });\n                });\n            }\n        });\n    };\n\n    render() {\n        // redirect\n        const { redirectToReferrer } = this.state;\n        if (redirectToReferrer) {\n            return <Redirect to=\"/\" />;\n        }\n\n        return (\n\n            <GoogleLogin\n            clientId=\"399479435902-9i03bv7ergt57l7pd6k598rfb9662174.apps.googleusercontent.com\"\n            buttonText=\"Login\"\n            onSuccess={this.responseGoogle}\n            onFailure={this.responseGoogle}\n            cookiePolicy={'single_host_origin'}\n          />\n        );\n    }\n}\n\nexport default SocialLogin;\n","import React, { Component } from \"react\";\nimport { signup } from \"../auth\";\nimport { Link } from \"react-router-dom\";\nimport SocialLogin from \"./SocialLogin\";\n\nclass Signup extends Component {\n    constructor() {\n        super();\n        this.state = {\n            name: \"\",\n            email: \"\",\n            password: \"\",\n            error: \"\",\n            open: false,\n            recaptcha: false\n        };\n    }\n\n    handleChange = name => event => {\n        this.setState({ error: \"\" });\n        this.setState({ [name]: event.target.value });\n    };\n\n    recaptchaHandler = e => {\n        this.setState({ error: \"\" });\n        let userDay = e.target.value.toLowerCase();\n        let dayCount;\n\n        if (userDay === \"sunday\") {\n            dayCount = 0;\n        } else if (userDay === \"monday\") {\n            dayCount = 1;\n        } else if (userDay === \"tuesday\") {\n            dayCount = 2;\n        } else if (userDay === \"wednesday\") {\n            dayCount = 3;\n        } else if (userDay === \"thursday\") {\n            dayCount = 4;\n        } else if (userDay === \"friday\") {\n            dayCount = 5;\n        } else if (userDay === \"saturday\") {\n            dayCount = 6;\n        }\n\n        if (dayCount === new Date().getDay()) {\n            this.setState({ recaptcha: true });\n            return true;\n        } else {\n            this.setState({\n                recaptcha: false\n            });\n            return false;\n        }\n    };\n\n    clickSubmit = event => {\n        event.preventDefault();\n        const { name, email, password } = this.state;\n        const user = {\n            name,\n            email,\n            password\n        };\n        console.log(user);\n        if (this.state.recaptcha) {\n            signup(user).then(data => {\n                console.log(data)\n                if (data.error) this.setState({ error: data.error });\n                else\n                    this.setState({\n                        error: \"\",\n                        name: \"\",\n                        email: \"\",\n                        password: \"\",\n                        open: true\n                    });\n            });\n        } else {\n            this.setState({\n                error: \"What day is today? Please write a correct answer!\"\n            });\n        }\n    };\n\n    signupForm = (name, email, password, recaptcha) => (\n        <form>\n            <div className=\"form-group\">\n                <label className=\"text-muted\">Name</label>\n                <input\n                    onChange={this.handleChange(\"name\")}\n                    type=\"text\"\n                    className=\"form-control\"\n                    value={name}\n                />\n            </div>\n            <div className=\"form-group\">\n                <label className=\"text-muted\">Email</label>\n                <input\n                    onChange={this.handleChange(\"email\")}\n                    type=\"email\"\n                    className=\"form-control\"\n                    value={email}\n                />\n            </div>\n            <div className=\"form-group\">\n                <label className=\"text-muted\">Password</label>\n                <input\n                    onChange={this.handleChange(\"password\")}\n                    type=\"password\"\n                    className=\"form-control\"\n                    value={password}\n                />\n            </div>\n\n            <div className=\"form-group\">\n                <label className=\"text-muted\">\n                    {recaptcha ? \"Thanks. You got it!\" : \"What day is today?\"}\n                </label>\n\n                <input\n                    onChange={this.recaptchaHandler}\n                    type=\"text\"\n                    className=\"form-control\"\n                />\n            </div>\n\n            <button\n                onClick={this.clickSubmit}\n                className=\"btn btn-raised btn-primary\"\n            >\n                Submit\n            </button>\n        </form>\n    );\n\n    render() {\n        const { name, email, password, error, open, recaptcha } = this.state;\n        return (\n            <div className=\"container\">\n                <h2 className=\"mt-5 mb-5\">Signup</h2>\n\n                <hr />\n                <SocialLogin />\n\n                <hr />\n                <br />\n\n                <div\n                    className=\"alert alert-danger\"\n                    style={{ display: error ? \"\" : \"none\" }}\n                >\n                    {error}\n                </div>\n\n                <div\n                    className=\"alert alert-info\"\n                    style={{ display: open ? \"\" : \"none\" }}\n                >\n                    New account is successfully created. Please{\" \"}\n                    <Link to=\"/signin\">Sign In</Link>.\n                </div>\n\n                {this.signupForm(name, email, password, recaptcha)}\n            </div>\n        );\n    }\n}\n\nexport default Signup;\n","import React, { Component } from \"react\";\nimport { Link, Redirect } from \"react-router-dom\";\nimport { signin, authenticate } from \"../auth\";\nimport SocialLogin from \"./SocialLogin\";\n\nclass Signin extends Component {\n    constructor() {\n        super();\n        this.state = {\n            email: \"\",\n            password: \"\",\n            error: \"\",\n            redirectToReferer: false,\n            loading: false,\n            recaptcha: false\n        };\n    }\n\n    handleChange = name => event => {\n        this.setState({ error: \"\" });\n        this.setState({ [name]: event.target.value });\n    };\n\n    recaptchaHandler = e => {\n        this.setState({ error: \"\" });\n        let userDay = e.target.value.toLowerCase();\n        let dayCount;\n\n        if (userDay === \"sunday\") {\n            dayCount = 0;\n        } else if (userDay === \"monday\") {\n            dayCount = 1;\n        } else if (userDay === \"tuesday\") {\n            dayCount = 2;\n        } else if (userDay === \"wednesday\") {\n            dayCount = 3;\n        } else if (userDay === \"thursday\") {\n            dayCount = 4;\n        } else if (userDay === \"friday\") {\n            dayCount = 5;\n        } else if (userDay === \"saturday\") {\n            dayCount = 6;\n        }\n\n        if (dayCount === new Date().getDay()) {\n            this.setState({ recaptcha: true });\n            return true;\n        } else {\n            this.setState({\n                recaptcha: false\n            });\n            return false;\n        }\n    };\n\n    clickSubmit = event => {\n        event.preventDefault();\n        this.setState({ loading: true });\n        const { email, password } = this.state;\n        const user = {\n            email,\n            password\n        };\n        // console.log(user);\n        if (this.state.recaptcha) {\n            signin(user).then(data => {\n                if (data.error) {\n                    this.setState({ error: data.error, loading: false });\n                } else {\n                    // authenticate\n                    authenticate(data, () => {\n                        this.setState({ redirectToReferer: true });\n                    });\n                }\n            });\n        } else {\n            this.setState({\n                loading: false,\n                error: \"What day is today? Please write a correct answer!\"\n            });\n        }\n    };\n\n    signinForm = (email, password, recaptcha) => (\n        <form>\n            <div className=\"form-group\">\n                <label className=\"text-muted\">Email</label>\n                <input\n                    onChange={this.handleChange(\"email\")}\n                    type=\"email\"\n                    className=\"form-control\"\n                    value={email}\n                />\n            </div>\n            <div className=\"form-group\">\n                <label className=\"text-muted\">Password</label>\n                <input\n                    onChange={this.handleChange(\"password\")}\n                    type=\"password\"\n                    className=\"form-control\"\n                    value={password}\n                />\n            </div>\n\n            <div className=\"form-group\">\n                <label className=\"text-muted\">\n                    {recaptcha ? \"Thanks. You got it!\" : \"What day is today?\"}\n                </label>\n\n                <input\n                    onChange={this.recaptchaHandler}\n                    type=\"text\"\n                    className=\"form-control\"\n                />\n            </div>\n\n            <button\n                onClick={this.clickSubmit}\n                className=\"btn btn-raised btn-primary\"\n            >\n                Submit\n            </button>\n        </form>\n    );\n\n    render() {\n        const {\n            email,\n            password,\n            error,\n            redirectToReferer,\n            loading,\n            recaptcha\n        } = this.state;\n\n        if (redirectToReferer) {\n            return <Redirect to=\"/\" />;\n        }\n\n        return (\n            <div className=\"container\">\n                <h2 className=\"mt-5 mb-5\">SignIn</h2>\n                <hr />\n                <SocialLogin />\n\n                <hr />\n                <br />\n\n                <div\n                    className=\"alert alert-danger\"\n                    style={{ display: error ? \"\" : \"none\" }}\n                >\n                    {error}\n                </div>\n\n                {loading ? (\n                    <div className=\"jumbotron text-center\">\n                        <h2>Loading...</h2>\n                    </div>\n                ) : (\n                    \"\"\n                )}\n\n                {this.signinForm(email, password, recaptcha)}\n\n                <p>\n                    <Link\n                        to=\"/forgot-password\"\n                        className=\"btn btn-raised btn-danger\"\n                    >\n                        {\" \"}\n                        Forgot Password\n                    </Link>\n                </p>\n            </div>\n        );\n    }\n}\n\nexport default Signin;\n","export const read = (userId, token) => {\n    return fetch(`${process.env.REACT_APP_API_URL}/user/${userId}`, {\n        method: \"GET\",\n        headers: {\n            Accept: \"application/json\",\n            \"Content-Type\": \"application/json\",\n            Authorization: `Bearer ${token}`\n        }\n    })\n        .then(response => {\n            return response.json();\n        })\n        .catch(err => console.log(err));\n};\n\nexport const findUsers = (search) => {\n    return fetch(`${process.env.REACT_APP_API_URL}/users/${search}`, {\n        method: \"GET\",\n        headers: {\n            Accept: \"application/json\"\n        },\n    }) \n    .then(response => {\n            return response.json();\n    })\n    .catch(err => console.log(err));\n}\n\nexport const update = (userId, token, user) => {\n    console.log(\"USER DATA UPDATE: \", user);\n    return fetch(`${process.env.REACT_APP_API_URL}/user/${userId}`, {\n        method: \"PUT\",\n        headers: {\n            Accept: \"application/json\",\n            Authorization: `Bearer ${token}`\n        },\n        body: user\n    })\n        .then(response => {\n            return response.json();\n        })\n        .catch(err => console.log(err));\n};\n\nexport const remove = (userId, token) => {\n    return fetch(`${process.env.REACT_APP_API_URL}/user/${userId}`, {\n        method: \"DELETE\",\n        headers: {\n            Accept: \"application/json\",\n            \"Content-Type\": \"application/json\",\n            Authorization: `Bearer ${token}`\n        }\n    })\n        .then(response => {\n            return response.json();\n        })\n        .catch(err => console.log(err));\n};\n\nexport const list = () => {\n    return fetch(`${process.env.REACT_APP_API_URL}/users`, {\n        method: \"GET\"\n    })\n        .then(response => {\n            return response.json();\n        })\n        .catch(err => console.log(err));\n};\n\nexport const updateUser = (user, next) => {\n    if (typeof window !== \"undefined\") {\n        if (localStorage.getItem(\"jwt\")) {\n            let auth = JSON.parse(localStorage.getItem(\"jwt\"));\n            auth.user = user;\n            localStorage.setItem(\"jwt\", JSON.stringify(auth));\n            next();\n        }\n    }\n};\n\nexport const follow = (userId, token, followId) => {\n    return fetch(`${process.env.REACT_APP_API_URL}/user/follow`, {\n        method: \"PUT\",\n        headers: {\n            Accept: \"application/json\",\n            \"Content-Type\": \"application/json\",\n            Authorization: `Bearer ${token}`\n        },\n        body: JSON.stringify({ userId, followId })\n    })\n        .then(response => {\n            return response.json();\n        })\n        .catch(err => console.log(err));\n};\n\nexport const unfollow = (userId, token, unfollowId) => {\n    return fetch(`${process.env.REACT_APP_API_URL}/user/unfollow`, {\n        method: \"PUT\",\n        headers: {\n            Accept: \"application/json\",\n            \"Content-Type\": \"application/json\",\n            Authorization: `Bearer ${token}`\n        },\n        body: JSON.stringify({ userId, unfollowId })\n    })\n        .then(response => {\n            return response.json();\n        })\n        .catch(err => console.log(err));\n};\n\nexport const findPeople = (userId, token) => {\n    return fetch(`${process.env.REACT_APP_API_URL}/user/findpeople/${userId}`, {\n        method: \"GET\",\n        headers: {\n            Accept: \"application/json\",\n            \"Content-Type\": \"application/json\",\n            Authorization: `Bearer ${token}`\n        }\n    })\n        .then(response => {\n            return response.json();\n        })\n        .catch(err => console.log(err));\n};\n","import React, { Component } from \"react\";\nimport { Redirect } from \"react-router-dom\";\nimport { isAuthenticated } from \"../auth\";\nimport { remove } from \"./apiUser\";\nimport { signout } from \"../auth\";\n\nclass DeleteUser extends Component {\n    state = {\n        redirect: false\n    };\n\n    deleteAccount = () => {\n        const token = isAuthenticated().token;\n        const userId = this.props.userId;\n        remove(userId, token).then(data => {\n            if (data.error) {\n                console.log(data.error);\n            } else {\n                // signout user\n                signout(() => console.log(\"User is deleted\"));\n                // redirect\n                this.setState({ redirect: true });\n            }\n        });\n    };\n\n    deleteConfirmed = () => {\n        let answer = window.confirm(\n            \"Are you sure you want to delete your account?\"\n        );\n        if (answer) {\n            this.deleteAccount();\n        }\n    };\n\n    render() {\n        if (this.state.redirect) {\n            return <Redirect to=\"/\" />;\n        }\n        return (\n            <button\n                onClick={this.deleteConfirmed}\n                className=\"btn btn-raised btn-danger\"\n            >\n                Delete Profile\n            </button>\n        );\n    }\n}\n\nexport default DeleteUser;\n","import React, { Component } from \"react\";\nimport { follow, unfollow } from \"./apiUser\";\n\nclass FollowProfileButton extends Component {\n    followClick = () => {\n        this.props.onButtonClick(follow);\n    };\n\n    unfollowClick = () => {\n        this.props.onButtonClick(unfollow);\n    };\n\n    render() {\n        return (\n            <div className=\"d-inline-block\">\n                {!this.props.following ? (\n                    <button\n                        onClick={this.followClick}\n                        className=\"btn btn-success btn-raised mr-5\"\n                    >\n                        Follow\n                    </button>\n                ) : (\n                    <button\n                        onClick={this.unfollowClick}\n                        className=\"btn btn-warning btn-raised\"\n                    >\n                        UnFollow\n                    </button>\n                )}\n            </div>\n        );\n    }\n}\n\nexport default FollowProfileButton;\n","import React, { Component } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport DefaultProfile from \"../images/avatar.jpg\";\n\nclass ProfileTabs extends Component {\n    render() {\n        const { following, followers, books, collections, followedCollections } = this.props;\n        return (\n            <div>\n                <div className=\"row\">\n                    <div className=\"col-md-3\">\n                        <h3 className=\"text-primary\">\n                            {followers.length} Followers\n                        </h3>\n                        <hr />\n                        {followers.map((person, i) => (\n                            <div key={i}>\n                                <div>\n                                    <Link to={`/user/${person._id}`}>\n                                        <img\n                                            style={{\n                                                borderRadius: \"50%\",\n                                                border: \"1px solid black\"\n                                            }}\n                                            className=\"float-left mr-2\"\n                                            height=\"30px\"\n                                            width=\"30px\"\n                                            onError={i =>\n                                                (i.target.src = `${DefaultProfile}`)\n                                            }\n                                            src={`${\n                                                process.env.REACT_APP_API_URL\n                                            }/user/photo/${person._id}`}\n                                            alt={person.name}\n                                        />\n                                        <div>\n                                            <p className=\"lead\">\n                                                {person.name}\n                                            </p>\n                                        </div>\n                                    </Link>\n                                </div>\n                            </div>\n                        ))}\n                    </div>\n\n                    <div className=\"col-md-3\">\n                        <h3 className=\"text-primary\">\n                            {following.length} Following\n                        </h3>\n                        <hr />\n                        {following.map((person, i) => (\n                            <div key={i}>\n                                <div>\n                                    <Link to={`/user/${person._id}`}>\n                                        <img\n                                            style={{\n                                                borderRadius: \"50%\",\n                                                border: \"1px solid black\"\n                                            }}\n                                            className=\"float-left mr-2\"\n                                            height=\"30px\"\n                                            width=\"30px\"\n                                            onError={i =>\n                                                (i.target.src = `${DefaultProfile}`)\n                                            }\n                                            src={`${\n                                                process.env.REACT_APP_API_URL\n                                            }/user/photo/${person._id}`}\n                                            alt={person.name}\n                                        />\n                                        <div>\n                                            <p className=\"lead\">\n                                                {person.name}\n                                            </p>\n                                        </div>\n                                    </Link>\n                                </div>\n                            </div>\n                        ))}\n                    </div>\n                    <div className=\"col-md-3\">\n                        <h3 className=\"text-primary\">{collections.length} Collections</h3>\n                        <hr />\n                        {collections.map((collection, i) => (\n                            <div key={i}>\n                                <div>\n                                    <Link to={`/collection/${collection._id}`}>\n                                        <div>\n                                            <p className=\"lead\">{collection.name}</p>\n                                        </div>\n                                    </Link>\n                                </div>\n                            </div>\n                        ))}\n                    </div>\n                    <div className=\"col-md-3\">\n                        <h3 className=\"text-primary\">{collections.length} Followed Collections</h3>\n                        <hr />\n                        {followedCollections.map((collection, i) => (\n                            <div key={i}>\n                                <div>\n                                    <Link to={`/collection/${collection._id}`}>\n                                        <div>\n                                            <p className=\"lead\">{collection.name}</p>\n                                        </div>\n                                    </Link>\n                                </div>\n                            </div>\n                        ))}\n                    </div>\n                </div>\n            </div>\n        );\n    }\n}\n\nexport default ProfileTabs;\n","import React, { Component } from \"react\";\nimport { isAuthenticated } from \"../auth\";\nimport { Redirect, Link } from \"react-router-dom\";\nimport { read } from \"./apiUser\";\nimport DefaultProfile from \"../images/avatar.jpg\";\nimport DeleteUser from \"./DeleteUser\";\nimport FollowProfileButton from \"./FollowProfileButton\";\nimport ProfileTabs from \"./ProfileTabs\";\nimport { listByUser } from \"../book/apiBook\";\nimport { listByUserCol } from \"../collection/apiCollection\";\n\nclass Profile extends Component {\n  constructor() {\n    super();\n    this.state = {\n      user: { following: [], followers: [] },\n      redirectToSignin: false,\n      following: false,\n      error: \"\",\n      books: [],\n      collections: [],\n      followedCollections: []\n    };\n  }\n\n  // check follow\n  checkFollow = user => {\n    const jwt = isAuthenticated();\n    const match = user.followers.find(follower => {\n      // one id has many other ids (followers) and vice versa\n      return follower._id === jwt.user._id;\n    });\n    return match;\n  };\n\n  clickFollowButton = callApi => {\n    const userId = isAuthenticated().user._id;\n    const token = isAuthenticated().token;\n\n    callApi(userId, token, this.state.user._id).then(data => {\n      if (data.error) {\n        this.setState({ error: data.error });\n      } else {\n        this.setState({ user: data, following: !this.state.following });\n      }\n    });\n  };\n\n  init = userId => {\n    const token = isAuthenticated().token;\n    read(userId, token).then(data => {\n      if (data.error) {\n        this.setState({ redirectToSignin: true });\n      } else {\n        let following = this.checkFollow(data);\n        this.setState({ user: data, following });\n        this.loadBooks(data._id);\n        this.loadCollections(data._id);\n      }\n    });\n  };\n\n  loadBooks = userId => {\n    const token = isAuthenticated().token;\n    listByUser(userId, token).then(data => {\n      if (data.error) {\n        console.log(data.error);\n      } else {\n        this.setState({ books: data });\n      }\n    });\n  };\n\n  loadCollections = userId => {\n    const token = isAuthenticated().token;\n    listByUserCol(userId, token).then(data => {\n      if (data.error) {\n        console.log(data.error);\n      } else {\n        this.setState({ collections: data });\n      }\n    });\n  };\n\n  loadFollowedCollections = userId => {\n    const token = isAuthenticated().token;\n    listByUserCol(userId, token).then(data => {\n      if (data.error) {\n        console.log(data.error);\n      } else {\n        this.setState({ followedCollections: data });\n      }\n    });\n  };\n\n  componentDidMount() {\n    const userId = this.props.match.params.userId;\n    this.init(userId);\n  }\n\n  componentWillReceiveProps(props) {\n    const userId = props.match.params.userId;\n    this.init(userId);\n  }\n\n  render() {\n    const { redirectToSignin, user, books, collections, followedCollections } = this.state;\n    if (redirectToSignin) return <Redirect to=\"/signin\" />;\n\n    const photoUrl = user._id\n      ? `${process.env.REACT_APP_API_URL}/user/photo/${\n          user._id\n        }?${new Date().getTime()}`\n      : DefaultProfile;\n\n    return (\n      <div className=\"container\">\n        <h2 className=\"mt-5 mb-5\">Profile</h2>\n        <div className=\"row\">\n          <div className=\"col-md-4\">\n            <img\n              style={{ height: \"200px\", width: \"auto\" }}\n              className=\"img-thumbnail\"\n              src={photoUrl}\n              onError={i => (i.target.src = `${DefaultProfile}`)}\n              alt={user.name}\n            />\n          </div>\n\n          <div className=\"col-md-8\">\n            <div className=\"lead mt-2\">\n              <p>Hello {user.name}</p>\n              <p>Email: {user.email}</p>\n              <p>{`Joined ${new Date(user.created).toDateString()}`}</p>\n            </div>\n\n            {isAuthenticated().user &&\n            isAuthenticated().user._id === user._id ? (\n              <div className=\"d-inline-block\">\n                <Link\n                  className=\"btn btn-raised btn-info mr-5\"\n                  to={`/book/create`}\n                >\n                  Create Book\n                </Link>\n\n                <Link\n                  className=\"btn btn-raised btn-info mr-5\"\n                  to={`/collection/create`}\n                >\n                  Create Collection\n                </Link>\n\n                <Link\n                  className=\"btn btn-raised btn-success mr-5\"\n                  to={`/user/edit/${user._id}`}\n                >\n                  Edit Profile\n                </Link>\n                <DeleteUser userId={user._id} />\n              </div>\n            ) : (\n              <FollowProfileButton\n                following={this.state.following}\n                onButtonClick={this.clickFollowButton}\n              />\n            )}\n\n            <div>\n              {isAuthenticated().user &&\n                isAuthenticated().user.role === \"admin\" && (\n                  <div class=\"card mt-5\">\n                    <div className=\"card-body\">\n                      <h5 className=\"card-title\">Admin</h5>\n                      <p className=\"mb-2 text-danger\">\n                        Edit/Delete as an Admin\n                      </p>\n                      <Link\n                        className=\"btn btn-raised btn-success mr-5\"\n                        to={`/user/edit/${user._id}`}\n                      >\n                        Edit Profile\n                      </Link>\n                      {/*<DeleteUser userId={user._id} />*/}\n                      <DeleteUser />\n                    </div>\n                  </div>\n                )}\n            </div>\n          </div>\n        </div>\n        <div className=\"row\">\n          <div className=\"col md-12 mt-5 mb-5\">\n            <hr />\n            <p className=\"lead\">{user.about}</p>\n            <hr />\n\n            <ProfileTabs\n              followers={user.followers}\n              following={user.following}\n              books={books}\n              collections={collections}\n              followedCollections={followedCollections}\n            />\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default Profile;\n","import React, { Component } from \"react\";\nimport { list } from \"./apiUser\";\nimport DefaultProfile from \"../images/avatar.jpg\";\nimport { Link } from \"react-router-dom\";\n\nclass Users extends Component {\n    constructor() {\n        super();\n        this.state = {\n            users: []\n        };\n    }\n\n    componentDidMount() {\n        list().then(data => {\n            if (data.error) {\n                console.log(data.error);\n            } else {\n                this.setState({ users: data });\n            }\n        });\n    }\n\n    renderUsers = users => (\n        <div className=\"row\">\n            {users.map((user, i) => (\n                <div className=\"card col-md-4\" key={i}>\n                    <img\n                        style={{ height: \"200px\", width: \"auto\" }}\n                        className=\"img-thumbnail\"\n                        src={`${process.env.REACT_APP_API_URL}/user/photo/${\n                            user._id\n                        }`}\n                        onError={i => (i.target.src = `${DefaultProfile}`)}\n                        alt={user.name}\n                    />\n                    <div className=\"card-body\">\n                        <h5 className=\"card-title\">{user.name}</h5>\n                        <p className=\"card-text\">{user.email}</p>\n                        <Link\n                            to={`/user/${user._id}`}\n                            className=\"btn btn-raised btn-primary btn-sm\"\n                        >\n                            View Profile\n                        </Link>\n                    </div>\n                </div>\n            ))}\n        </div>\n    );\n\n    render() {\n        const { users } = this.state;\n        return (\n            <div className=\"container\">\n                <h2 className=\"mt-5 mb-5\">Users</h2>\n\n                {this.renderUsers(users)}\n            </div>\n        );\n    }\n}\n\nexport default Users;\n","import React, { Component } from \"react\";\nimport { isAuthenticated } from \"../auth\";\nimport { read, update, updateUser } from \"./apiUser\";\nimport { Redirect } from \"react-router-dom\";\nimport DefaultProfile from \"../images/avatar.jpg\";\n\nclass EditProfile extends Component {\n  constructor() {\n    super();\n    this.state = {\n      id: \"\",\n      name: \"\",\n      email: \"\",\n      password: \"\",\n      redirectToProfile: false,\n      error: \"\",\n      fileSize: 0,\n      loading: false,\n      about: \"\"\n    };\n  }\n\n  init = userId => {\n    const token = isAuthenticated().token;\n    read(userId, token).then(data => {\n      if (data.error) {\n        this.setState({ redirectToProfile: true });\n      } else {\n        this.setState({\n          id: data._id,\n          name: data.name,\n          email: data.email,\n          error: \"\",\n          about: data.about\n        });\n      }\n    });\n  };\n\n  componentDidMount() {\n    this.userData = new FormData();\n    const userId = this.props.match.params.userId;\n    this.init(userId);\n  }\n\n  isValid = () => {\n    const { name, email, password, fileSize } = this.state;\n    if (fileSize > 1000000) {\n      this.setState({\n        error: \"File size should be less than 100kb\",\n        loading: false\n      });\n      return false;\n    }\n    if (name.length === 0) {\n      this.setState({ error: \"Name is required\", loading: false });\n      return false;\n    }\n    // email@domain.com\n    if (!/^\\w+([\\.-]?\\w+)*@\\w+([\\.-]?\\w+)*(\\.\\w{2,3})+$/.test(email)) {\n      this.setState({\n        error: \"A valid Email is required\",\n        loading: false\n      });\n      return false;\n    }\n    if (password.length >= 1 && password.length <= 5) {\n      this.setState({\n        error: \"Password must be at least 6 characters long\",\n        loading: false\n      });\n      return false;\n    }\n    return true;\n  };\n\n  handleChange = name => event => {\n    this.setState({ error: \"\" });\n    const value = name === \"photo\" ? event.target.files[0] : event.target.value;\n\n    const fileSize = name === \"photo\" ? event.target.files[0].size : 0;\n    this.userData.set(name, value);\n    this.setState({ [name]: value, fileSize });\n  };\n\n  clickSubmit = event => {\n    event.preventDefault();\n    this.setState({ loading: true });\n\n    if (this.isValid()) {\n      const userId = this.props.match.params.userId;\n      const token = isAuthenticated().token;\n\n      update(userId, token, this.userData).then(data => {\n        if (data.error) {\n          this.setState({ error: data.error });\n        } else if (isAuthenticated().user.role === \"admin\") {\n          this.setState({\n            redirectToProfile: true\n          });\n        } else {\n          updateUser(data, () => {\n            this.setState({\n              redirectToProfile: true\n            });\n          });\n        }\n      });\n    }\n  };\n\n  signupForm = (name, email, password, about) => (\n    <form>\n      <div className=\"form-group\">\n        <label className=\"text-muted\">Profile Photo</label>\n        <input\n          onChange={this.handleChange(\"photo\")}\n          type=\"file\"\n          accept=\"image/*\"\n          className=\"form-control\"\n        />\n      </div>\n      <div className=\"form-group\">\n        <label className=\"text-muted\">Name</label>\n        <input\n          onChange={this.handleChange(\"name\")}\n          type=\"text\"\n          className=\"form-control\"\n          value={name}\n        />\n      </div>\n      <div className=\"form-group\">\n        <label className=\"text-muted\">Email</label>\n        <input\n          onChange={this.handleChange(\"email\")}\n          type=\"email\"\n          className=\"form-control\"\n          value={email}\n        />\n      </div>\n\n      <div className=\"form-group\">\n        <label className=\"text-muted\">About</label>\n        <textarea\n          onChange={this.handleChange(\"about\")}\n          type=\"text\"\n          className=\"form-control\"\n          value={about}\n        />\n      </div>\n\n      <div className=\"form-group\">\n        <label className=\"text-muted\">Password</label>\n        <input\n          onChange={this.handleChange(\"password\")}\n          type=\"password\"\n          className=\"form-control\"\n          value={password}\n        />\n      </div>\n      <button onClick={this.clickSubmit} className=\"btn btn-raised btn-primary\">\n        Update\n      </button>\n    </form>\n  );\n\n  render() {\n    const {\n      id,\n      name,\n      email,\n      password,\n      redirectToProfile,\n      error,\n      loading,\n      about\n    } = this.state;\n\n    if (redirectToProfile) {\n      return <Redirect to={`/user/${id}`} />;\n    }\n\n    const photoUrl = id\n      ? `${\n          process.env.REACT_APP_API_URL\n        }/user/photo/${id}?${new Date().getTime()}`\n      : DefaultProfile;\n\n    return (\n      <div className=\"container\">\n        <h2 className=\"mt-5 mb-5\">Edit Profile</h2>\n        <div\n          className=\"alert alert-danger\"\n          style={{ display: error ? \"\" : \"none\" }}\n        >\n          {error}\n        </div>\n\n        {loading ? (\n          <div className=\"jumbotron text-center\">\n            <h2>Loading...</h2>\n          </div>\n        ) : (\n          \"\"\n        )}\n\n        <img\n          style={{ height: \"200px\", width: \"auto\" }}\n          className=\"img-thumbnail\"\n          src={photoUrl}\n          onError={i => (i.target.src = `${DefaultProfile}`)}\n          alt={name}\n        />\n\n        {isAuthenticated().user.role === \"admin\" &&\n          this.signupForm(name, email, password, about)}\n\n        {isAuthenticated().user._id === id &&\n          this.signupForm(name, email, password, about)}\n      </div>\n    );\n  }\n}\n\nexport default EditProfile;\n","import React, { Component } from \"react\";\nimport { findPeople, follow } from \"./apiUser\";\nimport DefaultProfile from \"../images/avatar.jpg\";\nimport { Link } from \"react-router-dom\";\nimport { isAuthenticated } from \"../auth\";\n\nclass FindPeople extends Component {\n    constructor() {\n        super();\n        this.state = {\n            users: [],\n            error: \"\",\n            open: false\n        };\n    }\n\n    componentDidMount() {\n        const userId = isAuthenticated().user._id;\n        const token = isAuthenticated().token;\n\n        findPeople(userId, token).then(data => {\n            if (data.error) {\n                console.log(data.error);\n            } else {\n                this.setState({ users: data });\n            }\n        });\n    }\n\n    clickFollow = (user, i) => {\n        const userId = isAuthenticated().user._id;\n        const token = isAuthenticated().token;\n\n        follow(userId, token, user._id).then(data => {\n            if (data.error) {\n                this.setState({ error: data.error });\n            } else {\n                let toFollow = this.state.users;\n                toFollow.splice(i, 1);\n                this.setState({\n                    users: toFollow,\n                    open: true,\n                    followMessage: `Following ${user.name}`\n                });\n            }\n        });\n    };\n\n    renderUsers = users => (\n        <div className=\"row\">\n            {users.map((user, i) => (\n                <div className=\"card col-md-4\" key={i}>\n                    <img\n                        style={{ height: \"200px\", width: \"auto\" }}\n                        className=\"img-thumbnail\"\n                        src={`${process.env.REACT_APP_API_URL}/user/photo/${\n                            user._id\n                        }`}\n                        onError={i => (i.target.src = `${DefaultProfile}`)}\n                        alt={user.name}\n                    />\n                    <div className=\"card-body\">\n                        <h5 className=\"card-title\">{user.name}</h5>\n                        <p className=\"card-text\">{user.email}</p>\n                        <Link\n                            to={`/user/${user._id}`}\n                            className=\"btn btn-raised btn-primary btn-sm\"\n                        >\n                            View Profile\n                        </Link>\n\n                        <button\n                            onClick={() => this.clickFollow(user, i)}\n                            className=\"btn btn-raised btn-info float-right btn-sm\"\n                        >\n                            Follow\n                        </button>\n                    </div>\n                </div>\n            ))}\n        </div>\n    );\n\n    render() {\n        const { users, open, followMessage } = this.state;\n        return (\n            <div className=\"container\">\n                <h2 className=\"mt-5 mb-5\">Find People</h2>\n\n                {open && (\n                    <div className=\"alert alert-success\">{followMessage}</div>\n                )}\n\n                {this.renderUsers(users)}\n            </div>\n        );\n    }\n}\n\nexport default FindPeople;\n","import React, { Component } from \"react\";\nimport { isAuthenticated } from \"../auth\";\nimport { create } from \"./apiCollection\";\nimport { Redirect } from \"react-router-dom\";\n\n\n\nclass NewCollection extends Component {\n    constructor() {\n        super();\n        this.state = {\n            name: \"\",\n            privacy: \"\",\n            tags: [],\n            photo: \"\",\n            about: \"\",\n            // setTags: React.useState([\"example tag\"]),\n            user: {},\n            fileSize: 0,\n            loading: false,\n            redirectToProfile: false\n        };\n    }\n\n\n\n    componentDidMount() {\n        this.collectionData = new FormData();\n        this.setState({ user: isAuthenticated().user });\n\n    }\n\n    isValid = () => {\n        const { name, privacy, tags, about, fileSize } = this.state;\n        if (fileSize > 100000) {\n            this.setState({\n                error: \"File size should be less than 100kb\",\n                loading: false\n            });\n            return false;\n        }\n        if (name.length === 0 || about.length === 0 ) {\n            this.setState({ error: \"All fields are required\", loading: false });\n            return false;\n        }\n        return true;\n    };\n\n\n\n    handleChange = name => event => {\n        this.setState({ error: \"\" });\n        const value =\n            name === \"photo\" ? event.target.files[0] : event.target.value;\n\n        const fileSize = name === \"photo\" ? event.target.files[0].size : 0;\n        this.collectionData.set(name, value);\n        this.setState({ [name]: value, fileSize });\n\n    };\n\n    clickSubmit = event => {\n        event.preventDefault();\n        this.setState({ loading: true });\n\n        if (this.isValid()) {\n            const userId = isAuthenticated().user._id;\n            const token = isAuthenticated().token;\n\n            create(userId, token, this.collectionData).then(data => {\n                console.log(this.collectionData.privacy);\n                if (data.error) this.setState({ error: data.error });\n                else {\n                    this.setState({\n                        loading: false,\n                        name: \"\",\n                        about: \"\",\n                        privacy: \"\",\n                        tags: [],\n                        redirectToProfile: true\n                    });\n                }\n            });\n        }\n    };\n\n    newCollectionForm = (name, about, tags, privacy, setTags) => (\n        <form>\n            <div className=\"form-group\">\n                <label className=\"text-muted\">Collection Photo</label>\n                <input\n                    onChange={this.handleChange(\"photo\")}\n                    type=\"file\"\n                    accept=\"image/*\"\n                    className=\"form-control\"\n                />\n            </div>\n            <div className=\"form-group\">\n                <label className=\"text-muted\">Name</label>\n                <input\n                    onChange={this.handleChange(\"name\")}\n                    type=\"text\"\n                    className=\"form-control\"\n                    value={name}\n                />\n            </div>\n\n            <div className=\"form-group\">\n                <label className=\"text-muted\">About</label>\n                <textarea\n                    onChange={this.handleChange(\"about\")}\n                    type=\"text\"\n                    className=\"form-control\"\n                    value={about}\n                />\n            </div>\n\n            <div className=\"form-group\">\n                <label className=\"text-muted\">Privacy</label>\n                <select value={privacy} onChange={this.handleChange(\"privacy\")} className=\"form-control\">\n                    <option value=\"private\">Private</option>\n                    <option value=\"followPrivate\">Public to followers</option>\n                    <option value=\"public\">Public</option>\n                </select>\n            </div>\n\n{/*             <div className=\"form-group\">\n            <label className=\"text-muted\">Tags</label>\n            <ReactTagInput \n                tags={tags} \n                onChange={(newTags) => setTags(newTags)}\n            />\n            </div> */}\n\n            <button\n                onClick={this.clickSubmit}\n                className=\"btn btn-raised btn-primary\"\n            >\n                Add Collection\n            </button>\n        </form>\n    );\n\n    render() {\n        const {\n            name,\n            about,\n            tags,\n            photo,\n            privacy,\n            user,\n            error,\n            loading,\n            redirectToProfile,\n            setTags\n        } = this.state;\n\n        if (redirectToProfile) {\n            return <Redirect to={`/user/${user._id}`} />;\n        }\n\n        return (\n            <div className=\"container\">\n                <h2 className=\"mt-5 mb-5\">Add a new collection</h2>\n                <div\n                    className=\"alert alert-danger\"\n                    style={{ display: error ? \"\" : \"none\" }}\n                >\n                    {error}\n                </div>\n\n                {loading ? (\n                    <div className=\"jumbotron text-center\">\n                        <h2>Loading...</h2>\n                    </div>\n                ) : (\n                    \"\"\n                )}\n\n                {this.newCollectionForm(name, about, tags)}\n            </div>\n        );\n    }\n}\n\nexport default NewCollection;\n","import React, { Component } from \"react\";\nimport { isAuthenticated } from \"../auth\";\nimport { update, singleCollection } from \"./apiCollection\";\nimport { Redirect } from \"react-router-dom\";\nimport \"@pathofdev/react-tag-input/build/index.css\";\n\n\nclass EditCollection extends Component {\n    constructor() {\n        super();\n        this.state = {\n            id:\"\",\n            name: \"\",\n            privacy: \"\",\n            tags: [],\n            photo: \"\",\n            about: \"\",\n            user: {},\n            fileSize: 0,\n            loading: false,\n            redirectToProfile: false\n        };\n    }\n\n    init = collectionId => {\n\n        singleCollection(collectionId).then(data => {\n            if (data.error) {\n                this.setState({ redirectToProfile: true });\n            } else {\n                this.setState({\n                    id: data.createdBy._id,\n                    name: data.name,\n                    about: data.about,\n                    privacy: data.privacy,\n                    photo: data.photo,\n                    user: data.createdBy,\n                    error: \"\",\n                    loading: false\n                });\n            }\n        });\n    };\n\n    componentDidMount() {\n        this.collectionData = new FormData();\n        this.setState({ user: isAuthenticated().user });\n        const collectionId = this.props.match.params.collectionId;\n        this.init(collectionId);\n    };\n\n    isValid = () => {\n        const { name, privacy, tags, about, fileSize } = this.state;\n        if (fileSize > 100000) {\n            this.setState({\n                error: \"File size should be less than 100kb\",\n                loading: false\n            });\n            return false;\n        }\n        if (name.length === 0 || about.length === 0 ) {\n            this.setState({ error: \"All fields are required\", loading: false });\n            return false;\n        }\n        return true;\n    };\n\n\n\n    handleChange = name => event => {\n        this.setState({ error: \"\" });\n        const value =\n            name === \"photo\" ? event.target.files[0] : event.target.value;\n\n        const fileSize = name === \"photo\" ? event.target.files[0].size : 0;\n        this.collectionData.set(name, value);\n        console.log(this.collectionData)\n        this.setState({ [name]: value, fileSize });\n\n    };\n\n    clickSubmit = event => {\n        event.preventDefault();\n        const collectionId = this.props.match.params.collectionId;\n\n        this.setState({ loading: true });\n\n        if (this.isValid()) {\n            const userId = isAuthenticated().user._id;\n            const token = isAuthenticated().token;\n\n            update(collectionId, token, this.collectionData).then(data => {\n                console.log(this.collectionData);\n                if (data.error) this.setState({ error: data.error });\n                else {\n                    this.setState({\n                        loading: false,\n                        name: \"\",\n                        about: \"\",\n                        privacy: \"\",\n                        tags: [],\n                        redirectToProfile: true\n                    });\n                }\n            });\n        }\n    };\n\n    newCollectionForm = (name, about, tags, privacy, setTags) => (\n        <form>\n            <div className=\"form-group\">\n                <label className=\"text-muted\">Collection Photo</label>\n                <input\n                    onChange={this.handleChange(\"photo\")}\n                    type=\"file\"\n                    accept=\"image/*\"\n                    className=\"form-control\"\n                />\n            </div>\n            <div className=\"form-group\">\n                <label className=\"text-muted\">Name</label>\n                <input\n                    onChange={this.handleChange(\"name\")}\n                    type=\"text\"\n                    className=\"form-control\"\n                    value={name}\n                />\n            </div>\n\n            <div className=\"form-group\">\n                <label className=\"text-muted\">About</label>\n                <textarea\n                    onChange={this.handleChange(\"about\")}\n                    type=\"text\"\n                    className=\"form-control\"\n                    value={about}\n                />\n            </div>\n\n            <div className=\"form-group\">\n                <label className=\"text-muted\">Privacy</label>\n                <select value={privacy} onChange={this.handleChange(\"privacy\")} className=\"form-control\">\n                    <option value=\"private\">Private</option>\n                    <option value=\"followPrivate\">Public to followers</option>\n                    <option value=\"public\">Public</option>\n                </select>\n            </div>\n\n{/*             <div className=\"form-group\">\n            <label className=\"text-muted\">Tags</label>\n            <ReactTagInput \n                tags={tags} \n                onChange={(newTags) => setTags(newTags)}\n            />\n            </div> */}\n\n            <button\n                onClick={this.clickSubmit}\n                className=\"btn btn-raised btn-primary\"\n            >\n                Save Collection\n            </button>\n        </form>\n    );\n\n    render() {\n        const {\n            name,\n            about,\n            tags,\n            photo,\n            privacy,\n            user,\n            error,\n            loading,\n            redirectToProfile,\n            setTags\n        } = this.state;\n\n        if (redirectToProfile) {\n            return <Redirect to={`/user/${user._id}`} />;\n        }\n\n        return (\n            <div className=\"container\">\n                <h2 className=\"mt-5 mb-5\">Edit a collection</h2>\n                <div\n                    className=\"alert alert-danger\"\n                    style={{ display: error ? \"\" : \"none\" }}\n                >\n                    {error}\n                </div>\n\n                {loading ? (\n                    <div className=\"jumbotron text-center\">\n                        <h2>Loading...</h2>\n                    </div>\n                ) : (\n                    \"\"\n                )}\n\n                {this.newCollectionForm(name, about, tags)}\n            </div>\n        );\n    }\n}\n\nexport default EditCollection;\n","import React, { handler, Component } from 'react';\nimport { singleCollection, remove, like, unlike } from './apiCollection';\nimport {listByUserCol, addBook, removeBook, create} from './apiCollection';\nimport DefaultBook from '../images/mountains.jpg';\nimport { Link, Redirect } from 'react-router-dom';\nimport {Modal, Button, InputGroup, Form, FormControl} from 'react-bootstrap'\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\nimport { faLock, faMinus, faLockOpen, faPen, faPlusCircle, faThumbsUp, faTrash} from '@fortawesome/free-solid-svg-icons'\n\nimport { isAuthenticated } from '../auth';\nimport Comment from './Comment';\n\nclass SingleCollection extends Component {\n    state = {\n        name: '',\n        about: '',\n        tags: [],\n        privacy: '',\n        redirectToSignin: false,\n        books: [],\n        follow: false,\n        follows: 0,\n        comments: [],\n        collection: {},\n        loading: true\n    };\n\n    showCreate = () => {\n        this.setState({ showForm: true })\n    };\n\n    checkLike = likes => {\n        const userId = isAuthenticated() && isAuthenticated().user._id;\n        let match = likes.indexOf(userId) !== -1;\n        return match;\n    };\n\n    checkFollow = follows => {\n        const userId = isAuthenticated() && isAuthenticated().user._id;\n        let match = follows.indexOf(userId) !== -1;\n        return match;\n    };\n\n    componentDidMount = () => {\n        this.setState({ loading: true });\n        const collectionId = this.props.match.params.collectionId;\n        singleCollection(collectionId).then(data => {\n            if (data.error) {\n                console.log(data.error);\n            } else {\n                if(data.likes != undefined){\n                    this.setState({\n                        collection: data,\n                        likes: data.likes.length,\n                        like: this.checkLike(data.likes),\n                        comments: data.comments,\n                        books: data.books,\n                        loading: false\n                    });\n                }\n                else {\n                    this.setState({redirectToHome: true})\n                }\n\n            }\n        });\n    };\n\n    updateComments = comments => {\n        this.setState({ comments });\n    };\n\n    handleClose = () => {\n        this.setState({show: false});\n    }\n\n    handleCloseAlert = () => {\n        this.setState({completed: false})\n    }\n\n\n    handleChange = (e) => {\n        e.persist();\n\n        if(e.target.checked) {\n        console.log(\"CHECKED\")\n        console.log(e.target.value)\n\n        this.setState(prevState => ({\n            selectedCollections: prevState.selectedCollections.push(e.target.value)\n          }, console.log(this.state.selectedCollections)));\n\n        } else {\n                console.log(\"UNCHECKED\")\n                var array = [ ...this.state.selectedCollections];\n                var index = this.state.selectedCollections.indexOf(e.target.value)\n                console.log(index)\n                if (index !== -1) {\n                array = array.splice(1, index)\n                console.log(array)\n                let arrayAux = [];\n                let i = 0;\n                \n                this.setState(prevState => ({\n                    selectedCollections: prevState.selectedCollections.splice(index,1)\n                  }, console.log(this.state.selectedCollections)));\n                }\n        }\n\n       \n\n    }\n    \n \n    likeToggle = () => {\n        if (!isAuthenticated()) {\n            this.setState({ redirectToSignin: true });\n            return false;\n        }\n        let callApi = this.state.like ? unlike : like;\n        const userId = isAuthenticated().user._id;\n        const bookId = this.state.book._id;\n        const token = isAuthenticated().token;\n\n        callApi(userId, token, bookId).then(data => {\n            if (data.error) {\n                console.log(data.error);\n            } else {\n                this.setState({\n                    like: !this.state.like,\n                    likes: data.likes.length\n                });\n            }\n        });\n    };\n\n    deleteCollection = () => {\n        const collectionId = this.props.match.params.collectionId;\n        const token = isAuthenticated().token;\n        remove(collectionId, token).then(data => {\n\n                this.setState({ redirectToHome: true });\n        })\n        .catch(err => {\n            this.setState({error: err})\n        })\n        ;\n    };\n\n    deleteConfirmed = () => {\n        let answer = window.confirm('Are you sure you want to delete your book?');\n        if (answer) {\n            this.deleteCollection();\n        }\n    };\n\n    renderBooks = books => {\n        console.log(books)\n        return (\n\n            <div className=\"row\">\n                {books.map((book, i) => {\n                    console.log(i)\n                    const bookerId = book.createdBy\n                        ? `/user/${book.createdBy._id}`\n                        : \"\";\n                    const bookerName = book.createdBy\n                        ? book.createdBy.name\n                        : \" Unknown\";\n\n                    return (\n                        <div className=\"card col-md-3 mr-3 mt-3\" key={i}>\n                            <div className=\"card-body\">\n                                <img\n                                    src={book.photo}\n                                    alt={book.title}\n                                    onError={i =>\n                                        (i.target.src = `${DefaultBook}`)\n                                    }\n                                    className=\"img-thunbnail mb-3\"\n                                    style={{ height: \"150px\", width: \"auto\" }}\n                                />\n                                <h5 className=\"card-title\">{book.title}</h5>\n                                <p className=\"card-text\">\n                                    {book.editorial.substring(0, 100)}\n                                </p>\n                                <br />\n                                <p className=\"font-italic\">\n                                    Posted by{\" \"}\n                                    <Link to={`${bookerId}`}>\n                                        {bookerName}{\" \"}\n                                    </Link>\n                                    on {new Date(book.created).toDateString()}\n                                </p>\n                                <Link\n                                    to={`/book/${book._id}`}\n                                    className=\"btn btn-raised btn-primary btn-sm\"\n                                >\n                                    Read more\n                                </Link>\n                                <div className=\"overlay\"></div>\n                                <div className=\"button\">\n                                    <FontAwesomeIcon onClick={this.deleteBookConfirmed} icon={faMinus} />\n                                </div>\n                            </div>\n                        </div>\n                    );\n                })}\n                \n            </div>\n        );\n    };\n\n\n    renderCollection = collection => {\n        const bookerId = collection.createdBy ? `/user/${collection.createdBy._id}` : '';\n        const bookerName = collection.createdBy ? collection.createdBy.name : ' Unknown';\n\n        const { like, likes, show, collections, showForm, comments, loading, follow } = this.state;\n        \n        return (\n            <div className=\"card-body mt-5\">\n                <div className=\"row\">\n                <div className=\"col-4\">\n                <img\n                    src={`${collection.photo}`}\n                    alt={collection.namee}\n                    onError={i => (i.target.src = `${DefaultBook}`)}\n                    className=\"img-thunbnail\"\n                    style={{\n                        height: 'auto',\n                        width: '100%',\n                        objectFit: 'cover'\n                    }}\n                />\n                </div>\n                <div className=\"col-8\">\n                    <div className=\"row\">\n                    <div className=\"col-10\">\n                    <h2 className=\"card-text\">{collection.name}</h2>\n                    </div>\n                    {isAuthenticated().user && isAuthenticated().user._id === collection.createdBy._id && (\n                        <>\n                    <div className=\"col-2\">\n                        <div className=\"row\">\n                            <div className=\"col\">\n                            <Link to={`/collection/edit/${collection._id}`}>\n                                <FontAwesomeIcon size=\"2x\" icon={faPen} />\n                            </Link>\n                            </div>\n                            <div className=\"col\">\n                            <FontAwesomeIcon size=\"2x\" className=\"text-danger\" onClick={this.deleteConfirmed} icon={faTrash} />{' '}\n                            </div>\n                        </div>                     \n                    </div>\n                    </>\n                    )}\n                    </div>\n                    <hr className=\"dashed\"></hr>\n                    <div className=\"row\">\n                        <div className=\"col-md-6\">\n                            <label>About:</label>\n                        </div>\n                        <div className=\"col-md-6\">\n                            <p>{collection.about}</p>\n                        </div>\n                    </div>\n                    <hr className=\"dashed\"></hr>\n                    <div className=\"row\">\n                        <div className=\"col-md-6\">\n                            <label>Created By:</label>\n                        </div>\n                        <div className=\"col-md-6\">\n                            <p><Link to={`${bookerId}`}>{bookerName} </Link></p>\n                        </div>\n                    </div>\n                    <div className=\"row\">\n                        <div className=\"col-md-6\">\n                            <label>Created On:</label>\n                        </div>\n                        <div className=\"col-md-6\">\n                            <p>{new Date(collection.created).toDateString()}</p>\n                        </div>\n                    </div>\n                    <hr className=\"dashed\"></hr>\n\n                    <div className=\"row\">\n                    <div className=\"col\">\n                    {like ? (\n                    <p onClick={this.likeToggle}>                        \n                        <FontAwesomeIcon className=\"text-success ml-2\" size=\"2x\" icon={faThumbsUp} />{' '}\n                        {' '}\n                        {likes} Like\n                    </p>\n                ) : (\n                    <p onClick={this.likeToggle}>\n                        <FontAwesomeIcon className=\"ml-2\" size=\"2x\" icon={faThumbsUp} />{' '}\n                        {likes} Like\n                    </p>\n                )}\n                    </div>\n                <div className=\"col\">\n                {follow ? (\n                    <p onClick={this.followToggle}>                        \n                        <FontAwesomeIcon className=\"text-success ml-2\" size=\"2x\" icon={faThumbsUp} />{' '}\n                        {' '}\n                        {likes} Like\n                    </p>\n                ) : (\n                    <p onClick={this.likeToggle}>\n                        <FontAwesomeIcon className=\"ml-2\" size=\"2x\" icon={faThumbsUp} />{' '}\n                        {likes} Like\n                    </p>\n                )}\n                </div>\n                </div>\n                </div>\n            </div>\n            </div>\n        );\n    };\n\n    render() {\n        const { collection, redirectToHome, redirectToSignin, loading, comments, books } = this.state;\n\n        if (redirectToHome ) {\n            return <Redirect to={`/`} />;\n        } else if (redirectToSignin) {\n            return <Redirect to={`/signin`} />;\n        }\n\n        console.log(books)\n\n        return (\n            <div className=\"container\">\n                {loading ? (\n                    <div className=\"jumbotron text-center\">\n                        <h2>Loading...</h2>\n                    </div>\n                ) : \n                collection ? (this.renderCollection(collection)) : (\n                        <div className=\"text-center\">\n                        <h2>No results</h2>\n                    </div>\n                    )\n                    \n                }\n                <h4 className=\"display-2 mt-5 mb-5\" hidden={!books.length>0}>Books</h4> \n                {this.renderBooks(books)}\n               \n                {/* <Comment collectionId={collection._id} comments={comments.reverse()} updateComments={this.updateComments} /> */}\n              \n          </div>      \n        );\n    }\n}\n\nexport default SingleCollection;\n","import React, { Component } from \"react\";\nimport { isAuthenticated } from \"../auth\";\nimport { create, checkISBN, findBooks, findByISBN } from \"./apiBook\";\nimport { Redirect, Link } from \"react-router-dom\";\nconst ISBN = require( 'isbn-validate' );\nvar isbnNPM = require('node-isbn');\n\nclass NewBook extends Component {\n    constructor() {\n        super();\n        this.state = {\n            title: \"\",\n            editorial: \"\",\n            language: \"\",\n            illustrator: \"\",\n            isbn: \"\",\n            photo: \"\",\n            error: \"\",\n            globalError:\"\",\n            user: {},\n            fileSize: 0,\n            loading: false,\n            redirectToProfile: false,\n            redirectToNewBook: false,\n            errorURL: \"\",\n            book: \"\"\n        };\n    }\n\n    componentDidMount() {\n        this.bookData = new FormData();\n        this.setState({ user: isAuthenticated().user });\n    }\n\n    isValid = () => {\n        const { title, editorial, language, isbn, fileSize } = this.state;\n        if (fileSize > 100000) {\n            this.setState({\n                error: \"File size should be less than 100kb\",\n                loading: false\n            });\n            return false;\n        }\n        if (title.length === 0 || editorial.length === 0 || language.length == 0) {\n            this.setState({ error: \"All fields are required\", loading: false });\n            return false;\n        }\n        return true;\n    };\n\n    isUnique = (isbn) => {\n        const isbnClean = isbn.replace(/[- ]|^ISBN(?:-1[03])?:?/g, \"\");\n        const token = isAuthenticated().token;\n        findByISBN(token, isbnClean)\n        .then(data=> {\n            console.log(data)\n            if(data[0]!=undefined){\n                console.log(data[0])\n                this.setState({error: 'Book already exists. ', errorURL: data[0]._id});\n                return false;\n            } else {\n                console.log(\"HHH\")\n                return true;\n            }\n        })\n\n        return true;\n    };\n\n\n\n    handleChange = name => event => {\n        this.setState({ error: \"\" });\n        const value =\n            name === \"photo\" ? event.target.files[0] : event.target.value;\n\n        const fileSize = name === \"photo\" ? event.target.files[0].size : 0;\n        this.bookData.set(name, value);\n        console.log(this.bookData)\n        this.setState({ [name]: value, fileSize });\n    };\n\n   checkISBN = (isbn) => {\n       // Checks for ISBN-10 or ISBN-13 format\n       const regex = /^(?=(?:\\D*\\d){10}(?:(?:\\D*\\d){3})?$)/;\n\n    if (regex.test(isbn)) {\n        // Remove non ISBN digits, then split into an array\n        var chars = isbn.replace(/[- ]|^ISBN(?:-1[03])?:?/g, \"\").split(\"\");\n        // Remove the final ISBN digit from `chars`, and assign it to `last`\n        var last = chars.pop();\n        var sum = 0;\n        var check, i;\n    \n        if (chars.length == 9) {\n            // Compute the ISBN-10 check digit\n            chars.reverse();\n            for (i = 0; i < chars.length; i++) {\n                sum += (i + 2) * parseInt(chars[i], 10);\n            }\n            check = 11 - (sum % 11);\n            if (check == 10) {\n                check = \"X\";\n            } else if (check == 11) {\n                check = \"0\";\n            }\n        } else {\n            // Compute the ISBN-13 check digit\n            for (i = 0; i < chars.length; i++) {\n                sum += (i % 2 * 2 + 1) * parseInt(chars[i], 10);\n            }\n            check = 10 - (sum % 10);\n            if (check == 10) {\n                check = \"0\";\n            }\n        }\n    \n        if (check == last) {\n            return true;\n        } else {\n            console.log(\"Invalid ISBN check digit\")\n            return false;\n        }\n    } else {\n        console.log(\"OTRO ERROR\")\n        return false;\n        \n    }\n   }\n\n    handleChangeISBN = () => async event  => {\n        \n        const isbn = event.target.value;\n       // isbn = isbn.replace(/[^0-9]/g, '');\n       if(this.checkISBN(isbn)){\n    \n        var cleanISBN = isbn.replace(/[- ]|^ISBN(?:-1[03])?:?/g, \"\");\n\n        isbnNPM.resolve(isbn)\n        .then((responseData) => {\n            console.log(responseData)\n            if(responseData != null){\n                this.setState({ \n                    title: responseData.title,\n                    editorial: responseData.publisher,\n                    language:  responseData.language,\n                    isbn: isbn,\n                    error: ''\n                 });\n                this.bookData.set(\"title\", responseData.title);\n                this.bookData.set(\"editorial\", responseData.publisher);\n                this.bookData.set(\"language\", responseData.language);\n                this.bookData.set(\"isbn\", cleanISBN);\n            } else {\n                this.bookData.set(\"isbn\", cleanISBN);\n            }\n            this.setState({error: ''})\n        });\n       } else {\n           this.setState({error: 'Not a valid ISBN'})\n       }\n\n       if(isbn.length==0){\n        this.setState({error: ''})\n       }\n        \n    };\n\n    clickSubmit = event => {\n        event.preventDefault();\n        this.setState({ loading: true });\n\n\n        if (this.isValid() && this.isUnique(this.state.isbn)) {\n            console.log(\"hola\")\n            const userId = isAuthenticated().user._id;\n            const token = isAuthenticated().token;\n            create(userId, token, this.bookData)\n            .then(\n              (data) => {\n            if(!data.error){\n                this.setState({\n                    loading: false,\n                    title: \"\",\n                    editorial: \"\",\n                    language: \"\",\n                    illustrator: \"\",\n                    isbn: \"\",\n                    error: \"\",\n                    redirectToNewBook: true,\n                    book: data\n                });\n            } else {\n                this.setState({error: data.error})\n            }\n\n              },\n              (error) => {\n                console.error(error)\n                const { message, errors } = error.response.data;\n                this.setState({\n                  error: {...errors},\n                  globalError: !errors && message\n                })\n              });\n        }\n    };\n\n    newBookForm = (title, editorial, language,  illustrator, isbn) => (\n        <form>\n            \n            {isbn ? (\n            <div className=\"form-group\">\n            <label className=\"text-muted\">Book Photo</label>\n            <input\n                onChange={this.handleChange(\"photo\")}\n                type=\"file\"\n                accept=\"image/*\"\n                className=\"form-control\"\n            />\n            </div>\n            ): (null)}\n            <div className=\"form-group\">\n                <label className=\"text-muted\">ISBN</label>\n                <textarea\n                    onChange={this.handleChangeISBN()}\n                    type=\"text\"\n                    className=\"form-control\"\n                    value={isbn}\n                />\n            </div>\n            \n            <div className=\"form-group\">\n                <label className=\"text-muted\">Title</label>\n                <input\n                    onChange={this.handleChange(\"title\")}\n                    type=\"text\"\n                    className=\"form-control\"\n                    value={title}\n                />\n            </div>\n\n            <div className=\"form-group\">\n                <label className=\"text-muted\">Editorial</label>\n                <textarea\n                    onChange={this.handleChange(\"editorial\")}\n                    type=\"text\"\n                    className=\"form-control\"\n                    value={editorial}\n                />\n            </div>\n\n            <div className=\"form-group\">\n                <label className=\"text-muted\">Language</label>\n                <textarea\n                    onChange={this.handleChange(\"language\")}\n                    type=\"text\"\n                    className=\"form-control\"\n                    value={language}\n                />\n            </div>\n\n            <div className=\"form-group\">\n                <label className=\"text-muted\">Illustrator</label>\n                <textarea\n                    onChange={this.handleChange(\"illustrator\")}\n                    type=\"text\"\n                    className=\"form-control\"\n                    value={illustrator}\n                />\n            </div>\n\n            <button\n                onClick={this.clickSubmit}\n                className=\"btn btn-raised btn-primary\"\n            >\n                Add Book\n            </button>\n        </form>\n    );\n\n    render() {\n        const {\n            title,\n            editorial,\n            isbn,\n            language,\n            photo,\n            illustrator,\n            user,\n            error,\n            loading,\n            redirectToProfile,\n            redirectToNewBook,\n            errorURL,\n            book\n        } = this.state;\n\n        const bookId = errorURL\n                        ? `/book/${errorURL}`\n                        : \"\";\n\n        if (redirectToProfile) {\n            return <Redirect to={`/user/${user._id}`} />;\n        }\n        if (redirectToNewBook) {\n            return <Redirect to={`/book/${book._id}`} />;\n        }\n\n        return (\n            <div className=\"container\">\n                <h2 className=\"mt-5 mb-5\">Add a new book</h2>\n                <div\n                    className=\"alert alert-danger\"\n                    style={{ display: error ? \"\" : \"none\" }}\n                >\n                    {error}\n                    {errorURL ? (\n                            <Link to={`${bookId}`}>\n                                {\" Check it out here!\"}\n                            </Link>\n                    ): (null)}\n                </div>\n\n                {loading && !error? (\n                    <div className=\"jumbotron text-center\">\n                        <h2>Loading...</h2>\n                    </div>\n                ) : (\n                    \"\"\n                )}\n\n                {this.newBookForm(title, editorial, language, illustrator)}\n            </div>\n        );\n    }\n}\n\nexport default NewBook;\n","import React, { Component } from \"react\";\nimport { singleBook, update } from \"./apiBook\";\nimport { isAuthenticated } from \"../auth\";\nimport { Redirect } from \"react-router-dom\";\nconst DefaultBook= \"https://cdn.pixabay.com/photo/2018/01/03/09/09/book-3057901_1280.png\";\n\nclass EditBook extends Component {\n    constructor() {\n        super();\n        this.state = {\n            id: \"\",\n            title: \"\",\n            editorial: \"\",\n            language: \"\",\n            isbn: \"\",\n            photo: \"\",\n            redirectToProfile: false,\n            error: \"\",\n            fileSize: 0,\n            loading: false,\n            hideImg: false\n        };\n    }\n\n    init = bookId => {\n        console.log(bookId)\n        singleBook(bookId).then(data => {\n            if (data.error) {\n                this.setState({ redirectToProfile: true });\n            } else {\n                this.setState({\n                    id: data.createdBy._id,\n                    title: data.title,\n                    editorial: data.editorial,\n                    isbn: data.isbn,\n                    photo: data.photo,\n                    language: data.language,\n                    error: \"\",\n                    loading: false\n                });\n            }\n        });\n    };\n\n    componentDidMount() {\n        this.setState({loading: true});\n        this.bookData = new FormData();\n        const bookId = this.props.match.params.bookId;\n        this.init(bookId);\n    }\n\n    isValid = () => {\n        const { title, editorial, language, isbn, fileSize } = this.state;\n        if (fileSize > 1000000) {\n            this.setState({\n                error: \"File size should be less than 100kb\",\n                loading: false\n            });\n            return false;\n        }\n        if (title.length === 0 || editorial.length === 0) {\n            this.setState({ error: \"All fields are required\", loading: false });\n            return false;\n        }\n        return true;\n    };\n\n    handleChange = name => event => {\n        this.setState({ error: \"\" });\n        const value =\n            name === \"photo\" ? event.target.files[0] : event.target.value;\n\n        const fileSize = name === \"photo\" ? event.target.files[0].size : 0;\n        if(event.target.files != undefined){\n            console.log(\"Hola\")\n            this.setState({hideImg: true})\n        }\n        this.bookData.set(name, value);\n        this.setState({ [name]: value, fileSize });\n    };\n\n    clickSubmit = event => {\n        event.preventDefault();\n        this.setState({ loading: true });\n\n        if (this.isValid()) {\n            const bookId = this.props.match.params.bookId;\n            const token = isAuthenticated().token;\n\n            update(bookId, token, this.bookData).then(data => {\n                if (data.error) this.setState({ error: data.error });\n                else {\n                    this.setState({\n                        loading: false,\n                        title: \"\",\n                        body: \"\",\n                        editorial: \"\",\n                        isbn: \"\",\n                        language: \"\",\n                        redirectToProfile: true,\n                        loading: false\n                    });\n                }\n            });\n        }\n    };\n\n    editBookForm = (title, isbn, editorial, language, photo, hideImg) => (\n        <>\n        {!hideImg ? (\n        <img\n            style={{ height: \"200px\", width: \"auto\" }}\n            className=\"img-thumbnail\"\n            src={photo}\n            onError={i => (i.target.src = `${DefaultBook}`)}\n            alt={title}\n        />\n        ):(null)}\n\n        <hr className=\"dashed\"></hr>\n        \n        <form className=\"mt-3\">\n            <div className=\"form-group\">\n                <label className=\"text-muted\">Book Photo</label>\n                <input\n                    onChange={this.handleChange(\"photo\")}\n                    type=\"file\"\n                    accept=\"image/*\"\n                    className=\"form-control\"\n                />\n            </div>\n            <div className=\"form-group\">\n                <label className=\"text-muted\">Title</label>\n                <input\n                    onChange={this.handleChange(\"title\")}\n                    type=\"text\"\n                    className=\"form-control\"\n                    value={title}\n                />\n            </div>\n\n            <div className=\"form-group\">\n                <label className=\"text-muted\">Editorial</label>\n                <input\n                    onChange={this.handleChange(\"editorial\")}\n                    type=\"text\"\n                    className=\"form-control\"\n                    value={editorial}\n                />\n            </div>\n\n            <div className=\"form-group\">\n                <label className=\"text-muted\">ISBN</label>\n                <textarea\n                    onChange={this.handleChange(\"isbn\")}\n                    type=\"text\"\n                    className=\"form-control\"\n                    readOnly\n                    value={isbn}\n                />\n            </div>\n\n            <div className=\"form-group\">\n                <label className=\"text-muted\">Language</label>\n                <textarea\n                    onChange={this.handleChange(\"language\")}\n                    type=\"text\"\n                    className=\"form-control\"\n                    value={language}\n                />\n            </div>\n\n            <button\n                onClick={this.clickSubmit}\n                className=\"btn btn-raised btn-primary\"\n            >\n                Update Book\n            </button>\n        </form>\n        </>\n    );\n\n    render() {\n        const {\n            id,\n            title,\n            editorial,\n            language,\n            photo,\n            isbn,\n            redirectToProfile,\n            error,\n            loading,\n            hideImg\n        } = this.state;\n\n        if (redirectToProfile) {\n            return <Redirect to={`/user/${isAuthenticated().user._id}`} />;\n        }\n\n        return (\n            <div className=\"container\">\n                <h2 className=\"mt-5 mb-5\">{title}</h2>\n\n                <div\n                    className=\"alert alert-danger\"\n                    style={{ display: error ? \"\" : \"none\" }}\n                >\n                    {error}\n                </div>\n\n                {loading ? (\n                    <div className=\"jumbotron text-center\">\n                        <h2>Loading...</h2>\n                    </div>\n                ) : (\n                    \"\"\n                )}\n                \n\n                {isAuthenticated().user.role === \"admin\" &&\n                    this.editBookForm(title, isbn, editorial, language, photo, hideImg)}\n\n                {isAuthenticated().user._id === id &&\n                    this.editBookForm(title, isbn, editorial, language, photo, hideImg)}\n            </div>\n        );\n    }\n}\n\nexport default EditBook;\n","import React, { Component } from \"react\";\nimport { comment, uncomment } from \"./apiBook\";\nimport { isAuthenticated } from \"../auth\";\nimport { Link } from \"react-router-dom\";\nimport DefaultProfile from \"../images/avatar.jpg\";\n\nclass Comment extends Component {\n    state = {\n        text: \"\",\n        error: \"\"\n    };\n\n    handleChange = event => {\n        this.setState({ error: \"\" });\n        this.setState({ text: event.target.value });\n    };\n\n    isValid = () => {\n        const { text } = this.state;\n        if (!text.length > 0 || text.length > 150) {\n            this.setState({\n                error:\n                    \"Comment should not be empty and less than 150 characters long\"\n            });\n            return false;\n        }\n        return true;\n    };\n\n    addComment = e => {\n        e.preventDefault();\n\n        if (!isAuthenticated()) {\n            this.setState({ error: \"Please signin to leave a comment\" });\n            return false;\n        }\n\n        if (this.isValid()) {\n            const userId = isAuthenticated().user._id;\n            const token = isAuthenticated().token;\n            const bookId = this.props.bookId;\n\n            comment(userId, token, bookId, { text: this.state.text }).then(\n                data => {\n                    if (data.error) {\n                        console.log(data.error);\n                    } else {\n                        this.setState({ text: \"\" });\n                        // dispatch fresh list of coments to parent (SinglePost)\n                        this.props.updateComments(data.comments);\n                    }\n                }\n            );\n        }\n    };\n\n    deleteComment = comment => {\n        const userId = isAuthenticated().user._id;\n        const token = isAuthenticated().token;\n        const bookId = this.props.bookId;\n\n        uncomment(userId, token, bookId, comment).then(data => {\n            if (data.error) {\n                console.log(data.error);\n            } else {\n                this.props.updateComments(data.comments);\n            }\n        });\n    };\n\n    deleteConfirmed = comment => {\n        let answer = window.confirm(\n            \"Are you sure you want to delete your comment?\"\n        );\n        if (answer) {\n            this.deleteComment(comment);\n        }\n    };\n\n    render() {\n        const { comments } = this.props;\n        const { error } = this.state;\n\n        return (\n            <div>\n                <h2 className=\"mt-5 mb-5\">Leave a comment</h2>\n\n                <form onSubmit={this.addComment}>\n                    <div className=\"form-group\">\n                        <input\n                            type=\"text\"\n                            onChange={this.handleChange}\n                            value={this.state.text}\n                            className=\"form-control\"\n                            placeholder=\"Leave a comment...\"\n                        />\n                        <button className=\"btn btn-raised btn-success mt-2\">\n                            Post\n                        </button>\n                    </div>\n                </form>\n\n                <div\n                    className=\"alert alert-danger\"\n                    style={{ display: error ? \"\" : \"none\" }}\n                >\n                    {error}\n                </div>\n\n                <div className=\"col-md-12\">\n                    <h3 className=\"text-primary\">{comments.length} Comments</h3>\n                    <hr />\n                    {comments.map((comment, i) => (\n                        <div key={i}>\n                            <div>\n                                <Link to={`/user/${comment.createdBy._id}`}>\n                                    <img\n                                        style={{\n                                            borderRadius: \"50%\",\n                                            border: \"1px solid black\"\n                                        }}\n                                        className=\"float-left mr-2\"\n                                        height=\"30px\"\n                                        width=\"30px\"\n                                        onError={i =>\n                                            (i.target.src = `${DefaultProfile}`)\n                                        }\n                                        src={`${\n                                            process.env.REACT_APP_API_URL\n                                        }/user/photo/${comment.createdBy._id}`}\n                                        alt={comment.createdBy.name}\n                                    />\n                                </Link>\n                                <div>\n                                    <p className=\"lead\">{comment.text}</p>\n                                    <p className=\"font-italic mark\">\n                                        Posted by{\" \"}\n                                        <Link\n                                            to={`/user/${comment.createdBy._id}`}\n                                        >\n                                            {comment.createdBy.name}{\" \"}\n                                        </Link>\n                                        on{\" \"}\n                                        {new Date(\n                                            comment.created\n                                        ).toDateString()}\n                                        <span>\n                                            {isAuthenticated().user &&\n                                                isAuthenticated().user._id ===\n                                                    comment.createdBy._id && (\n                                                    <>\n                                                        <span\n                                                            onClick={() =>\n                                                                this.deleteConfirmed(\n                                                                    comment\n                                                                )\n                                                            }\n                                                            className=\"text-danger float-right mr-1\"\n                                                        >\n                                                            Remove\n                                                        </span>\n                                                    </>\n                                                )}\n                                        </span>\n                                    </p>\n                                </div>\n                            </div>\n                        </div>\n                    ))}\n                </div>\n            </div>\n        );\n    }\n}\n\nexport default Comment;\n","import React, { handler, Component } from 'react';\nimport { singleBook, remove, like, unlike } from './apiBook';\nimport {listByUserCol, addBook, removeBook, create} from '../collection/apiCollection';\nimport DefaultBook from '../images/mountains.jpg';\nimport { Link, Redirect } from 'react-router-dom';\nimport {Modal, Button, InputGroup, Form, FormControl} from 'react-bootstrap'\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\nimport { faPlusSquare, faLock, faLockOpen, faPlus, faPlusCircle, faThumbsUp} from '@fortawesome/free-solid-svg-icons'\n\nimport { isAuthenticated } from '../auth';\nimport Comment from './Comment';\nimport CollectionsModal from '../collection/CollectionsModal';\n\nclass SingleBook extends Component {\n    state = {\n        book: '',\n        redirectToHome: false,\n        redirectToSignin: false,\n        like: false,\n        likes: 0,\n        show: false,\n        collections: [],\n        selectedCollections: [],\n        existingCollections: [],\n        comments: [],\n        showForm: false,\n        loading: false,\n        loadingModal: false,\n        error: '',\n        completed: false\n    };\n\n    showCreate = () => {\n        this.setState({ showForm: true })\n    };\n\n    checkLike = likes => {\n        const userId = isAuthenticated() && isAuthenticated().user._id;\n        let match = likes.indexOf(userId) !== -1;\n        return match;\n    };\n\n    componentDidMount = () => {\n        this.setState({ loading: true });\n        const bookId = this.props.match.params.bookId;\n        singleBook(bookId).then(data => {\n            if (data.error) {\n                console.log(data.error);\n            } else {\n                console.log(data)\n                if(data.likes != undefined){\n                    this.setState({\n                        book: data,\n                        likes: data.likes.length,\n                        like: this.checkLike(data.likes),\n                        comments: data.comments,\n                        loading: false\n                    });\n                }\n                else {\n                    this.setState({redirectToHome: true})\n                }\n\n            }\n        });\n    };\n\n    updateComments = comments => {\n        this.setState({ comments });\n    };\n\n    handleClose = () => {\n        this.setState({show: false});\n    }\n\n    handleCloseAlert = () => {\n        this.setState({completed: false})\n    }\n\n    saveChanges = () => {\n        console.log()\n        this.handleClose();\n    }\n\n    handleOpen = () => {\n        this.setState({show: true});\n        console.log(\"ASDFASS\")\n    }\n\n    handleChange = (e) => {\n        e.persist();\n\n        if(e.target.checked) {\n        console.log(\"CHECKED\")\n        console.log(e.target.value)\n\n        this.setState(prevState => ({\n            selectedCollections: prevState.selectedCollections.push(e.target.value)\n          }, console.log(this.state.selectedCollections)));\n\n        } else {\n                console.log(\"UNCHECKED\")\n                var array = [ ...this.state.selectedCollections];\n                var index = this.state.selectedCollections.indexOf(e.target.value)\n                console.log(index)\n                if (index !== -1) {\n                array = array.splice(1, index)\n                console.log(array)\n                let arrayAux = [];\n                let i = 0;\n                \n                this.setState(prevState => ({\n                    selectedCollections: prevState.selectedCollections.splice(index,1)\n                  }, console.log(this.state.selectedCollections)));\n                }\n        }\n\n       \n\n    }\n\n    showModal = e => {\n        this.setState({\n          show: !this.state.show\n        });\n      };\n\n    \n    submitForm = (event) => {\n        event.preventDefault();\n        const form = event.target;\n        const data = new FormData(form);\n        this.collectionData = new FormData();\n        let remove = this.state.existingCollections.filter(x => !this.state.selectedCollections.includes(x));\n        let add = this.state.selectedCollections.filter(x=> !this.state.existingCollections.includes(x));\n\n        console.log(remove)\n        console.log(add)\n       \n\n        add.forEach(collection => {\n            addBook(isAuthenticated().user._id, isAuthenticated().token, collection, this.state.book._id)\n            .then(data => {\n                if (data.error) {\n                    console.log(data.error);\n                } else {\n                    console.log(data);\n                    \n                }\n            });\n\n        })\n\n        remove.forEach(collection => {\n            removeBook(isAuthenticated().user._id, isAuthenticated().token, collection, this.state.book._id)\n            .then(data => {\n                if (data.error) {\n                    console.log(data.error);\n                } else {\n                    console.log(data);\n                    \n                }\n            })\n        });\n\n        if (data.get('collectionName') != undefined){\n            this.collectionData.set('name', data.get('collectionName'));\n            this.collectionData.set('privacy', data.get('collectionPrivacy'));\n            create(isAuthenticated().user._id, isAuthenticated().token, this.collectionData)\n            .then(data => {\n                if (data.error) {\n                    console.log(data.error);\n                } else {\n                    \n                        addBook(isAuthenticated().user._id, isAuthenticated().token, data._id, this.state.book._id)\n                        .then(result => {\n                            if (result.error) {\n                                console.log(result.error);\n                            } else {\n                                console.log(result);\n                                this.setState({completed: true})\n                                this.handleClose();\n                            }\n                        });\n                }\n            });\n \n        } else {\n            this.setState({completed: true})\n            this.handleClose();\n        }\n        \n          \n    }\n\n    likeToggle = () => {\n        if (!isAuthenticated()) {\n            this.setState({ redirectToSignin: true });\n            return false;\n        }\n        let callApi = this.state.like ? unlike : like;\n        const userId = isAuthenticated().user._id;\n        const bookId = this.state.book._id;\n        const token = isAuthenticated().token;\n\n        callApi(userId, token, bookId).then(data => {\n            if (data.error) {\n                console.log(data.error);\n            } else {\n                this.setState({\n                    like: !this.state.like,\n                    likes: data.likes.length\n                });\n            }\n        });\n    };\n\n\n    deleteBook = () => {\n        const bookId = this.props.match.params.bookId;\n        const token = isAuthenticated().token;\n        remove(bookId, token).then(data => {\n\n                this.setState({ redirectToHome: true });\n        })\n        .catch(err => {\n            this.setState({error: err})\n        })\n        ;\n    };\n\n    deleteConfirmed = () => {\n        let answer = window.confirm('Are you sure you want to delete your book?');\n        if (answer) {\n            this.deleteBook();\n        }\n    };\n\n    renderBook = book => {\n        const bookerId = book.createdBy ? `/user/${book.createdBy._id}` : '';\n        const bookerName = book.createdBy ? book.createdBy.name : ' Unknown';\n\n        const { like, likes, show, collections, showForm, comments, loading, loadingModal, completed, selectedCollections} = this.state;\n        \n        return (\n            <div className=\"card-body mt-5\">\n                <div className=\"row\">\n                <div className=\"col\">\n                <img\n                    src={`${book.photo}`}\n                    alt={book.title}\n                    onError={i => (i.target.src = `${DefaultBook}`)}\n                    className=\"img-thunbnail\"\n                    style={{\n                        height: 'auto',\n                        width: '30%',\n                        objectFit: 'cover'\n                    }}\n                />\n                </div>\n                <div className=\"col\">\n                    <h2 className=\"card-text\">{book.title}</h2>\n                    <hr className=\"dashed\"></hr>\n                    <div className=\"row\">\n                        <div className=\"col-md-6\">\n                            <label>Editorial:</label>\n                        </div>\n                        <div className=\"col-md-6\">\n                            <p>{book.editorial}</p>\n                        </div>\n                    </div>\n                    <div className=\"row\">\n                        <div className=\"col-md-6\">\n                            <label>ISBN:</label>\n                        </div>\n                        <div className=\"col-md-6\">\n                            <p>{book.isbn}</p>\n                        </div>\n                    </div>\n                    <div className=\"row\">\n                        <div className=\"col-md-6\">\n                            <label>Language:</label>\n                        </div>\n                        <div className=\"col-md-6\">\n                            <p>{book.language}</p>\n                        </div>\n                    </div>\n                    <hr className=\"dashed\"></hr>\n                    <div className=\"row\">\n                        <div className=\"col-md-6\">\n                            <label>Added By:</label>\n                        </div>\n                        <div className=\"col-md-6\">\n                            <p><Link to={`${bookerId}`}>{bookerName} </Link></p>\n                        </div>\n                    </div>\n                    <div className=\"row\">\n                        <div className=\"col-md-6\">\n                            <label>Added On:</label>\n                        </div>\n                        <div className=\"col-md-6\">\n                            <p>{new Date(book.created).toDateString()}</p>\n                        </div>\n                    </div>\n                    <hr className=\"dashed\"></hr>\n                    {isAuthenticated().user && (\n                    <div className=\"row\">\n                    <div className=\"col\">\n                    {like ? (\n                    <p onClick={this.likeToggle}>                        \n                        <FontAwesomeIcon className=\"text-success\" size=\"2x\" icon={faThumbsUp} />{' '}\n                        {' '}\n                        {likes} Like\n                    </p>\n                ) : (\n                    <p onClick={this.likeToggle}>\n                        <FontAwesomeIcon size=\"2x\" icon={faThumbsUp} />{' '}\n                        {likes} Like\n                    </p>\n                )}\n                    </div>\n                    <div className=\"col\">\n\n                    <CollectionsModal show={show} onClose={this.showModal} book={book}></CollectionsModal>\n                    <p onClick={this.handleOpen} variant=\"primary\">                        \n                        <FontAwesomeIcon size=\"2x\" icon={faPlusCircle} />\n                        {' '}\n                        Add to collection\n                    </p>\n                    </div>\n                    </div>\n                    )}\n                </div>\n                </div>\n                <br />\n                <div className=\"d-inline-block\">\n\n\n                    {isAuthenticated().user && isAuthenticated().user._id === book.createdBy._id && (\n                        <>\n                            <Link to={`/book/edit/${book._id}`} className=\"btn btn-raised btn-warning btn-sm mr-5\">\n                                Update Book\n                            </Link>\n                            <button onClick={this.deleteConfirmed} className=\"btn btn-raised btn-danger\">\n                                Delete Book\n                            </button>\n                        </>\n                    )}\n\n                    <div>\n                        {isAuthenticated().user && isAuthenticated().user.role === 'admin' && (\n                            <div className=\"card mt-5\">\n                                <div className=\"card-body\">\n                                    <h5 className=\"card-title\">Admin</h5>\n                                    <p className=\"mb-2 text-danger\">Edit/Delete as an Admin</p>\n                                    <Link\n                                        to={`/book/edit/${book._id}`}\n                                        className=\"btn btn-raised btn-warning btn-sm mr-5\"\n                                    >\n                                        Update Book\n                                    </Link>\n                                    <button onClick={this.deleteConfirmed} className=\"btn btn-raised btn-danger\">\n                                        Delete Book\n                                    </button>\n                                </div>\n                            </div>\n                        )}\n                    </div>\n                </div>\n                <Comment bookId={book._id} comments={comments.reverse()} updateComments={this.updateComments} />\n            \n            </div>\n        );\n    };\n\n    render() {\n        const { book, redirectToHome, redirectToSignin, loading } = this.state;\n\n        if (redirectToHome ) {\n            return <Redirect to={`/`} />;\n        } else if (redirectToSignin) {\n            return <Redirect to={`/signin`} />;\n        }\n\n        return (\n            <div className=\"container\">\n                {loading ? (\n                    <div className=\"jumbotron text-center\">\n                        <h2>Loading...</h2>\n                    </div>\n                ) : \n                        book ? (this.renderBook(book)) : (\n                        <div className=\"text-center\">\n                        <h2>No results</h2>\n                    </div>\n                    )\n                    \n                }\n\n          </div>      \n        );\n    }\n}\n\nexport default SingleBook;\n","import React, { Component } from \"react\";\nimport { fullList } from \"./apiBook\";\nimport DefaultBook from \"../images/mountains.jpg\";\nimport { Link } from \"react-router-dom\";\n\nclass BooksFull extends Component {\n    constructor() {\n        super();\n        this.state = {\n            books: [],\n            loading: false\n        };\n    }\n\n    loadBooks = page => {\n        this.setState({loading: true})\n        fullList(page).then(data => {\n            if (!data) {\n                this.setState({ books: [] });\n            } else {\n                this.setState({ books: data, loading: false });\n            }\n        });\n    };\n\n    componentDidMount() {\n        this.loadBooks(this.state.page);\n    }\n\n    loadMore = number => {\n        this.setState({ page: this.state.page + number });\n        this.loadBooks(this.state.page + number);\n    };\n\n    loadLess = number => {\n        this.setState({ page: this.state.page - number });\n        this.loadBooks(this.state.page - number);\n    };\n\n    renderBooks = books => {\n        return (\n            <div className=\"row\">\n                {books.map((book, i) => {\n                    const bookerId = book.createdBy\n                        ? `/user/${book.createdBy._id}`\n                        : \"\";\n                    const bookerName = book.createdBy\n                        ? book.createdBy.name\n                        : \" Unknown\";\n\n                    return (\n                        <div className=\"card col-md-3 mr-3 mt-3\" key={i}>\n                            <div className=\"card-body\">\n                                <img\n                                    src={book.photo}\n                                    alt={book.title}\n                                    onError={i =>\n                                        (i.target.src = `${DefaultBook}`)\n                                    }\n                                    className=\"img-thunbnail mb-3\"\n                                    style={{ height: \"150px\", width: \"auto\" }}\n                                />\n                                <h5 className=\"card-title\">{book.title}</h5>\n                                <p className=\"card-text\">\n                                    {book.editorial.substring(0, 100)}\n                                </p>\n                                <br />\n                                <p className=\"font-italic\">\n                                    Posted by{\" \"}\n                                    <Link to={`${bookerId}`}>\n                                        {bookerName}{\" \"}\n                                    </Link>\n                                    on {new Date(book.created).toDateString()}\n                                </p>\n                                <Link\n                                    to={`/book/${book._id}`}\n                                    className=\"btn btn-raised btn-primary btn-sm\"\n                                >\n                                    Read more\n                                </Link>\n                            </div>\n                        </div>\n                    );\n                })}\n            </div>\n        );\n    };\n\n    render() {\n        const { books, page, loading } = this.state;\n        return (\n            <div className=\"container\">\n\n                {loading ? (\n                    <div className=\"jumbotron text-center\">\n                        <h2>Loading...</h2>\n                    </div>\n                ) : (\n                    <>\n                    <h2 className=\"mt-5 mb-5\">\n                    {!books.length ? \"No books!\" : \"Recent Books\"}\n                    </h2>\n                    \n                    <div>\n                    {this.renderBooks(books)}\n                    </div>\n                    </>\n                )}\n                \n\n            </div>\n        );\n    }\n}\n\nexport default BooksFull;\n","import React, { Component } from \"react\";\nimport { Route, Redirect } from \"react-router-dom\";\nimport { isAuthenticated } from \"./index\";\n\nconst PrivateRoute = ({ component: Component, ...rest }) => (\n    // props means components passed down to this pricate route component\n    <Route\n        {...rest}\n        render={props =>\n            isAuthenticated() ? (\n                <Component {...props} />\n            ) : (\n                <Redirect\n                    to={{\n                        pathname: \"/signin\",\n                        state: { from: props.location }\n                    }}\n                />\n            )\n        }\n    />\n);\n\nexport default PrivateRoute;\n","import React, { Component } from \"react\";\nimport { forgotPassword } from \"../auth\";\n\nclass ForgotPassword extends Component {\n    state = {\n        email: \"\",\n        message: \"\",\n        error: \"\"\n    };\n\n    forgotPassword = e => {\n        e.preventDefault();\n        this.setState({ message: \"\", error: \"\" });\n        forgotPassword(this.state.email).then(data => {\n            if (data.error) {\n                console.log(data.error);\n                this.setState({ error: data.error });\n            } else {\n                console.log(data.message);\n                this.setState({ message: data.message });\n            }\n        });\n    };\n\n    render() {\n        return (\n            <div className=\"container\">\n                <h2 className=\"mt-5 mb-5\">Ask for Password Reset</h2>\n\n                {this.state.message && (\n                    <h4 className=\"bg-success\">{this.state.message}</h4>\n                )}\n                {this.state.error && (\n                    <h4 className=\"bg-warning\">{this.state.error}</h4>\n                )}\n\n                <form>\n                    <div className=\"form-group mt-5\">\n                        <input\n                            type=\"email\"\n                            className=\"form-control\"\n                            placeholder=\"Your email address\"\n                            value={this.state.email}\n                            name=\"email\"\n                            onChange={e =>\n                                this.setState({\n                                    email: e.target.value,\n                                    message: \"\",\n                                    error: \"\"\n                                })\n                            }\n                            autoFocus\n                        />\n                    </div>\n                    <button\n                        onClick={this.forgotPassword}\n                        className=\"btn btn-raised btn-primary\"\n                    >\n                        Send Password Rest Link\n                    </button>\n                </form>\n            </div>\n        );\n    }\n}\n\nexport default ForgotPassword;\n","import React, { Component } from \"react\";\nimport { resetPassword } from \"../auth\";\n\nclass ResetPassword extends Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            newPassword: \"\",\n            message: \"\",\n            error: \"\"\n        };\n    }\n\n    resetPassword = e => {\n        e.preventDefault();\n        this.setState({ message: \"\", error: \"\" });\n\n        resetPassword({\n            newPassword: this.state.newPassword,\n            resetPasswordLink: this.props.match.params.resetPasswordToken\n        }).then(data => {\n            if (data.error) {\n                console.log(data.error);\n                this.setState({ error: data.error, newPassword: \"\" });\n            } else {\n                console.log(data.message);\n                this.setState({ message: data.message, newPassword: \"\" });\n            }\n        });\n    };\n\n    render() {\n        return (\n            <div className=\"container\">\n                <h2 className=\"mt-5 mb-5\">Reset your Password</h2>\n\n                {this.state.message && (\n                    <h4 className=\"bg-success\">{this.state.message}</h4>\n                )}\n                {this.state.error && (\n                    <h4 className=\"bg-warning\">{this.state.error}</h4>\n                )}\n\n                <form\n                    style={{ display: this.state.message.length ? \"none\" : \"\" }}\n                >\n                    <div className=\"form-group mt-5\">\n                        <input\n                            type=\"password\"\n                            className=\"form-control\"\n                            placeholder=\"Your new password\"\n                            value={this.state.newPassword}\n                            name=\"newPassword\"\n                            onChange={e =>\n                                this.setState({\n                                    newPassword: e.target.value,\n                                    message: \"\",\n                                    error: \"\"\n                                })\n                            }\n                            autoFocus\n                        />\n                    </div>\n                    <button\n                        onClick={this.resetPassword}\n                        className=\"btn btn-raised btn-primary\"\n                    >\n                        Reset Password\n                    </button>\n                </form>\n            </div>\n        );\n    }\n}\n\nexport default ResetPassword;\n","import React, { Component } from \"react\";\nimport DefaultProfile from \"../images/avatar.jpg\";\nimport { Link } from \"react-router-dom\";\n\nclass FinderTabs extends Component {\n    render() {\n        const { users, books, collections } = this.props;\n        console.log(users.length)\n        return (\n            <div>\n\n                    {books.length==0 && users.length==0 && collections.length==0 ? (\n                        <div className=\"text-center\">\n                        <h2>No results</h2>\n                    </div>\n                    ) : (\n\n                    \n                    \n            \n                <div className=\"row\">\n                    <div className=\"col-md-4\">\n                        <h3 className=\"text-primary\">\n                            {users.length} Users\n                        </h3>\n                        <hr />\n                        {users.map((person, i) => (\n                            <div key={i}>\n                                <div>\n                                    <Link to={`/user/${person._id}`}>\n                                        <img\n                                            style={{\n                                                borderRadius: \"50%\",\n                                                border: \"1px solid black\"\n                                            }}\n                                            className=\"float-left mr-2\"\n                                            height=\"30px\"\n                                            width=\"30px\"\n                                            onError={i =>\n                                                (i.target.src = `${DefaultProfile}`)\n                                            }\n                                            src={`${\n                                                process.env.REACT_APP_API_URL\n                                            }/user/photo/${person._id}`}\n                                            alt={person.name}\n                                        />\n                                        <div>\n                                            <p className=\"lead\">\n                                                {person.name}\n                                            </p>\n                                        </div>\n                                    </Link>\n                                </div>\n                            </div>\n                        ))}\n                    </div>\n                    <div className=\"col-md-4\">\n                        <h3 className=\"text-primary\">{collections.length} Collections</h3>\n                        <hr />\n                        {collections.map((collection, i) => (\n                            <div key={i}>\n                                <div>\n                                    <Link to={`/collection/${collection._id}`}>\n                                        <div>\n                                            <p className=\"lead\">{collection.name}</p>\n                                        </div>\n                                    </Link>\n                                </div>\n                            </div>\n                        ))}\n                    </div>\n                    <div className=\"col-md-4\">\n                        <h3 className=\"text-primary\">{books.length} Books</h3>\n                        <hr />\n                        {books.map((book, i) => (\n                            <div key={i}>\n                                <div>\n                                    <Link to={`/book/${book._id}`}>\n                                        <div>\n                                            <p className=\"lead\">{book.title}</p>\n                                        </div>\n                                    </Link>\n                                </div>\n                            </div>\n                        ))}\n                    </div>\n                </div>\n            )}\n            </div>\n            \n        );\n    }\n}\n\nexport default FinderTabs;\n","import React, { Component } from \"react\";\nimport { isAuthenticated } from \"../auth\";\nimport { Redirect, Link } from \"react-router-dom\";\nimport { findUsers } from \"../user/apiUser\";\nimport FinderTabs from \"./FinderTabs\";\nimport { findBooks } from \"../book/apiBook\";\nimport { findCollections } from \"../collection/apiCollection\";\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\nimport { faSearch } from '@fortawesome/free-solid-svg-icons'\n\nclass Finder extends Component {\n  constructor() {\n    super();\n    this.state = {\n      redirectToSignin: false,\n      error: \"\",\n      search: \"\",\n      loading: \"\",\n      books: [],\n      collections: [],\n      users: [],\n      loading: false\n    };\n  }\n\n  componentDidMount() {\n    this.searchData = new FormData();\n    if(this.props.location.state != undefined){\n      this.setState({\n        search: this.props.location.state.search, loading: true\n      }, this.init(this.props.location.state.search));\n\n    } \n    \n    }\n\n  init = search => {\n        console.log(search)\n        this.loadUsers(search);\n        this.loadBooks(search);\n        this.loadCollections(search);\n      \n  };\n\n  isValid = () => {\n    const { search } = this.state;\n\n    if (search.length === 0) {\n        this.setState({ error: \"All fields are required\", loading: false });\n        return false;\n    }\n    return true;\n};\n\n  loadBooks = search => {\n    const token = isAuthenticated().token;\n    findBooks(search, token).then(data => {\n      if (data.error) {\n        console.log(data.error);\n      } else {\n        this.setState({ books: data });\n      }\n    });\n  };\n\n  loadCollections = search => {\n    const token = isAuthenticated().token;\n    findCollections(search, token).then(data => {\n      if (data.error) {\n        console.log(data.error);\n      } else {\n        this.setState({ collections: data });\n      }\n    });\n  };\n\n  loadUsers = search => {\n    const token = isAuthenticated().token;\n    findUsers(search, token).then(data => {\n      if (data.error) {\n        console.log(data.error);\n      } else {\n        this.setState({ users: data, loading: false });\n      }\n    });\n  };\n\n    \n    handleChange = name => event => {\n    this.setState({ error: \"\" });\n    const value = event.target.value;\n\n    this.searchData.set(name, value);\n    this.setState({ [name]: value });\n    };\n\n    clickSearch = event => {\n      \n        event.preventDefault();\n        this.setState({ loading: true });\n\n        if (this.isValid()) {\n            const userId = isAuthenticated().user._id;\n            const token = isAuthenticated().token;\n\n            this.init(this.state.search);\n        }\n    };\n\n\n  render() {\n    const { redirectToSignin, users, books, collections, search, loading } = this.state;\n    if (redirectToSignin) return <Redirect to=\"/signin\" />;\n\n\n\n    return (\n      <div className=\"container\">\n        <div className=\"row justify-content-center\">\n                        <div className=\"col-12 col-md-10 col-lg-8 mt-5 mb-5\">\n                            <form className=\"card card-sm\">\n                                <div className=\"card-body row no-gutters align-items-center\">\n                                    <div className=\"col\">\n                                        <input className=\"form-control form-control-lg form-control-borderless\" value={search} onChange={this.handleChange(\"search\")} type=\"search\" placeholder=\"     Search for books, collections or users\"/>\n                                    </div>\n                                    <div className=\"col-auto\">\n                                        <button className=\"btn btn-lg ml-2\" onClick={this.clickSearch}><FontAwesomeIcon icon={faSearch} size=\"2x\"/></button>\n                                    </div>\n                                </div>\n                            </form>\n                        </div>\n        </div>\n        {this.state.search ? (\n        <div className=\"row\">\n            <div className=\"col-12\">\n            {loading ? (\n                                 <div className=\"jumbotron text-center\">\n                                 <h2>Loading...</h2>\n                             </div>\n            ) : (\n              \n              <FinderTabs\n              users={users}\n              books={books}\n              collections={collections}\n            />\n            )}\n\n            </div>\n        </div>\n        ):<div/>}\n      </div>\n    );\n  }\n}\n\nexport default Finder;\n","import React, { Component } from \"react\";\nimport { list } from \"./apiPost\";\nimport DefaultPost from \"../images/mountains.jpg\";\nimport { Link } from \"react-router-dom\";\n\nclass Posts extends Component {\n    constructor() {\n        super();\n        this.state = {\n            posts: [],\n            page: 1\n        };\n    }\n\n    loadPosts = page => {\n        list(page).then(data => {\n            if (data.error) {\n                console.log(data.error);\n            } else {\n                this.setState({ posts: data });\n            }\n        });\n    };\n\n    componentDidMount() {\n        this.loadPosts(this.state.page);\n    }\n\n    loadMore = number => {\n        this.setState({ page: this.state.page + number });\n        this.loadPosts(this.state.page + number);\n    };\n\n    loadLess = number => {\n        this.setState({ page: this.state.page - number });\n        this.loadPosts(this.state.page - number);\n    };\n\n    renderPosts = posts => {\n        return (\n            <div className=\"row\">\n                {posts.map((post, i) => {\n                    const posterId = post.postedBy\n                        ? `/user/${post.postedBy._id}`\n                        : \"\";\n                    const posterName = post.postedBy\n                        ? post.postedBy.name\n                        : \" Unknown\";\n\n                    return (\n                        <div className=\"card col-md-4\" key={i}>\n                            <div className=\"card-body\">\n                                <img\n                                    src={`${\n                                        process.env.REACT_APP_API_URL\n                                    }/post/photo/${post._id}`}\n                                    alt={post.title}\n                                    onError={i =>\n                                        (i.target.src = `${DefaultPost}`)\n                                    }\n                                    className=\"img-thunbnail mb-3\"\n                                    style={{ height: \"200px\", width: \"100%\" }}\n                                />\n                                <h5 className=\"card-title\">{post.title}</h5>\n                                <p className=\"card-text\">\n                                    {post.body.substring(0, 100)}\n                                </p>\n                                <br />\n                                <p className=\"font-italic mark\">\n                                    Posted by{\" \"}\n                                    <Link to={`${posterId}`}>\n                                        {posterName}{\" \"}\n                                    </Link>\n                                    on {new Date(post.created).toDateString()}\n                                </p>\n                                <Link\n                                    to={`/post/${post._id}`}\n                                    className=\"btn btn-raised btn-primary btn-sm\"\n                                >\n                                    Read more\n                                </Link>\n                            </div>\n                        </div>\n                    );\n                })}\n            </div>\n        );\n    };\n\n    render() {\n        const { posts, page } = this.state;\n        return (\n            <div className=\"container\">\n                <h2 className=\"mt-5 mb-5\">\n                    {!posts.length ? \"No more posts!\" : \"Recent Posts\"}\n                </h2>\n\n                {this.renderPosts(posts)}\n\n                {page > 1 ? (\n                    <button\n                        className=\"btn btn-raised btn-warning mr-5 mt-5 mb-5\"\n                        onClick={() => this.loadLess(1)}\n                    >\n                        Previous ({this.state.page - 1})\n                    </button>\n                ) : (\n                    \"\"\n                )}\n\n                {posts.length ? (\n                    <button\n                        className=\"btn btn-raised btn-success mt-5 mb-5\"\n                        onClick={() => this.loadMore(1)}\n                    >\n                        Next ({page + 1})\n                    </button>\n                ) : (\n                    \"\"\n                )}\n            </div>\n        );\n    }\n}\n\nexport default Posts;\n","export const create = (userId, token, post) => {\n    return fetch(`${process.env.REACT_APP_API_URL}/post/new/${userId}`, {\n        method: \"POST\",\n        headers: {\n            Accept: \"application/json\",\n            Authorization: `Bearer ${token}`\n        },\n        body: post\n    })\n        .then(response => {\n            return response.json();\n        })\n        .catch(err => console.log(err));\n};\n\n// export const list = () => {\n//     return fetch(`${process.env.REACT_APP_API_URL}/posts`, {\n//         method: \"GET\"\n//     })\n//         .then(response => {\n//             return response.json();\n//         })\n//         .catch(err => console.log(err));\n// };\n\n// with pagination\nexport const list = page => {\n    return fetch(`${process.env.REACT_APP_API_URL}/posts/?page=${page}`, {\n        method: \"GET\"\n    })\n        .then(response => {\n            return response.json();\n        })\n        .catch(err => console.log(err));\n};\n\nexport const singlePost = postId => {\n    return fetch(`${process.env.REACT_APP_API_URL}/post/${postId}`, {\n        method: \"GET\"\n    })\n        .then(response => {\n            return response.json();\n        })\n        .catch(err => console.log(err));\n};\n\nexport const listByUser = (userId, token) => {\n    return fetch(`${process.env.REACT_APP_API_URL}/posts/by/${userId}`, {\n        method: \"GET\",\n        headers: {\n            Accept: \"application/json\",\n            \"Content-Type\": \"application/json\",\n            Authorization: `Bearer ${token}`\n        }\n    })\n        .then(response => {\n            return response.json();\n        })\n        .catch(err => console.log(err));\n};\n\nexport const remove = (postId, token) => {\n    return fetch(`${process.env.REACT_APP_API_URL}/post/${postId}`, {\n        method: \"DELETE\",\n        headers: {\n            Accept: \"application/json\",\n            \"Content-Type\": \"application/json\",\n            Authorization: `Bearer ${token}`\n        }\n    })\n        .then(response => {\n            return response.json();\n        })\n        .catch(err => console.log(err));\n};\n\nexport const update = (postId, token, post) => {\n    console.log(postId, token, post);\n    return fetch(`${process.env.REACT_APP_API_URL}/post/${postId}`, {\n        method: \"PUT\",\n        headers: {\n            Accept: \"application/json\",\n            Authorization: `Bearer ${token}`\n        },\n        body: post\n    })\n        .then(response => {\n            return response.json();\n        })\n        .catch(err => console.log(err));\n};\n\nexport const like = (userId, token, postId) => {\n    return fetch(`${process.env.REACT_APP_API_URL}/post/like`, {\n        method: \"PUT\",\n        headers: {\n            Accept: \"application/json\",\n            \"Content-Type\": \"application/json\",\n            Authorization: `Bearer ${token}`\n        },\n        body: JSON.stringify({ userId, postId })\n    })\n        .then(response => {\n            return response.json();\n        })\n        .catch(err => console.log(err));\n};\n\nexport const unlike = (userId, token, postId) => {\n    return fetch(`${process.env.REACT_APP_API_URL}/post/unlike`, {\n        method: \"PUT\",\n        headers: {\n            Accept: \"application/json\",\n            \"Content-Type\": \"application/json\",\n            Authorization: `Bearer ${token}`\n        },\n        body: JSON.stringify({ userId, postId })\n    })\n        .then(response => {\n            return response.json();\n        })\n        .catch(err => console.log(err));\n};\n\nexport const comment = (userId, token, postId, comment) => {\n    return fetch(`${process.env.REACT_APP_API_URL}/post/comment`, {\n        method: \"PUT\",\n        headers: {\n            Accept: \"application/json\",\n            \"Content-Type\": \"application/json\",\n            Authorization: `Bearer ${token}`\n        },\n        body: JSON.stringify({ userId, postId, comment })\n    })\n        .then(response => {\n            return response.json();\n        })\n        .catch(err => console.log(err));\n};\n\nexport const uncomment = (userId, token, postId, comment) => {\n    return fetch(`${process.env.REACT_APP_API_URL}/post/uncomment`, {\n        method: \"PUT\",\n        headers: {\n            Accept: \"application/json\",\n            \"Content-Type\": \"application/json\",\n            Authorization: `Bearer ${token}`\n        },\n        body: JSON.stringify({ userId, postId, comment })\n    })\n        .then(response => {\n            return response.json();\n        })\n        .catch(err => console.log(err));\n};\n\n\n","import React, { Component } from \"react\";\nimport Posts from \"../post/Posts\";\nimport Users from \"../user/Users\";\nimport { isAuthenticated } from \"../auth\";\nimport { Redirect } from \"react-router-dom\";\n\nclass Admin extends Component {\n    state = {\n        redirectToHome: false\n    };\n\n    componentDidMount() {\n        if (isAuthenticated().user.role !== \"admin\") {\n            this.setState({ redirectToHome: true });\n        }\n    }\n\n    render() {\n        if (this.state.redirectToHome) {\n            return <Redirect to=\"/\" />;\n        }\n\n        return (\n            <div>\n                <div className=\"jumbotron\">\n                    <h2>Admin Dashboard</h2>\n                    <p className=\"lead\">Welcome to React Frontend</p>\n                </div>\n                <div className=\"container-fluid\">\n                    <div className=\"row\">\n                        <div className=\"col-md-6\">\n                            <h2>Posts</h2>\n                            <hr />\n                            <Posts />\n                        </div>\n                        <div className=\"col-md-6\">\n                            <h2>Users</h2>\n                            <hr />\n                            <Users />\n                        </div>\n                    </div>\n                </div>\n            </div>\n        );\n    }\n}\n\nexport default Admin;\n","import React from \"react\";\nimport { Route, Switch } from \"react-router-dom\";\nimport Home from \"./core/Home\";\nimport Menu from \"./core/Menu\";\nimport NavBar from './core/NavbarPage';\nimport Signup from \"./user/Signup\";\nimport Signin from \"./user/Signin\";\nimport Profile from \"./user/Profile\";\nimport Users from \"./user/Users\";\nimport EditProfile from \"./user/EditProfile\";\nimport FindPeople from \"./user/FindPeople\";\nimport NewCollection from \"./collection/NewCollection\";\nimport EditCollection from \"./collection/EditCollection\";\nimport SingleCollection from \"./collection/SingleCollection\";\nimport NewBook from \"./book/NewBook\";\nimport EditBook from \"./book/EditBook\";\nimport SingleBook from \"./book/SingleBook\";\nimport BooksFull from \"./book/BooksFull\"\nimport PrivateRoute from \"./auth/PrivateRoute\";\nimport ForgotPassword from \"./user/ForgotPassword\";\nimport ResetPassword from \"./user/ResetPassword\";\nimport Finder from \"./core/Finder\";\nimport Admin from \"./admin/Admin\";\n\nconst MainRouter = () => (\n    <div>\n        <NavBar />\n        <Switch>\n            <Route exact path=\"/\" component={Home} />\n            <PrivateRoute exact path=\"/admin\" component={Admin} />\n            <Route exact path=\"/forgot-password\" component={ForgotPassword} />\n            <Route\n                exact\n                path=\"/reset-password/:resetPasswordToken\"\n                component={ResetPassword}\n            />\n            <PrivateRoute exact path=\"/collection/create\" component={NewCollection} />\n            <Route exact path=\"/collection/:collectionId\" component={SingleCollection} />\n            <PrivateRoute\n                exact\n                path=\"/collection/edit/:collectionId\"\n                component={EditCollection}\n            />\n             <PrivateRoute exact path=\"/book/create\" component={NewBook} />\n             <Route exact path=\"/books\" component={BooksFull} />\n            <Route exact path=\"/book/:bookId\" component={SingleBook} />\n            <PrivateRoute\n                exact\n                path=\"/book/edit/:bookId\"\n                component={EditBook}\n            />\n            <Route exact path=\"/users\" component={Users} />\n            <Route exact path=\"/signup\" component={Signup} />\n            <Route exact path=\"/signin\" component={Signin} />\n            <PrivateRoute\n                exact\n                path=\"/user/edit/:userId\"\n                component={EditProfile}\n            />\n            <PrivateRoute exact path=\"/findpeople\" component={FindPeople} />\n            <PrivateRoute exact path=\"/user/:userId\" component={Profile} />\n            <PrivateRoute exact path=\"/finder\" component={Finder} />\n        </Switch>\n    </div>\n);\n\nexport default MainRouter;\n","import React from \"react\";\nimport { HashRouter } from \"react-router-dom\";\nimport MainRouter from \"./MainRouter\";\n\n\n\n\nconst App = () => (\n    <HashRouter>\n        <MainRouter />\n    </HashRouter>\n);\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./App\";\nimport { BrowserRouter as Router } from 'react-router-dom';\n\n\nReactDOM.render(<Router basename={process.env.PUBLIC_URL}><App /></Router>, document.getElementById(\"root\"));\n","module.exports = __webpack_public_path__ + \"static/media/avatar.b23d5960.jpg\";","module.exports = __webpack_public_path__ + \"static/media/mountains.586806cd.jpg\";"],"sourceRoot":""}